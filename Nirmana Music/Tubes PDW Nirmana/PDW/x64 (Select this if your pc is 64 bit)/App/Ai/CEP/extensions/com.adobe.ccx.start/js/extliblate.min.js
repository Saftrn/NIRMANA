function SpectreTab(t,e){t&&t.addEventListener("click",function(n){if(n.preventDefault(),e.resetTabState_(),e.resetPanelState_(),e.resetLine_(t),t.classList.add(e.CssClasses_.ACTIVE_CLASS),t.href){var s=t.href.split("#")[1],i=e.element_.querySelector("#"+s);i&&i.classList.add(e.CssClasses_.ACTIVE_CLASS)}})}!function(t,e){"use strict";function n(t,e,n){var s={};return s[t.key]=e,t.pos&&(s[t.pos]=n),s}function s(t,e){for(var n,s=e.length,i=t.length;s>i;)n=e[--s],e.splice(s,1),n.unmount()}function i(t,e){Object.keys(t.tags).forEach(function(n){var s=t.tags[n];T(s)?f(s,function(t){E(t,n,e)}):E(s,n,e)})}function r(t,e,n){var s,i=t._root;for(t._virts=[];i;)s=i.nextSibling,n?e.insertBefore(i,n._root):e.appendChild(i),t._virts.push(i),i=s}function o(t,e,n,s){for(var i,r=t._root,o=0;o<s;o++)i=r.nextSibling,e.insertBefore(r,n._root),r=i}function a(t,e,a){v(t,"each");var l,u=typeof g(t,"no-reorder")!==Q||v(t,"no-reorder"),h=k(t),p=$[h]||{tmpl:t.outerHTML},d=nt.test(h),f=t.parentNode,_=document.createTextNode(""),m=C(t),y="option"===h.toLowerCase(),b=[],S=[],E="VIRTUAL"==t.tagName;a=at.loopKeys(a),f.insertBefore(_,t),e.one("before-mount",function(){t.parentNode.removeChild(t),f.stub&&(f=e.root)}).on("update",function(){var v=at(a.val,e),g=document.createDocumentFragment();T(v)||(l=v||!1,v=l?Object.keys(v).map(function(t){return n(a,t,v[t])}):[]);for(var C=0,w=v.length;C<w;C++){var I=v[C],k=u&&I instanceof Object&&!l,x=S.indexOf(I),D=~x&&k?x:C,O=b[D];I=!l&&a.key?n(a,I,C):I,!k&&!O||k&&!~x||!O?(O=new c(p,{parent:e,isLoop:!0,hasImpl:!!$[h],root:d?f:t.cloneNode(),item:I},t.innerHTML),O.mount(),E&&(O._root=O.root.firstChild),C!=b.length&&b[C]?(E?r(O,f,b[C]):f.insertBefore(O.root,b[C].root),S.splice(C,0,I)):E?r(O,g):g.appendChild(O.root),b.splice(C,0,O),D=C):O.update(I,!0),D!==C&&k&&b[C]&&(E?o(O,f,b[C],t.childNodes.length):f.insertBefore(O.root,b[C].root),a.pos&&(O[a.pos]=C),b.splice(C,0,b.splice(D,1)[0]),S.splice(C,0,S.splice(D,1)[0]),!m&&O.tags&&i(O,C)),O._item=I,L(O,"_parent",e)}if(s(v,b),y){if(f.appendChild(g),rt&&!f.multiple)for(var A=0;A<f.length;A++)if(f[A].__riot1374){f.selectedIndex=A,delete f[A].__riot1374;break}}else f.insertBefore(g,_);m&&(e.tags[h]=b),S=v.slice()})}function l(t,e,n,s){P(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||g(t,"each")?1:0,n){var i=C(t);i&&!t.isLoop&&n.push(w(i,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!s||F(t,e,[])}})}function u(t,e,n){function s(t,e,s){at.hasExpr(e)&&n.push(x({dom:t,expr:e},s))}P(t,function(t){var n,i=t.nodeType;if(3==i&&"STYLE"!=t.parentNode.tagName&&s(t,t.nodeValue),1==i)return(n=g(t,"each"))?(a(t,e,n),!1):(f(t.attributes,function(e){var n=e.name,i=n.split("__")[1];if(s(t,e.value,{attr:i||n,bool:i}),i)return v(t,n),!1}),!C(t)&&void 0)})}function c(t,n,s){function i(){var t=E&&S?p:C||p;f(R.attributes,function(e){var n=e.value;g[y(e.name)]=at.hasExpr(n)?at(n,t):n}),f(Object.keys(B),function(e){g[y(e)]=at(B[e],t)})}function r(t){for(var e in w)typeof p[e]!==tt&&O(p,e)&&(p[e]=t[e])}function o(){p.parent&&S&&f(Object.keys(p.parent),function(t){var e=!D(st,t)&&D(H,t);(typeof p[t]===tt||e)&&(e||H.push(t),p[t]=p.parent[t])})}function a(t){p.update(t,!0)}function c(t){if(f(P,function(e){e[t?"mount":"unmount"]()}),C){var e=t?"on":"off";S?C[e]("unmount",p.unmount):C[e]("update",a)[e]("unmount",p.unmount)}}var h,p=q.observable(this),g=U(n.opts)||{},C=n.parent,S=n.isLoop,E=n.hasImpl,w=A(n.item),k=[],P=[],R=n.root,M=R.tagName.toLowerCase(),B={},H=[];t.name&&R._tag&&R._tag.unmount(!0),this.isMounted=!1,R.isLoop=S,R._tag=this,L(this,"_riot_id",++z),x(this,{parent:C,root:R,opts:g,tags:{}},w),f(R.attributes,function(t){var e=t.value;at.hasExpr(e)&&(B[t.name]=e)}),h=lt(t.tmpl,s),L(this,"update",function(t,e){return t=A(t),o(),t&&m(w)&&(r(t),w=t),x(p,t),i(),p.trigger("update",t),d(k,p),e&&p.parent?p.parent.one("updated",function(){p.trigger("updated")}):ct(function(){p.trigger("updated")}),this}),L(this,"mixin",function(){return f(arguments,function(t){var e;t=typeof t===Q?q.mixin(t):t,_(t)?(e=new t,t=t.prototype):e=t,f(Object.getOwnPropertyNames(t),function(t){"init"!=t&&(p[t]=_(e[t])?e[t].bind(p):e[t])}),e.init&&e.init.bind(p)()}),this}),L(this,"mount",function(){i();var e=q.mixin(G);if(e&&p.mixin(e),t.fn&&t.fn.call(p,g),u(h,p,k),c(!0),t.attrs&&N(t.attrs,function(t,e){b(R,t,e)}),(t.attrs||E)&&u(p.root,p,k),p.parent&&!S||p.update(w),p.trigger("before-mount"),S&&!E)R=h.firstChild;else{for(;h.firstChild;)R.appendChild(h.firstChild);R.stub&&(R=C.root)}L(p,"root",R),S&&l(p.root,p.parent,null,!0),!p.parent||p.parent.isMounted?(p.isMounted=!0,p.trigger("mount")):p.parent.one("mount",function(){j(p.root)||(p.parent.isMounted=p.isMounted=!0,p.trigger("mount"))})}),L(this,"unmount",function(t){var n,s=R,i=s.parentNode,r=W.indexOf(p);if(p.trigger("before-unmount"),~r&&W.splice(r,1),i){if(C)n=I(C),T(n.tags[M])?f(n.tags[M],function(t,e){t._riot_id==p._riot_id&&n.tags[M].splice(e,1)}):n.tags[M]=e;else for(;s.firstChild;)s.removeChild(s.firstChild);t?(v(i,J),v(i,Y)):i.removeChild(s)}this._virts&&f(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),p.trigger("unmount"),c(),p.off("*"),p.isMounted=!1,delete R._tag}),l(h,this,P)}function h(e,n,s,i){s[e]=function(e){var r,o=i._parent,a=i._item;if(!a)for(;o&&!a;)a=o._item,o=o._parent;e=e||t.event,O(e,"currentTarget")&&(e.currentTarget=s),O(e,"target")&&(e.target=e.srcElement),O(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=a,n.call(i,e)===!0||/radio|check/.test(s.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(r=a?I(o):i,r.update())}}function p(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function d(t,e){f(t,function(t,n){var s=t.dom,i=t.attr,r=at(t.expr,e),o=t.dom.parentNode;if(t.bool?r=!!r:null==r&&(r=""),t.value!==r){if(t.value=r,!i)return r+="",void(o&&("TEXTAREA"===o.tagName?(o.value=r,it||(s.nodeValue=r)):s.nodeValue=r));if("value"===i)return void(s.value=r);if(v(s,i),_(r))h(i,r,s,e);else if("if"==i){var a=t.stub,l=function(){p(a.parentNode,a,s)},u=function(){p(s.parentNode,s,a)};r?a&&(l(),s.inStub=!1,j(s)||P(s,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(a=t.stub=a||document.createTextNode(""),s.parentNode?u():(e.parent||e).one("updated",u),s.inStub=!0)}else"show"===i?s.style.display=r?"":"none":"hide"===i?s.style.display=r?"none":"":t.bool?(s[i]=r,r&&b(s,i,i),rt&&"selected"===i&&"OPTION"===s.tagName&&(s.__riot1374=r)):(0===r||r&&typeof r!==Z)&&(V(i,X)&&i!=Y&&(i=i.slice(X.length)),b(s,i,r))}})}function f(t,e){for(var n,s=t?t.length:0,i=0;i<s;i++)n=t[i],null!=n&&e(n,i)===!1&&i--;return t}function _(t){return typeof t===et||!1}function m(t){return t&&typeof t===Z}function v(t,e){t.removeAttribute(e)}function y(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function g(t,e){return t.getAttribute(e)}function b(t,e,n){t.setAttribute(e,n)}function C(t){return t.tagName&&$[g(t,J)||g(t,Y)||t.tagName.toLowerCase()]}function S(t,e,n){var s=n.tags[e];s?(T(s)||s!==t&&(n.tags[e]=[s]),D(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function E(t,e,n){var s,i=t.parent;i&&(s=i.tags[e],T(s)?s.splice(n,0,s.splice(s.indexOf(t),1)[0]):S(t,e,i))}function w(t,e,n,s){var i=new c(t,e,n),r=k(e.root),o=I(s);return i.parent=o,i._parent=s,S(i,r,o),o!==s&&S(i,r,s),e.root.innerHTML="",i}function I(t){for(var e=t;!C(e.root)&&e.parent;)e=e.parent;return e}function L(t,e,n,s){return Object.defineProperty(t,e,x({value:n,enumerable:!1,writable:!1,configurable:!0},s)),t}function k(t){var e=C(t),n=g(t,"name"),s=n&&!at.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return s}function x(t){for(var e,n=arguments,s=1;s<n.length;++s)if(e=n[s])for(var i in e)O(t,i)&&(t[i]=e[i]);return t}function D(t,e){return~t.indexOf(e)}function T(t){return Array.isArray(t)||t instanceof Array}function O(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===tt||n&&n.writable}function A(t){if(!(t instanceof c||t&&typeof t.trigger==et))return t;var e={};for(var n in t)D(st,n)||(e[n]=t[n]);return e}function P(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)P(t,e),t=t.nextSibling}}function N(t,e){for(var n,s=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=s.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function j(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function R(t){return document.createElement(t)}function M(t,e){return(e||document).querySelectorAll(t)}function B(t,e){return(e||document).querySelector(t)}function U(t){function e(){}return e.prototype=t,new e}function H(t){return g(t,"id")||g(t,"name")}function F(t,e,n){var s,i=H(t),r=function(r){D(n,i)||(s=T(r),r?(!s||s&&!D(r,t))&&(s?r.push(t):e[i]=[r,t]):e[i]=t)};i&&(at.hasExpr(i)?e.one("mount",function(){i=H(t),r(e[i])}):r(e[i]))}function V(t,e){return t.slice(0,e.length)===e}function K(t,e,n){var s=$[e],i=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",s&&t&&(s=new c(s,{root:t,opts:n},i)),s&&s.mount&&(s.mount(),D(W,s)||W.push(s)),s}var q={version:"v2.3.18",settings:{}},z=0,W=[],$={},G="__global_mixin",X="riot-",Y=X+"tag",J="data-is",Q="string",Z="object",tt="undefined",et="function",nt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,st=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],it=0|(t&&t.document||{}).documentMode,rt=t&&!!t.InstallTrigger;q.observable=function(t){t=t||{};var e={},n=Array.prototype.slice,s=function(t,e){t.replace(/\S+/g,e)};return Object.defineProperties(t,{on:{value:function(n,i){return"function"!=typeof i?t:(s(n,function(t,n){(e[t]=e[t]||[]).push(i),i.typed=n>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,i){return"*"!=n||i?s(n,function(t){if(i)for(var n,s=e[t],r=0;n=s&&s[r];++r)n==i&&s.splice(r--,1);else delete e[t]}):e={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function s(){t.off(e,s),n.apply(t,arguments)}return t.on(e,s)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){for(var r,o=arguments.length-1,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l+1];return s(i,function(s){r=n.call(e[s]||[],0);for(var i,o=0;i=r[o];++o){if(i.busy)return;i.busy=1,i.apply(t,i.typed?[s].concat(a):a),r[o]!==i&&o--,i.busy=0}e["*"]&&"*"!=s&&t.trigger.apply(t,["*",s].concat(a))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(e){function n(t){return t.split(/[\/?#]/)}function s(t,e){var n=new RegExp("^"+e[w](/\*/g,"([^/?#]+?)")[w](/\.\./,".*")+"$"),s=t.match(n);if(s)return s.slice(1)}function i(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function r(t){f=i(h,1),D[S](I,f),D[S](L,f),T[S](N,p),t&&h(!0)}function o(){this.$=[],e.observable(this),R.on("stop",this.s.bind(this)),R.on("emit",this.e.bind(this))}function a(t){return t[w](/^\/|\/$/,"")}function l(t){return"string"==typeof t}function u(t){return(t||A.href)[w](g,"")}function c(t){return"#"==_[0]?(t||A.href||"").split(_)[1]||"":(A?u(t):t||"")[w](_,"")}function h(t){var e=0==U;if(!(x<=U)&&(U++,B.push(function(){var e=c();(t||e!=m)&&(R[k]("emit",e),m=e)}),e)){for(;B.length;)B[0](),B.shift();U=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[E]("download")||!e[E]("href")||e.target&&"_self"!=e.target||e.href.indexOf(A.href.match(g)[0])==-1||(e.href==A.href||e.href.split("#")[0]!=A.href.split("#")[0]&&("#"==_||0===u(e.href).indexOf(_))&&d(c(e.href),e.title||T.title))&&t.preventDefault()}}function d(t,e,n){return O?(t=_+a(t),e=e||T.title,n?O.replaceState(null,e,t):O.pushState(null,e,t),T.title=e,M=!1,h(),M):R[k]("emit",c(t))}var f,_,m,v,y,g=/^.+?\/\/+[^\/]+/,b="EventListener",C="remove"+b,S="add"+b,E="hasAttribute",w="replace",I="popstate",L="hashchange",k="trigger",x=3,D="undefined"!=typeof t&&t,T="undefined"!=typeof document&&document,O=D&&history,A=D&&(O.location||D.location),P=o.prototype,N=T&&T.ontouchstart?"touchstart":"click",j=!1,R=e.observable(),M=!1,B=[],U=0;P.m=function(t,e,n){!l(t)||e&&!l(e)?e?this.r(t,e):this.r("@",t):d(t,e,n||!1)},P.s=function(){this.off("*"),this.$=[]},P.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?v:y)(a(t),a(e));if("undefined"!=typeof n)return this[k].apply(null,[e].concat(n)),M=!0},this)},P.r=function(t,e){"@"!=t&&(t="/"+a(t),this.$.push(t)),this.on(t,e)};var H=new o,F=H.m.bind(H);F.create=function(){var t=new o,e=t.m.bind(t);return e.stop=t.s.bind(t),e},F.base=function(t){_=t||"#",m=c()},F.exec=function(){h(!0)},F.parser=function(t,e){t||e||(v=n,y=s),t&&(v=t),e&&(y=e)},F.query=function(){var t={},e=A.href||m;return e[w](/[?&](.+?)=([^&]*)/g,function(e,n,s){t[n]=s}),t},F.stop=function(){j&&(D&&(D[C](I,f),D[C](L,f),T[C](N,p)),R[k]("stop"),j=!1)},F.start=function(t){j||(D&&("complete"==document.readyState?r(t):D[S]("load",function(){setTimeout(function(){r(t)},1)})),j=!0)},F.base(),F.parser(),e.route=F}(q);var ot=function(t){function e(t){return t}function n(t,e){return e||(e=v),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?u:"")}function s(t){if(t===f)return _;var e=t.split(" ");if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:_[4],e),e[5]=n(t.length>3?/\\({|})/g:_[5],e),e[6]=n(_[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,u),e[8]=t,e}function i(t){return t instanceof RegExp?a(t):v[t]}function r(t){(t||(t=f))!==v[8]&&(v=s(t),a=t===f?e:n,v[9]=a(_[9])),m=t}function o(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:r,get:function(){return m},enumerable:!0}),l=t,r(e)}var a,l,u="g",c=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,h=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=h.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d={"(":RegExp("([()])|"+p,u),"[":RegExp("([[\\]])|"+p,u),"{":RegExp("([{}])|"+p,u)},f="{ }",_=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,u),f,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=t,v=[];return i.split=function(t,e,n){function s(t){e||o?u.push(t&&t.replace(n[5],"$1")):u.push(t)}function i(t,e,n){var s,i=d[e];for(i.lastIndex=n,n=1;(s=i.exec(t))&&(!s[1]||(s[1]===e?++n:--n)););return n?t.length:i.lastIndex}n||(n=v);var r,o,a,l,u=[],c=n[6];for(o=a=c.lastIndex=0;r=c.exec(t);){if(l=r.index,o){if(r[2]){c.lastIndex=i(t,r[2],c.lastIndex);continue}if(!r[3])continue}r[1]||(s(t.slice(a,l)),a=c.lastIndex,c=n[6+(o^=1)],c.lastIndex=a)}return t&&a<t.length&&s(t.slice(a)),u},i.hasExpr=function(t){return v[4].test(t)},i.loopKeys=function(t){var e=t.match(v[9]);return e?{key:e[1],pos:e[2],val:v[0]+e[3].trim()+v[1]}:{val:t.trim()}},i.array=function(t){return t?s(t):v},Object.defineProperty(i,"settings",{set:o,get:function(){return l}}),i.settings="undefined"!=typeof q&&q.settings||{},i.set=r,i.R_STRINGS=h,i.R_MLCOMMS=c,i.S_QBLOCKS=p,i}(),at=function(){function e(t,e){return t?(a[t]||(a[t]=s(t))).call(e,n):t}function n(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function s(t){var e=i(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function i(t){var e,n=[],s=ot.split(t.replace(h,'"'),1);if(s.length>2||s[0]){var i,o,a=[];for(i=o=0;i<s.length;++i)e=s[i],e&&(e=1&i?r(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(a[o++]=e);e=o<2?a[0]:"["+a.join(",")+'].join("")'}else e=r(s[1],0,n);return n[0]&&(e=e.replace(p,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function r(t,e,n){function s(e,n){var s,i=1,r=d[e];for(r.lastIndex=n.lastIndex;s=r.exec(t);)if(s[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:r.lastIndex}if(t=t.replace(c,function(t,e){return t.length>2&&!e?l+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,r=[],a=0;t&&(i=t.match(u))&&!i.index;){var h,p,f=/,|([[{(])|$/g;for(t=RegExp.rightContext,h=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];p=(i=f.exec(t))[1];)s(p,f);p=t.slice(0,i.index),t=RegExp.rightContext,r[a++]=o(p,1,h)}t=a?a>1?"["+r.join(",")+'].join(" ").trim()':r[0]:o(t,e)}return t}function o(t,e,n){var s;return t=t.replace(_,function(t,e,n,i,r){return n&&(i=s?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+f+n,i&&(s="."===(r=r[i])||"("===r||"["===r)):i&&(s=!m.test(r.slice(i)))),t}),s&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(s?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(s?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var a={};e.haveRaw=ot.hasRaw,e.hasExpr=ot.hasExpr,e.loopKeys=ot.loopKeys,e.errorHandler=null;var l="⁗",u=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c=RegExp(ot.S_QBLOCKS,"g"),h=/\u2057/g,p=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},f='"in this?this:'+("object"!=typeof t?"global":"window")+").",_=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(t){return t},e.version=ot.version="v2.3.22",e}(),lt=function ht(){function ht(n,s){var i=n&&n.match(/^\s*<([-\w]+)/),r=i&&i[1].toLowerCase(),o=R("div");return n=e(n,s),a.test(r)?o=t(o,n,r):o.innerHTML=n,o.stub=!0,o}function t(t,e,n){var s="o"===n[0],i=s?"select>":"table>";if(t.innerHTML="<"+i+e.trim()+"</"+i,i=t.firstChild,s)i.selectedIndex=-1;else{var r=o[n];r&&1===i.childElementCount&&(i=B(r,i))}return i}function e(t,e){if(!n.test(t))return t;var o={};return e=e&&e.replace(i,function(t,e,n){return o[e]=o[e]||n,""}).trim(),t.replace(r,function(t,e,n){return o[e]||n||""}).replace(s,function(t,n){return e||n||""})}var n=/<yield\b/i,s=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,i=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,r=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,o={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},a=it&&it<10?nt:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return ht}(),ut=function(e){if(!t)return{add:function(){},inject:function(){}};var n=function(){var t=R("style");b(t,"type","text/css");var e=B("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),s=n.styleSheet,i="";return Object.defineProperty(e,"styleNode",{value:n,writable:!0}),{add:function(t){i+=t},inject:function(){i&&(s?s.cssText+=i:n.innerHTML+=i,i="")}}}(q),ct=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),s=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+s)},s)}}return e}(t||{});q.util={brackets:ot,tmpl:at},q.mixin=function(){var t={};return function(e,n){return m(e)?(n=e,void(t[G]=x(t[G]||{},n))):n?void(t[e]=n):t[e]}}(),q.tag=function(t,e,n,s,i){return _(s)&&(i=s,/^[\w\-]+\s?=/.test(n)?(s=n,n=""):s=""),n&&(_(n)?i=n:ut.add(n)),t=t.toLowerCase(),$[t]={name:t,tmpl:e,attrs:s,fn:i},t},q.tag2=function(t,e,n,s,i){return n&&ut.add(n),$[t]={name:t,tmpl:e,attrs:s,fn:i},t},q.mount=function(t,e,n){function s(t){var e="";return f(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+J+'="'+t+'"],['+Y+'="'+t+'"]')}),e}function i(){var t=Object.keys($);return t+s(t)}function r(t){if(t.tagName){var s=g(t,J)||g(t,Y);e&&s!==e&&(s=e,b(t,J,e),b(t,Y,e));var i=K(t,s||t.tagName.toLowerCase(),n);i&&l.push(i)}else t.length&&f(t,r)}var o,a,l=[];if(ut.inject(),m(e)&&(n=e,e=0),typeof t===Q?("*"===t?t=a=i():t+=s(t.split(/, */)),o=t?M(t):[]):o=t,"*"===e){if(e=a||i(),o.tagName)o=M(e,o);else{var u=[];f(o,function(t){u.push(M(e,t))}),o=u}e=0}return r(o),l},q.update=function(){return f(W,function(t){t.update()})},q.vdom=W,q.Tag=c,typeof exports===Z?module.exports=q:typeof define===et&&typeof define.amd!==tt?define(function(){return q}):t.riot=q}("undefined"!=typeof window?window:void 0),function(t){var e=[],n={},s="routie",i=t[s],r=function(t,e){this.name=e,this.path=t,this.keys=[],this.fns=[],this.params={},this.regex=o(this.path,this.keys,!1,!1)};r.prototype.addHandler=function(t){this.fns.push(t)},r.prototype.removeHandler=function(t){for(var e=0,n=this.fns.length;e<n;e++){var s=this.fns[e];if(t==s)return void this.fns.splice(e,1)}},r.prototype.run=function(t){for(var e=0,n=this.fns.length;e<n;e++)this.fns[e].apply(this,t)},r.prototype.match=function(t,e){var n=this.regex.exec(t);if(!n)return!1;for(var s=1,i=n.length;s<i;++s){var r=this.keys[s-1],o="string"==typeof n[s]?decodeURIComponent(n[s]):n[s];r&&(this.params[r.name]=o),e.push(o)}return!0},r.prototype.toURL=function(t){var e=this.path;for(var n in t)e=e.replace("/:"+n,"/"+t[n]);if(e=e.replace(/\/:.*\?/g,"/").replace(/\?/g,""),e.indexOf(":")!=-1)throw new Error("missing parameters for url: "+e);return e};var o=function(t,e,n,s){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(s?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,s,i,r,o){return e.push({name:i,optional:!!o}),n=n||"",""+(o?"":n)+"(?:"+(o?n:"")+(s||"")+(r||s&&"([^/.]+?)"||"([^/]+?)")+")"+(o||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))},a=function(t,s){var i=t.split(" "),o=2==i.length?i[0]:null;t=2==i.length?i[1]:i[0],n[t]||(n[t]=new r(t,o),e.push(n[t])),n[t].addHandler(s)},l=function(t,e){if("function"==typeof e)a(t,e),l.reload();else if("object"==typeof t){for(var n in t)a(n,t[n]);l.reload()}else"undefined"==typeof e&&l.navigate(t)};l.lookup=function(t,n){for(var s=0,i=e.length;s<i;s++){var r=e[s];if(r.name==t)return r.toURL(n)}},l.remove=function(t,e){var s=n[t];s&&s.removeHandler(e)},l.removeAll=function(){n={},e=[]},l.navigate=function(t,e){e=e||{};var n=e.silent||!1;n&&d(),setTimeout(function(){window.location.hash=t,n&&setTimeout(function(){p()},1)},1)},l.noConflict=function(){return t[s]=i,l};var u=function(){return window.location.hash.substring(1)},c=function(t,e){var n=[];return!!e.match(t,n)&&(e.run(n),!0)},h=l.reload=function(){for(var t=u(),n=0,s=e.length;n<s;n++){var i=e[n];if(c(t,i))return}},p=function(){t.addEventListener?t.addEventListener("hashchange",h,!1):t.attachEvent("onhashchange",h)},d=function(){t.removeEventListener?t.removeEventListener("hashchange",h):t.detachEvent("onhashchange",h)};p(),t[s]=l}(window),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Baobab=t()}}(function(){var t;return function e(t,n,s){function i(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,s)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)i(s[o]);return i}({1:[function(e,n,s){(function(){"use strict";function e(t,e){var n,s={};for(n in t)s[n]=t[n];for(n in e)s[n]=e[n];return s}function i(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof Function)&&!(t instanceof RegExp)}function r(t,e,n){var s,i,r,o;for(i in t)e.call(n||null,i,t[i]);if(Object.getOwnPropertySymbols)for(s=Object.getOwnPropertySymbols(t),r=0,o=s.length;o>r;r++)e.call(n||null,s[r],t[s[r]])}function o(t,e){t=t||[];var n,s,i=[];for(s=0,n=t.length;n>s;s++)t[s].fn!==e&&i.push(t[s]);return i}var a={once:"boolean",scope:"object"},l=0,u=function(){this._enabled=!0,this.unbindAll()};u.prototype.unbindAll=function(){return this._handlers={},this._handlersAll=[],this._handlersComplex=[],this},u.prototype.on=function(t,e,n){var s,o,u,c,h,p,d;if(i(t))return r(t,function(t,n){this.on(t,n,e)},this),this;for("function"==typeof t&&(n=e,e=t,t=null),h=[].concat(t),s=0,o=h.length;o>s;s++){if(c=h[s],d={order:l++,fn:e},"string"==typeof c||"symbol"==typeof c)this._handlers[c]||(this._handlers[c]=[]),p=this._handlers[c],d.type=c;else if(c instanceof RegExp)p=this._handlersComplex,d.pattern=c;else{if(null!==c)throw Error("Emitter.on: invalid event.");p=this._handlersAll}for(u in n||{})a[u]&&(d[u]=n[u]);p.push(d)}return this},u.prototype.once=function(){var t=Array.prototype.slice.call(arguments),n=t.length-1;return i(t[n])&&t.length>1?t[n]=e(t[n],{once:!0}):t.push({once:!0}),this.on.apply(this,t)},u.prototype.off=function(t,e){var n,s,a,l;if(1===arguments.length&&"function"==typeof t){e=arguments[0];for(a in this._handlers)this._handlers[a]=o(this._handlers[a],e),0===this._handlers[a].length&&delete this._handlers[a];this._handlersAll=o(this._handlersAll,e),this._handlersComplex=o(this._handlersComplex,e)}else if(1!==arguments.length||"string"!=typeof t&&"symbol"!=typeof t)if(2===arguments.length){var u=[].concat(t);for(n=0,s=u.length;s>n;n++)l=u[n],this._handlers[l]=o(this._handlers[l],e),0===(this._handlers[l]||[]).length&&delete this._handlers[l]}else i(t)&&r(t,this.off,this);else delete this._handlers[t];return this},u.prototype.listeners=function(t){var e,n,s,i=this._handlersAll||[],r=!1;if(!t)throw Error("Emitter.listeners: no event provided.");for(i=i.concat(this._handlers[t]||[]),n=0,s=this._handlersComplex.length;s>n;n++)e=this._handlersComplex[n],~t.search(e.pattern)&&(r=!0,i.push(e));return this._handlersAll.length||r?i.sort(function(t,e){return t.order-e.order}):i.slice(0)},u.prototype.emit=function(t,e){if(!this._enabled)return this;if(i(t))return r(t,this.emit,this),this;var n,s,o,a,l,u,c,h,p=[].concat(t),d=[];for(l=0,c=p.length;c>l;l++){for(o=this.listeners(p[l]),u=0,h=o.length;h>u;u++)a=o[u],n={type:p[l],target:this},arguments.length>1&&(n.data=e),a.fn.call("scope"in a?a.scope:this,n),a.once&&d.push(a);for(u=d.length-1;u>=0;u--)s=d[u].type?this._handlers[d[u].type]:d[u].pattern?this._handlersComplex:this._handlersAll,s.splice(s.indexOf(d[u]),1)}return this},u.prototype.kill=function(){this.unbindAll(),this._handlers=null,this._handlersAll=null,this._handlersComplex=null,this._enabled=!1,this.unbindAll=this.on=this.once=this.off=this.emit=this.listeners=Function.prototype},u.prototype.disable=function(){return this._enabled=!1,this},u.prototype.enable=function(){return this._enabled=!0,this},u.version="3.1.1","undefined"!=typeof s?("undefined"!=typeof n&&n.exports&&(s=n.exports=u),s.Emitter=u):"function"==typeof t&&t.amd?t("emmett",[],function(){return u}):this.Emitter=u}).call(this)},{}],2:[function(t,e,n){"use strict";function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return"λ"+t.map(function(t){return m["default"]["function"](t)||m["default"].object(t)?"#"+T()+"#":t}).join("λ")}n.__esModule=!0;var l=t("emmett"),u=i(l),c=t("./cursor"),h=i(c),p=t("./monkey"),d=t("./watcher"),f=i(d),_=t("./type"),m=i(_),v=t("./update"),y=i(v),g=t("./helpers"),b=s(g),C=b.arrayFrom,S=b.coercePath,E=b.deepFreeze,w=b.getIn,I=b.makeError,L=b.deepClone,k=b.deepMerge,x=b.shallowClone,D=b.shallowMerge,T=b.uniqid,O={autoCommit:!0,asynchronous:!0,immutable:!0,lazyMonkeys:!0,persistent:!0,pure:!0,validate:null,validationBehavior:"rollback"},A=function(t){function e(n,s){var i=this;if(r(this,e),t.call(this),arguments.length<1&&(n={}),!m["default"].object(n)&&!m["default"].array(n))throw I("Baobab: invalid data.",{data:n});this.options=D({},O,s),this.options.persistent||(this.options.immutable=!1,this.options.pure=!1),this._identity="[object Baobab]",this._cursors={},this._future=null,this._transaction=[],this._affectedPathsIndex={},this._monkeys={},this._previousData=null,this._data=n,this.root=new h["default"](this,[],"λ"),delete this.root.release,this.options.immutable&&E(this._data);var o=function(t){i[t]=function(){var e=this.root[t].apply(this.root,arguments);return e instanceof h["default"]?this:e}};["apply","clone","concat","deepClone","deepMerge","exists","get","push","merge","pop","project","serialize","set","shift","splice","unset","unshift"].forEach(o),this._refreshMonkeys();var a=this.validate();if(a)throw Error("Baobab: invalid data.",{error:a})}return o(e,t),e.prototype._refreshMonkeys=function(t,e,n){var s=this,i=function a(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(t instanceof p.Monkey)return t.release(),void y["default"](s._monkeys,e,{type:"unset"},{immutable:!1,persistent:!1,pure:!1});if(m["default"].object(t))for(var n in t)a(t[n],e.concat(n))},r=function l(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(t instanceof p.MonkeyDefinition||t instanceof p.Monkey){var n=new p.Monkey(s,e,t instanceof p.Monkey?t.definition:t);return void y["default"](s._monkeys,e,{type:"set",value:n},{immutable:!1,persistent:!1,pure:!1})}if(m["default"].object(t))for(var i in t)l(t[i],e.concat(i))};if(arguments.length){var o=w(this._monkeys,e).data;o&&i(o,e),"unset"!==n&&r(t,e)}else r(this._data);return this},e.prototype.validate=function n(t){var e=this.options,n=e.validate,s=e.validationBehavior;if("function"!=typeof n)return null;var i=n.call(this,this._previousData,this._data,t||[[]]);return i instanceof Error?("rollback"===s&&(this._data=this._previousData,this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data),this.emit("invalid",{error:i}),i):null},e.prototype.select=function(t){if(t=t||[],arguments.length>1&&(t=C(arguments)),!m["default"].path(t))throw I("Baobab.select: invalid path.",{path:t});t=[].concat(t);var e=a(t),n=this._cursors[e];return n||(n=new h["default"](this,t,e),this._cursors[e]=n),this.emit("select",{path:t,cursor:n}),n},e.prototype.update=function(t,e){var n=this;if(t=S(t),!m["default"].operationType(e.type))throw I('Baobab.update: unknown operation type "'+e.type+'".',{operation:e});var s=w(this._data,t),i=s.solvedPath,r=s.exists;if(!i)throw I("Baobab.update: could not solve the given path.",{path:i});var o=m["default"].monkeyPath(this._monkeys,i);if(o&&i.length>o.length)throw I("Baobab.update: attempting to update a read-only path.",{path:i});if("unset"!==e.type||r){var l=e;if(/merge/i.test(e.type)){var u=w(this._monkeys,i).data;if(m["default"].object(u)){l=x(l);var c=w(this._data,i).data;/deep/i.test(l.type)?l.value=k({},k({},c,L(u)),l.value):l.value=D({},k({},c,L(u)),l.value)}}this._transaction.length||(this._previousData=this._data);var h=y["default"](this._data,i,l,this.options),p=h.data,d=h.node;if(!("data"in h))return d;var f=i.concat("push"===e.type?d.length-1:[]),_=a(f);return this._data=p,this._affectedPathsIndex[_]=!0,this._transaction.push(D({},e,{path:f})),this._refreshMonkeys(d,i,e.type),this.emit("write",{path:f}),this.options.autoCommit?this.options.asynchronous?(this._future||(this._future=setTimeout(function(){return n.commit()},0)),d):(this.commit(),d):d}},e.prototype.commit=function(){if(!this._transaction.length)return this;this._future&&(this._future=clearTimeout(this._future));var t=Object.keys(this._affectedPathsIndex).map(function(t){return"λ"!==t?t.split("λ").slice(1):[];
}),e=this.validate(t);if(e)return this;var n=this._transaction,s=this._previousData;return this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data,this.emit("update",{paths:t,currentData:this._data,transaction:n,previousData:s}),this},e.prototype.getMonkey=function(t){t=S(t);var e=w(this._monkeys,[].concat(t)).data;return e instanceof p.Monkey?e:null},e.prototype.watch=function(t){return new f["default"](this,t)},e.prototype.release=function(){var t=void 0;this.emit("release"),delete this.root,delete this._data,delete this._previousData,delete this._transaction,delete this._affectedPathsIndex,delete this._monkeys;for(t in this._cursors)this._cursors[t].release();delete this._cursors,this.kill()},e.prototype.toJSON=function(){return this.serialize()},e.prototype.toString=function(){return this._identity},e}(u["default"]);n["default"]=A,A.monkey=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];if(!e.length)throw new Error("Baobab.monkey: missing definition.");return 1===e.length&&"function"!=typeof e[0]?new p.MonkeyDefinition(e[0]):new p.MonkeyDefinition(e)},A.dynamicNode=A.monkey,A.Cursor=h["default"],A.MonkeyDefinition=p.MonkeyDefinition,A.Monkey=p.Monkey,A.type=m["default"],A.helpers=b,A.VERSION="2.3.2",e.exports=n["default"]},{"./cursor":3,"./helpers":4,"./monkey":5,"./type":6,"./update":7,"./watcher":8,emmett:1}],3:[function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!e)throw d.makeError("Baobab.Cursor."+t+": "+("cannot use "+t+" on an unresolved dynamic path."),{path:e})}function a(t,e){f.prototype[t]=function(n,s){if(arguments.length>2)throw d.makeError("Baobab.Cursor."+t+": too many arguments.");if(1!==arguments.length||_[t]||(s=n,n=[]),n=d.coercePath(n),!p["default"].path(n))throw d.makeError("Baobab.Cursor."+t+": invalid path.",{path:n});if(e&&!e(s))throw d.makeError("Baobab.Cursor."+t+": invalid value.",{path:n,value:s});if(!this.solvedPath)throw d.makeError("Baobab.Cursor."+t+": the dynamic path of the cursor cannot be solved.",{path:this.path});var i=this.solvedPath.concat(n);return this.tree.update(i,{type:t,value:s})}}n.__esModule=!0;var l=t("emmett"),u=s(l),c=t("./monkey"),h=t("./type"),p=s(h),d=t("./helpers"),f=function(t){function e(n,s,r){var o=this;i(this,e),t.call(this),s=s||[],this._identity="[object Cursor]",this._archive=null,this.tree=n,this.path=s,this.hash=r,this.state={killed:!1,recording:!1,undoing:!1},this._dynamicPath=p["default"].dynamicPath(this.path),this._monkeyPath=p["default"].monkeyPath(this.tree._monkeys,this.path),this._dynamicPath?this.solvedPath=d.getIn(this.tree._data,this.path).solvedPath:this.solvedPath=this.path,this._writeHandler=function(t){var e=t.data;!o.state.killed&&d.solveUpdate([e.path],o._getComparedPaths())&&(o.solvedPath=d.getIn(o.tree._data,o.path).solvedPath)};var a=function(t){var e=o,n=Object.defineProperties({},{previousData:{get:function(){return d.getIn(t,e.solvedPath).data},configurable:!0,enumerable:!0},currentData:{get:function(){return e.get()},configurable:!0,enumerable:!0}});return o.state.recording&&!o.state.undoing&&o.archive.add(n.previousData),o.state.undoing=!1,o.emit("update",n)};this._updateHandler=function(t){if(!o.state.killed){var e=t.data,n=e.paths,s=e.previousData,i=a.bind(o,s),r=o._getComparedPaths();return d.solveUpdate(n,r)?i():void 0}};var l=!1;this._lazyBind=function(){return l?void 0:(l=!0,o._dynamicPath&&o.tree.on("write",o._writeHandler),o.tree.on("update",o._updateHandler))},this._dynamicPath?this._lazyBind():(this.on=d.before(this._lazyBind,this.on.bind(this)),this.once=d.before(this._lazyBind,this.once.bind(this)))}return r(e,t),e.prototype._getComparedPaths=function(){var t=this._monkeyPath?d.getIn(this.tree._monkeys,this._monkeyPath).data.relatedPaths():[];return[this.solvedPath].concat(t)},e.prototype.isRoot=function(){return!this.path.length},e.prototype.isLeaf=function(){return p["default"].primitive(this._get().data)},e.prototype.isBranch=function(){return!this.isRoot()&&!this.isLeaf()},e.prototype.root=function(){return this.tree.select()},e.prototype.select=function(t){return arguments.length>1&&(t=d.arrayFrom(arguments)),this.tree.select(this.path.concat(t))},e.prototype.up=function(){return this.isRoot()?null:this.tree.select(this.path.slice(0,-1))},e.prototype.down=function(){if(o("down",this.solvedPath),!(this._get().data instanceof Array))throw Error("Baobab.Cursor.down: cannot go down on a non-list type.");return this.tree.select(this.solvedPath.concat(0))},e.prototype.left=function(){o("left",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.left: cannot go left on a non-list type.");return t?this.tree.select(this.solvedPath.slice(0,-1).concat(t-1)):null},e.prototype.right=function(){o("right",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.right: cannot go right on a non-list type.");return t+1===this.up()._get().data.length?null:this.tree.select(this.solvedPath.slice(0,-1).concat(t+1))},e.prototype.leftmost=function(){o("leftmost",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.leftmost: cannot go left on a non-list type.");return this.tree.select(this.solvedPath.slice(0,-1).concat(0))},e.prototype.rightmost=function(){o("rightmost",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.rightmost: cannot go right on a non-list type.");var e=this.up()._get().data;return this.tree.select(this.solvedPath.slice(0,-1).concat(e.length-1))},e.prototype.map=function(t,e){o("map",this.solvedPath);var n=this._get().data,s=arguments.length;if(!p["default"].array(n))throw Error("baobab.Cursor.map: cannot map a non-list type.");return n.map(function(i,r){return t.call(s>1?e:this,this.select(r),r,n)},this)},e.prototype._get=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(!p["default"].path(t))throw d.makeError("Baobab.Cursor.getters: invalid path.",{path:t});return this.solvedPath?d.getIn(this.tree._data,this.solvedPath.concat(t)):{data:void 0,solvedPath:null,exists:!1}},e.prototype.exists=function(t){return t=d.coercePath(t),arguments.length>1&&(t=d.arrayFrom(arguments)),this._get(t).exists},e.prototype.get=function(t){t=d.coercePath(t),arguments.length>1&&(t=d.arrayFrom(arguments));var e=this._get(t),n=e.data,s=e.solvedPath;return this.tree.emit("get",{data:n,solvedPath:s,path:this.path.concat(t)}),n},e.prototype.clone=function(){var t=this.get.apply(this,arguments);return d.shallowClone(t)},e.prototype.deepClone=function(){var t=this.get.apply(this,arguments);return d.deepClone(t)},e.prototype.serialize=function(t){if(t=d.coercePath(t),arguments.length>1&&(t=d.arrayFrom(arguments)),!p["default"].path(t))throw d.makeError("Baobab.Cursor.getters: invalid path.",{path:t});if(this.solvedPath){var e=this.solvedPath.concat(t),n=d.deepClone(d.getIn(this.tree._data,e).data),s=d.getIn(this.tree._monkeys,e).data,i=function r(t,e){if(p["default"].object(e)&&p["default"].object(t))for(var n in e)e[n]instanceof c.Monkey?delete t[n]:r(t[n],e[n])};return i(n,s),n}},e.prototype.project=function(t){if(p["default"].object(t)){var e={};for(var n in t)e[n]=this.get(t[n]);return e}if(p["default"].array(t)){for(var e=[],s=0,i=t.length;i>s;s++)e.push(this.get(t[s]));return e}throw d.makeError("Baobab.Cursor.project: wrong projection.",{projection:t})},e.prototype.startRecording=function(t){if(t=t||1/0,1>t)throw d.makeError("Baobab.Cursor.startRecording: invalid max records.",{value:t});return this.state.recording=!0,this.archive?this:(this._lazyBind(),this.archive=new d.Archive(t),this)},e.prototype.stopRecording=function(){return this.state.recording=!1,this},e.prototype.undo=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(!this.state.recording)throw new Error("Baobab.Cursor.undo: cursor is not recording.");var e=this.archive.back(t);if(!e)throw Error("Baobab.Cursor.undo: cannot find a relevant record.");return this.state.undoing=!0,this.set(e),this},e.prototype.hasHistory=function(){return!(!this.archive||!this.archive.get().length)},e.prototype.getHistory=function(){return this.archive?this.archive.get():[]},e.prototype.clearHistory=function(){return this.archive&&this.archive.clear(),this},e.prototype.release=function(){this._dynamicPath&&this.tree.off("write",this._writeHandler),this.tree.off("update",this._updateHandler),this.hash&&delete this.tree._cursors[this.hash],delete this.tree,delete this.path,delete this.solvedPath,delete this.archive,this.kill(),this.state.killed=!0},e.prototype.toJSON=function(){return this.serialize()},e.prototype.toString=function(){return this._identity},e}(u["default"]);n["default"]=f,"function"==typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(f.prototype[Symbol.iterator]=function(){var t=this._get().data;if(!p["default"].array(t))throw Error("baobab.Cursor.@@iterate: cannot iterate a non-list type.");var e=0,n=this,s=t.length;return{next:function(){return s>e?{value:n.select(e++)}:{done:!0}}}});var _={unset:!0,pop:!0,shift:!0};a("set"),a("unset"),a("apply",p["default"]["function"]),a("push"),a("concat",p["default"].array),a("unshift"),a("pop"),a("shift"),a("splice",p["default"].splicer),a("merge",p["default"].object),a("deepMerge",p["default"].object),e.exports=n["default"]},{"./helpers":4,"./monkey":5,"./type":6,emmett:1}],4:[function(t,e,n){(function(e){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){var n=void 0,s=void 0;for(n=0,s=t.length;s>n;n++)if(e(t[n]))return n;return-1}function o(t){var e=new Array(t.length),n=void 0,s=void 0;for(n=0,s=t.length;s>n;n++)e[n]=t[n];return e}function a(t){return o(t)}function l(t,e){return function(){t.apply(null,arguments),e.apply(null,arguments)}}function u(t){var e=t.source,n="";return t.global&&(n+="g"),t.multiline&&(n+="m"),t.ignoreCase&&(n+="i"),t.sticky&&(n+="y"),t.unicode&&(n+="u"),new RegExp(e,n)}function c(t,n){if(!n||"object"!=typeof n||n instanceof Error||n instanceof b.MonkeyDefinition||n instanceof b.Monkey||"ArrayBuffer"in e&&n instanceof ArrayBuffer)return n;if(S["default"].array(n)){if(t){var s=[],i=void 0,r=void 0;for(i=0,r=n.length;r>i;i++)s.push(c(!0,n[i]));return s}return o(n)}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return u(n);if(S["default"].object(n)){var a={},l=void 0;for(l in n)S["default"].lazyGetter(n,l)?Object.defineProperty(a,l,{get:Object.getOwnPropertyDescriptor(n,l).get,enumerable:!0,configurable:!0}):n.hasOwnProperty(l)&&(a[l]=t?c(!0,n[l]):n[l]);return a}return n}function h(t){return t||0===t||""===t?t:[]}function p(t,e){var n=!0,s=void 0;if(!t)return!1;for(s in e)if(S["default"].object(e[s]))n=n&&p(t[s],e[s]);else if(S["default"].array(e[s]))n=n&&!!~e[s].indexOf(t[s]);else if(t[s]!==e[s])return!1;return n}function d(t,e){if(!("object"!=typeof e||null===e||e instanceof b.Monkey)&&(Object.freeze(e),t))if(Array.isArray(e)){var n=void 0,s=void 0;for(n=0,s=e.length;s>n;n++)d(!0,e[n])}else{var i=void 0,r=void 0;for(r in e)S["default"].lazyGetter(e,r)||(i=e[r],i&&e.hasOwnProperty(r)&&"object"==typeof i&&!Object.isFrozen(i)&&d(!0,i))}}function f(t,e){if(!e)return T;var n=[],s=!0,i=t,o=void 0,a=void 0,l=void 0;for(a=0,l=e.length;l>a;a++){if(!i)return{data:void 0,solvedPath:n.concat(e.slice(a)),exists:!1};if("function"==typeof e[a]){if(!S["default"].array(i))return T;if(o=r(i,e[a]),!~o)return T;n.push(o),i=i[o]}else if("object"==typeof e[a]){if(!S["default"].array(i))return T;if(o=r(i,function(t){return p(t,e[a])}),!~o)return T;n.push(o),i=i[o]}else n.push(e[a]),s="object"==typeof i&&e[a]in i,i=i[e[a]]}return{data:i,solvedPath:n,exists:s}}function _(t,e){var n=new Error(t);for(var s in e)n[s]=e[s];return n}function m(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;e>s;s++)n[s-1]=arguments[s];var i=n[0],r=void 0,o=void 0,a=void 0,l=void 0;for(o=1,a=n.length;a>o;o++){r=n[o];for(l in r)!t||!S["default"].object(r[l])||r[l]instanceof b.Monkey?i[l]=r[l]:i[l]=m(!0,i[l]||{},r[l])}return i}function v(t,e){var n=[];e=[].concat(e);for(var s=0,i=e.length;i>s;s++){var r=e[s];"."===r?s||(n=t.slice(0)):".."===r?n=(s?n:t).slice(0,-1):n.push(r)}return n}function y(t,e){var n=void 0,s=void 0,i=void 0,r=void 0,o=void 0,a=void 0,l=void 0,u=void 0,c=void 0;for(n=0,r=t.length;r>n;n++){if(l=t[n],!l.length)return!0;for(s=0,o=e.length;o>s;s++){if(u=e[s],!u||!u.length)return!0;for(i=0,a=u.length;a>i&&(c=u[i],c==l[i]);i++)if(i+1===a||i+1===l.length)return!0}}return!1}function g(t,e,n){n=Math.max(0,n),S["default"]["function"](e)&&(e=r(t,e)),S["default"].object(e)&&(e=r(t,function(t){return p(t,e)}));for(var s=arguments.length,i=Array(s>3?s-3:0),o=3;s>o;o++)i[o-3]=arguments[o];return e>=0?t.slice(0,e).concat(i).concat(t.slice(e+n)):t.slice(0,t.length+e).concat(i).concat(t.slice(t.length+e+n))}n.__esModule=!0,n.arrayFrom=a,n.before=l,n.coercePath=h,n.getIn=f,n.makeError=_,n.solveRelativePath=v,n.solveUpdate=y,n.splice=g;var b=t("./monkey"),C=t("./type"),S=s(C),E=Function.prototype,w=function(){function t(e){i(this,t),this.size=e,this.records=[]}return t.prototype.get=function(){return this.records},t.prototype.add=function(t){return this.records.unshift(t),this.records.length>this.size&&(this.records.length=this.size),this},t.prototype.clear=function(){return this.records=[],this},t.prototype.back=function(t){var e=this.records[t-1];return e&&(this.records=this.records.slice(t)),e},t}();n.Archive=w;var I=c.bind(null,!1),L=c.bind(null,!0);n.shallowClone=I,n.deepClone=L;var k="function"==typeof Object.freeze,x=k?d.bind(null,!1):E,D=k?d.bind(null,!0):E;n.freeze=x,n.deepFreeze=D;var T={data:void 0,solvedPath:null,exists:!1},O=m.bind(null,!1),A=m.bind(null,!0);n.shallowMerge=O,n.deepMerge=A;var P=function(){var t=0;return function(){return t++}}();n.uniqid=P}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./monkey":5,"./type":6}],5:[function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=t("./type"),o=s(r),a=t("./update"),l=s(a),u=t("./helpers"),c=function p(t){var e=this;i(this,p);var n=o["default"].monkeyDefinition(t);if(!n)throw u.makeError("Baobab.monkey: invalid definition.",{definition:t});if(this.type=n,"object"===this.type)this.getter=t.get,this.projection=t.cursors||{},this.paths=Object.keys(this.projection).map(function(t){return e.projection[t]}),this.options=t.options||{};else{var s=1,r={};o["default"].object(t[t.length-1])&&(s++,r=t[t.length-1]),this.getter=t[t.length-s],this.projection=t.slice(0,-s),this.paths=this.projection,this.options=r}this.paths=this.paths.map(function(t){return[].concat(t)}),this.hasDynamicPaths=this.paths.some(o["default"].dynamicPath)};n.MonkeyDefinition=c;var h=function(){function t(e,n,s){var r=this;i(this,t),this.tree=e,this.path=n,this.definition=s;var o=s.projection,a=u.solveRelativePath.bind(null,n.slice(0,-1));"object"===s.type?(this.projection=Object.keys(o).reduce(function(t,e){return t[e]=a(o[e]),t},{}),this.depPaths=Object.keys(this.projection).map(function(t){return r.projection[t]})):(this.projection=o.map(a),this.depPaths=this.projection),this.state={killed:!1},this.writeListener=function(t){var e=t.data.path;if(!r.state.killed){var n=u.solveUpdate([e],r.relatedPaths());n&&r.update()}},this.recursiveListener=function(t){var e=t.data,n=e.monkey,s=e.path;if(!r.state.killed&&r!==n){var i=u.solveUpdate([s],r.relatedPaths(!1));i&&r.update()}},this.tree.on("write",this.writeListener),this.tree.on("_monkey",this.recursiveListener),this.update()}return t.prototype.relatedPaths=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0],n=void 0;n=this.definition.hasDynamicPaths?this.depPaths.map(function(e){return u.getIn(t.tree._data,e).solvedPath}):this.depPaths;var s=e&&this.depPaths.some(function(e){return!!o["default"].monkeyPath(t.tree._monkeys,e)});return s?n.reduce(function(e,n){var s=o["default"].monkeyPath(t.tree._monkeys,n);if(!s)return e.concat([n]);var i=u.getIn(t.tree._monkeys,s).data;return e.concat(i.relatedPaths())},[]):n},t.prototype.update=function(){var t=this.tree.project(this.projection),e=function(t,e,n){var s=null,i=!1;return function(){return i||(s=e.getter.apply(t,"object"===e.type?[n]:n),t.options.immutable&&e.options.immutable!==!1&&u.deepFreeze(s),i=!0),s}}(this.tree,this.definition,t);if(e.isLazyGetter=!0,this.tree.options.lazyMonkeys)this.tree._data=l["default"](this.tree._data,this.path,{type:"monkey",value:e},this.tree.options).data;else{var n=l["default"](this.tree._data,this.path,{type:"set",value:e(),options:{mutableLeaf:!this.definition.options.immutable}},this.tree.options);"data"in n&&(this.tree._data=n.data)}return this.tree.emit("_monkey",{monkey:this,path:this.path}),this},t.prototype.release=function(){this.tree.off("write",this.writeListener),this.tree.off("_monkey",this.monkeyListener),this.state.killed=!0,delete this.projection,delete this.depPaths,delete this.tree},t}();n.Monkey=h},{"./helpers":4,"./type":6,"./update":7}],6:[function(t,e,n){"use strict";function s(t,e){return e.some(function(e){return r[e](t)})}n.__esModule=!0;var i=t("./monkey"),r={};r.array=function(t){return Array.isArray(t)},r.object=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof Date)&&!(t instanceof RegExp)&&!("function"==typeof Map&&t instanceof Map)&&!("function"==typeof Set&&t instanceof Set)},r.string=function(t){return"string"==typeof t},r.number=function(t){return"number"==typeof t},r["function"]=function(t){return"function"==typeof t},r.primitive=function(t){return t!==Object(t)},r.splicer=function(t){return!(!r.array(t)||t.length<2)&&(s(t[0],["number","function","object"])&&r.number(t[1]))};var o=["string","number","function","object"];r.path=function(t){return!(!t&&0!==t&&""!==t)&&[].concat(t).every(function(t){return s(t,o)})},r.dynamicPath=function(t){return t.some(function(t){return r["function"](t)||r.object(t)})},r.monkeyPath=function(t,e){var n=[],s=t,r=void 0,o=void 0;for(r=0,o=e.length;o>r;r++){if(n.push(e[r]),"object"!=typeof s)return null;if(s=s[e[r]],s instanceof i.Monkey)return n}return null},r.lazyGetter=function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return n&&n.get&&n.get.isLazyGetter===!0},r.monkeyDefinition=function(t){if(r.object(t))return r["function"](t.get)&&(!t.cursors||r.object(t.cursors)&&Object.keys(t.cursors).every(function(e){return r.path(t.cursors[e])}))?"object":null;if(r.array(t)){var e=1;return r.object(t[t.length-1])&&e++,r["function"](t[t.length-e])&&t.slice(0,-e).every(function(t){return r.path(t)})?"array":null}return null},r.watcherMapping=function(t){return r.object(t)&&Object.keys(t).every(function(e){return r.path(t[e])})};var a=["set","apply","push","unshift","concat","pop","shift","deepMerge","merge","splice","unset"];r.operationType=function(t){return"string"==typeof t&&!!~a.indexOf(t)},n["default"]=r,e.exports=n["default"]},{"./monkey":5}],7:[function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return l.makeError('Baobab.update: cannot apply the "'+t+'" on '+("a non "+e+" (path: /"+n.join("/")+")."),{path:n})}function r(t,e,n){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=n.type,o=n.value,u=n.options,c=void 0===u?{}:u,h={root:t},p=["root"].concat(e),d=[],f=h,_=void 0,m=void 0,v=void 0;for(_=0,m=p.length;m>_;_++){if(v=p[_],_>0&&d.push(v),_===m-1){if("set"===r){if(s.pure&&f[v]===o)return{node:f[v]};a["default"].lazyGetter(f,v)?Object.defineProperty(f,v,{value:o,enumerable:!0,configurable:!0}):s.persistent&&!c.mutableLeaf?f[v]=l.shallowClone(o):f[v]=o}else if("monkey"===r)Object.defineProperty(f,v,{get:o,enumerable:!0,configurable:!0});else if("apply"===r){var y=o(f[v]);if(s.pure&&f[v]===y)return{node:f[v]};a["default"].lazyGetter(f,v)?Object.defineProperty(f,v,{value:y,enumerable:!0,configurable:!0}):s.persistent?f[v]=l.shallowClone(y):f[v]=y}else if("push"===r){if(!a["default"].array(f[v]))throw i("push","array",d);s.persistent?f[v]=f[v].concat([o]):f[v].push(o)}else if("unshift"===r){if(!a["default"].array(f[v]))throw i("unshift","array",d);s.persistent?f[v]=[o].concat(f[v]):f[v].unshift(o)}else if("concat"===r){if(!a["default"].array(f[v]))throw i("concat","array",d);s.persistent?f[v]=f[v].concat(o):f[v].push.apply(f[v],o)}else if("splice"===r){if(!a["default"].array(f[v]))throw i("splice","array",d);s.persistent?f[v]=l.splice.apply(null,[f[v]].concat(o)):f[v].splice.apply(f[v],o)}else if("pop"===r){if(!a["default"].array(f[v]))throw i("pop","array",d);s.persistent?f[v]=l.splice(f[v],-1,1):f[v].pop()}else if("shift"===r){if(!a["default"].array(f[v]))throw i("shift","array",d);s.persistent?f[v]=l.splice(f[v],0,1):f[v].shift()}else if("unset"===r)a["default"].object(f)?delete f[v]:a["default"].array(f)&&f.splice(v,1);else if("merge"===r){if(!a["default"].object(f[v]))throw i("merge","object",d);s.persistent?f[v]=l.shallowMerge({},f[v],o):f[v]=l.shallowMerge(f[v],o)}else if("deepMerge"===r){if(!a["default"].object(f[v]))throw i("deepMerge","object",d);s.persistent?f[v]=l.deepMerge({},f[v],o):f[v]=l.deepMerge(f[v],o)}s.immutable&&!c.mutableLeaf&&l.deepFreeze(f);break}a["default"].primitive(f[v])?f[v]={}:s.persistent&&(f[v]=l.shallowClone(f[v])),s.immutable&&m>0&&l.freeze(f),f=f[v]}return a["default"].lazyGetter(f,v)?{data:h.root}:{data:h.root,node:f[v]}}n.__esModule=!0,n["default"]=r;var o=t("./type"),a=s(o),l=t("./helpers");e.exports=n["default"]},{"./helpers":4,"./type":6}],8:[function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var o=t("emmett"),a=s(o),l=t("./cursor"),u=s(l),c=t("./type"),h=s(c),p=t("./helpers"),d=function(t){function e(n,s){var r=this;i(this,e),t.call(this),this.tree=n,this.mapping=null,this.state={killed:!1},this.refresh(s),this.handler=function(t){if(!r.state.killed){var e=r.getWatchedPaths();return p.solveUpdate(t.data.paths,e)?r.emit("update"):void 0}},this.tree.on("update",this.handler)}return r(e,t),e.prototype.getWatchedPaths=function(){var t=this,e=Object.keys(this.mapping).map(function(e){var n=t.mapping[e];return n instanceof u["default"]?n.solvedPath:t.mapping[e]});return e.reduce(function(e,n){if(n=[].concat(n),h["default"].dynamicPath(n)&&(n=p.getIn(t.tree._data,n).solvedPath),!n)return e;var s=h["default"].monkeyPath(t.tree._monkeys,n);return s?e.concat(p.getIn(t.tree._monkeys,s).data.relatedPaths()):e.concat([n])},[])},e.prototype.getCursors=function(){var t=this,e={};return Object.keys(this.mapping).forEach(function(n){var s=t.mapping[n];s instanceof u["default"]?e[n]=s:e[n]=t.tree.select(s)}),e},e.prototype.refresh=function(t){if(!h["default"].watcherMapping(t))throw p.makeError("Baobab.watch: invalid mapping.",{mapping:t});this.mapping=t;var e={};for(var n in t)e[n]=t[n]instanceof u["default"]?t[n].path:t[n];this.get=this.tree.project.bind(this.tree,e)},e.prototype.release=function(){this.tree.off("update",this.handler),this.state.killed=!0,this.kill()},e}(a["default"]);n["default"]=d,e.exports=n["default"]},{"./cursor":3,"./helpers":4,"./type":6,emmett:1}]},{},[2])(2)}),window.componentHandler=function(){"use strict";function t(t,e){for(var n=0;n<u.length;n++)if(u[n].className===t)return void 0!==e&&(u[n]=e),u[n];return!1}function e(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function n(t,n){var s=e(t);return-1!==s.indexOf(n)}function s(e,n){if(void 0===e&&void 0===n)for(var r=0;r<u.length;r++)s(u[r].className,u[r].cssClass);else{var o=e;if(void 0===n){var a=t(o);a&&(n=a.cssClass)}for(var l=document.querySelectorAll("."+n),c=0;c<l.length;c++)i(l[c],o)}}function i(s,i){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade SPC element.");var r=e(s),o=[];if(i)n(s,i)||o.push(t(i));else{var a=s.classList;u.forEach(function(t){a.contains(t.cssClass)&&-1===o.indexOf(t)&&!n(s,t.className)&&o.push(t)})}for(var l,p=0,d=o.length;d>p;p++){if(l=o[p],!l)throw new Error("Unable to find a registered component for the given class.");r.push(l.className),s.setAttribute("data-upgraded",r.join(","));var f=new l.classConstructor(s);f[h]=l,c.push(f);for(var _=0,m=l.callbacks.length;m>_;_++)l.callbacks[_](s);l.widget&&(s[l.className]=f);var v=document.createEvent("Events");v.initEvent("spc-componentupgraded",!0,!0),s.dispatchEvent(v)}}function r(t){Array.isArray(t)||(t="function"==typeof t.item?Array.prototype.slice.call(t):[t]);for(var e,n=0,s=t.length;s>n;n++)e=t[n],e instanceof HTMLElement&&(e.children.length>0&&r(e.children),i(e))}function o(e){var n={classConstructor:e.constructor,className:e.classAsString,cssClass:e.cssClass,widget:void 0===e.widget||e.widget,callbacks:[]};if(u.forEach(function(t){if(t.cssClass===n.cssClass)throw new Error("The provided cssClass has already been registered.");if(t.className===n.className)throw new Error("The provided className has already been registered")}),e.constructor.prototype.hasOwnProperty(h))throw new Error("SPC component classes must not have "+h+" defined as a property.");var s=t(e.classAsString,n);s||u.push(n)}function a(e,n){var s=t(e);s&&s.callbacks.push(n)}function l(){for(var t=0;t<u.length;t++)s(u[t].className)}var u=[],c=[],h="spcComponentConfigInternal_";return{upgradeElement:i,upgradeElements:r,upgradeAll:l,registerUpgradedCallback:a,register:o}}(),window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("spc-js"),componentHandler.upgradeAll()):(componentHandler.upgradeElement=componentHandler.register=function(){},console.warn("[componentHandler] Unsupported browser"))});var SpectreCheckbox=function(t){this.element_=t,this.init()};SpectreCheckbox.prototype.CssClasses_={INPUT:"spc-checkbox__input",BOX_OUTLINE:"spc-checkbox__box-outline",TICK_OUTLINE:"spc-checkbox__tick-outline",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},SpectreCheckbox.prototype.onChange_=function(t){this.updateClasses_()},SpectreCheckbox.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},SpectreCheckbox.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},SpectreCheckbox.prototype.onMouseUp_=function(t){this.blur_()},SpectreCheckbox.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},SpectreCheckbox.prototype.blur_=function(t){window.setTimeout(function(){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)}.bind(this),0)},SpectreCheckbox.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},SpectreCheckbox.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},SpectreCheckbox.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},SpectreCheckbox.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},SpectreCheckbox.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},SpectreCheckbox.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},SpectreCheckbox.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("span");t.classList.add(this.CssClasses_.BOX_OUTLINE);var e=document.createElement("span");e.classList.add(this.CssClasses_.TICK_OUTLINE),t.appendChild(e),this.element_.appendChild(t),this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},componentHandler.register({constructor:SpectreCheckbox,classAsString:"SpectreCheckbox",cssClass:"spc-js-checkbox",widget:!0});var SpectreIconToggle=function(t){this.element_=t,this.init()};SpectreIconToggle.prototype.CssClasses_={INPUT:"spc-icon-toggle__input",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},SpectreIconToggle.prototype.onChange_=function(t){this.updateClasses_()},SpectreIconToggle.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},SpectreIconToggle.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},SpectreIconToggle.prototype.onMouseUp_=function(t){this.blur_()},SpectreIconToggle.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},SpectreIconToggle.prototype.blur_=function(t){window.setTimeout(function(){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)}.bind(this),0)},SpectreIconToggle.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},SpectreIconToggle.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},SpectreIconToggle.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},SpectreIconToggle.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},SpectreIconToggle.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},SpectreIconToggle.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},SpectreIconToggle.prototype.init=function(){this.element_&&(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded"))},SpectreIconToggle.prototype.spcDowngrade_=function(){this.inputElement_.removeEventListener("change",this.boundInputOnChange),this.inputElement_.removeEventListener("focus",this.boundInputOnFocus),
this.inputElement_.removeEventListener("blur",this.boundInputOnBlur),this.element_.removeEventListener("mouseup",this.boundElementOnMouseUp)},componentHandler.register({constructor:SpectreIconToggle,classAsString:"SpectreIconToggle",cssClass:"spc-js-icon-toggle",widget:!0});var SpectreDropdown=function(t){this.element_=t,this.init()};SpectreDropdown.prototype.CssClasses_={IS_DISABLED:"is-disabled",IS_OPEN:"is-open",IS_CHECKED:"is-checked",IS_FOCUS:"is-focus",SELECTED:"spc-dropdown__selected",OPTION:"spc-dropdown__option",OPTIONS:"spc-dropdown__options"},SpectreDropdown.prototype.Keycodes_={ENTER:13,TAB:9,UP_ARROW:38,DOWN_ARROW:40,SPACE_BAR:32,ESC:27},SpectreDropdown.prototype.onClick_=function(t){this.isDisabled()||t.target.classList.contains(this.CssClasses_.OPTIONS)||(t.target.classList.contains(this.CssClasses_.OPTION)&&this.checkElement(t.target),this.toggleState())},SpectreDropdown.prototype.isDisabled=function(){return this.element_.classList.contains(this.CssClasses_.IS_DISABLED)},SpectreDropdown.prototype.isOpen=function(){return this.element_.classList.contains(this.CssClasses_.IS_OPEN)},SpectreDropdown.prototype.toggleState=function(){this.element_.dispatchEvent(new Event("toggle",{bubbles:!0})),this.isOpen()?this.element_.dispatchEvent(new Event("closed",{bubbles:!0})):this.element_.dispatchEvent(new Event("opened",{bubbles:!0})),this.element_.classList.toggle(this.CssClasses_.IS_OPEN)},SpectreDropdown.prototype.checkElement=function(t){var e=this.element_.querySelector("."+this.CssClasses_.IS_CHECKED);e&&e.classList.remove(this.CssClasses_.IS_CHECKED),t.classList.add(this.CssClasses_.IS_CHECKED),t.dispatchEvent(new Event("change",{bubbles:!0})),t.dispatchEvent(new Event("checked",{bubbles:!0}))},SpectreDropdown.prototype.focusElement=function(t){var e=this.element_.querySelector("."+this.CssClasses_.IS_FOCUS);e&&e.classList.remove(this.CssClasses_.IS_FOCUS),t.classList.add(this.CssClasses_.IS_FOCUS)},SpectreDropdown.prototype.init=function(){this.element_&&(this.currentIndex_=-1,this.selectedElement_=this.element_.querySelector("."+this.CssClasses_.SELECTED),this.inputElements_=this.element_.querySelectorAll("."+this.CssClasses_.OPTION),this.boundInputOnChange=this.onChange_.bind(this),this.boundElementOnClick=this.onClick_.bind(this),this.boundElementOnKeyDown=this.onKeyDown_.bind(this),this.boundElementOnBlur=this.onBlur_.bind(this),this.boundElementOnFocus=this.onFocus_.bind(this),this.element_.addEventListener("click",this.boundElementOnClick),this.element_.addEventListener("change",this.boundInputOnChange),this.element_.addEventListener("keydown",this.boundElementOnKeyDown),this.element_.addEventListener("blur",this.boundElementOnBlur,!0),this.element_.addEventListener("focus",this.boundElementOnFocus,!0),this.element_.classList.add("is-upgraded"),this.updateClasses_())},SpectreDropdown.prototype.onKeyDown_=function(t){0===this.inputElements_.length||this.isDisabled()||(t.keyCode===this.Keycodes_.DOWN_ARROW?(this.isOpen()||this.toggleState(),this.currentIndex_++,this.currentIndex_>=this.inputElements_.length&&(this.currentIndex_=0),this.focusElement(this.inputElements_[this.currentIndex_]),this.scrollTo_(this.inputElements_[this.currentIndex_].offsetTop,250,this.element_.querySelector(".spc-dropdown__options")),t.preventDefault(),t.stopPropagation()):t.keyCode===this.Keycodes_.UP_ARROW?(this.currentIndex_--,this.currentIndex_<0&&(this.currentIndex_=this.inputElements_.length-1),this.focusElement(this.inputElements_[this.currentIndex_]),this.scrollTo_(this.inputElements_[this.currentIndex_].offsetTop,250,this.element_.querySelector(".spc-dropdown__options")),t.preventDefault(),t.stopPropagation()):t.keyCode===this.Keycodes_.ENTER?this.isOpen()&&(this.checkElement(this.inputElements_[this.currentIndex_]),this.toggleState(),t.preventDefault(),t.stopPropagation()):t.keyCode===this.Keycodes_.ESC?this.isOpen()&&(this.toggleState(),t.preventDefault(),t.stopPropagation()):t.keyCode===this.Keycodes_.SPACE_BAR&&(this.isOpen()&&this.checkElement(this.inputElements_[this.currentIndex_]),this.isDisabled()||this.toggleState(),-1===this.currentIndex_&&(this.currentIndex_=0),this.focusElement(this.inputElements_[this.currentIndex_]),t.preventDefault(),t.stopPropagation()))},SpectreDropdown.prototype.onChange_=function(t){this.updateClasses_()},SpectreDropdown.prototype.onBlur_=function(t){this.closeTimeout=setTimeout(function(){this.element_.classList.remove(this.CssClasses_.IS_OPEN)}.bind(this),0)},SpectreDropdown.prototype.onFocus_=function(t){clearTimeout(this.closeTimeout)},SpectreDropdown.prototype.updateClasses_=function(){this.inputElements_=this.element_.querySelectorAll("."+this.CssClasses_.OPTION);var t,e;for(t=0,e=this.inputElements_.length;e>t;t++)this.inputElements_[t].classList.contains(this.CssClasses_.IS_CHECKED)&&(this.selectedElement_.innerHTML=this.inputElements_[t].innerHTML);0===this.inputElements_.length&&this.element_.classList.add(this.CssClasses_.IS_DISABLED)},SpectreDropdown.prototype.easeInOutQuad_=function(t,e,n,s){return t/=s/2,1>t?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)},SpectreDropdown.prototype.scrollTo_=function(t,e,n){t-=70;var s,i=n.scrollTop,r=t-i,o=0,a=20;e="undefined"==typeof e?500:e;var l=function(){o+=a,s=this.easeInOutQuad_(o,i,r,e),n.scrollTop=s,e>o&&requestAnimationFrame(l)}.bind(this);l()},SpectreDropdown.prototype.spcDowngrade_=function(){this.element_.removeEventListener("click",this.boundElementOnClick),this.element_.removeEventListener("change",this.boundInputOnChange),this.element_.removeEventListener("keydown",this.boundElementOnKeyDown),this.element_.removeEventListener("blur",this.boundElementOnBlur,!0),this.element_.removeEventListener("focus",this.boundElementOnFocus,!0)},componentHandler.register({constructor:SpectreDropdown,classAsString:"SpectreDropdown",cssClass:"spc-js-dropdown",widget:!0});var SpectreProgress=function(t){this.element_=t,this.init()};SpectreProgress.prototype.Constant_={},SpectreProgress.prototype.CssClasses_={},SpectreProgress.prototype.setProgress=function(t){this.progressbar_.style.width=t+"%"},SpectreProgress.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},SpectreProgress.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,t=document.createElement("div"),t.className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,t=document.createElement("div"),t.className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},SpectreProgress.prototype.spcDowngrade_=function(){for(;this.element_.firstChild;)this.element_.removeChild(this.element_.firstChild)},componentHandler.register({constructor:SpectreProgress,classAsString:"SpectreProgress",cssClass:"spc-js-progress",widget:!0});var SpectreRadio=function(t){this.element_=t,this.init()};SpectreRadio.prototype.Constant_={TINY_TIMEOUT:.001},SpectreRadio.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"spc-js-radio",RADIO_BTN:"spc-radio__button",RADIO_OUTER_CIRCLE:"spc-radio__outer-circle",RADIO_INNER_CIRCLE:"spc-radio__inner-circle"},SpectreRadio.prototype.onChange_=function(t){for(var e=document.getElementsByClassName(this.CssClasses_.JS_RADIO),n=0;n<e.length;n++){var s=e[n].querySelector("."+this.CssClasses_.RADIO_BTN);s.getAttribute("name")===this.btnElement_.getAttribute("name")&&e[n].SpectreRadio.updateClasses_()}},SpectreRadio.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},SpectreRadio.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},SpectreRadio.prototype.onMouseup_=function(t){this.blur_()},SpectreRadio.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},SpectreRadio.prototype.blur_=function(t){window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},SpectreRadio.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},SpectreRadio.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},SpectreRadio.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},SpectreRadio.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},SpectreRadio.prototype.check=function(){this.btnElement_.checked=!0,this.updateClasses_()},SpectreRadio.prototype.uncheck=function(){this.btnElement_.checked=!1,this.updateClasses_()},SpectreRadio.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var e=document.createElement("span");e.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(t),this.element_.appendChild(e),this.btnElement_.addEventListener("change",this.onChange_.bind(this)),this.btnElement_.addEventListener("focus",this.onFocus_.bind(this)),this.btnElement_.addEventListener("blur",this.onBlur_.bind(this)),this.element_.addEventListener("mouseup",this.onMouseup_.bind(this)),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},componentHandler.register({constructor:SpectreRadio,classAsString:"SpectreRadio",cssClass:"spc-js-radio",widget:!0});var SpectreSwitch=function(t){this.element_=t,this.init()};SpectreSwitch.prototype.Constant_={TINY_TIMEOUT:.001},SpectreSwitch.prototype.CssClasses_={INPUT:"spc-switch__input",TRACK:"spc-switch__track",THUMB:"spc-switch__thumb",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},SpectreSwitch.prototype.onChange_=function(t){this.updateClasses_()},SpectreSwitch.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},SpectreSwitch.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},SpectreSwitch.prototype.onMouseUp_=function(t){this.blur_()},SpectreSwitch.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},SpectreSwitch.prototype.blur_=function(t){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},SpectreSwitch.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},SpectreSwitch.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},SpectreSwitch.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},SpectreSwitch.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},SpectreSwitch.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},SpectreSwitch.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},SpectreSwitch.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("div");t.classList.add(this.CssClasses_.TRACK);var e=document.createElement("div");e.classList.add(this.CssClasses_.THUMB),this.element_.appendChild(t),this.element_.appendChild(e),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},SpectreSwitch.prototype.spcDowngrade_=function(){this.inputElement_.removeEventListener("change",this.boundChangeHandler),this.inputElement_.removeEventListener("focus",this.boundFocusHandler),this.inputElement_.removeEventListener("blur",this.boundBlurHandler),this.element_.removeEventListener("mouseup",this.boundMouseUpHandler)},componentHandler.register({constructor:SpectreSwitch,classAsString:"SpectreSwitch",cssClass:"spc-js-switch",widget:!0});var SpectreTabs=function(t){this.element_=t,this.init()};SpectreTabs.prototype.Constant_={},SpectreTabs.prototype.CssClasses_={TAB_CLASS:"spc-tabs__tab",BAR_CLASS:"spc-tabs__tab-bar",PANEL_CLASS:"spc-tabs__panel",LINE_CLASS:"spc-tabs__line",VERTICAL_CLASS:"spc-tabs--vertical",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded"},SpectreTabs.prototype.initTabs_=function(){this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.tabbar_=this.element_.querySelectorAll("."+this.CssClasses_.BAR_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS),this.line_=this.element_.querySelector("."+this.CssClasses_.LINE_CLASS);var t,e,n=this;for(e=0;e<this.tabs_.length;e++)t=this.tabs_[e],new SpectreTab(t,this);setTimeout(function(){var t=n.element_.querySelector("."+n.CssClasses_.TAB_CLASS+"."+n.CssClasses_.ACTIVE_CLASS);t&&n.resetLine_(t)},60),this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},SpectreTabs.prototype.resetTabState_=function(){for(var t=0;t<this.tabs_.length;t++)this.tabs_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},SpectreTabs.prototype.resetPanelState_=function(){for(var t=0;t<this.panels_.length;t++)this.panels_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},SpectreTabs.prototype.resetLine_=function(t){if(t&&this.line_){var e=this.element_.classList.contains(this.CssClasses_.VERTICAL_CLASS);if(e){var n=t.offsetTop,s=t.offsetHeight;this.line_.style.transform="translateY("+n+"px) scaleY("+s+")"}else{var i=t.offsetWidth,r=t.offsetLeft;this.line_.style.transform="translateX("+r+"px) scaleX("+i+")"}}},SpectreTabs.prototype.init=function(){this.element_&&this.initTabs_()},componentHandler.register({constructor:SpectreTabs,classAsString:"SpectreTabs",cssClass:"spc-js-tabs"});var SpectreTextfield=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.stepValue=1,this.altStepValue=5,this.isNumeric=!1,this.init()};SpectreTextfield.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},SpectreTextfield.prototype.CssClasses_={LABEL:"spc-textfield__label",INPUT:"spc-textfield__input",STEPPER:"spc-textfield__number",STEPUP:"spc-textfield__stepup",STEPDOWN:"spc-textfield__stepdown",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded"},SpectreTextfield.prototype.onKeyDown_=function(t){40===t.keyCode?(t.preventDefault(),this.onStepDown_(t)):38===t.keyCode&&(t.preventDefault(),this.onStepUp_(t));var e=t.target.value.split("\n").length;13===t.keyCode&&this.maxRows!==this.Constant_.NO_MAX_ROWS&&e>=this.maxRows&&t.preventDefault()},SpectreTextfield.prototype.onWheel_=function(t){document.activeElement===t.target&&(t.wheelDelta&&t.wheelDelta<0?(t.preventDefault(),this.onStepDown_(t)):t.wheelDelta&&t.wheelDelta>0&&(t.preventDefault(),this.onStepUp_(t)))},SpectreTextfield.prototype.onKeyUp_=function(t){},SpectreTextfield.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},SpectreTextfield.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED),this.isNumeric&&this.change(parseFloat(this.input_.value))},SpectreTextfield.prototype.onStepDown_=function(t){var e=parseFloat(this.input_.value);this.input_.value||(e="undefined"!=typeof this.minValue&&null!==this.minValue?0>this.minValue?0:this.minValue:0),setTimeout(function(){this.input_.focus()}.bind(this),0);var n=t.shiftKey?this.altStepValue:this.stepValue;this.change(e-n)},SpectreTextfield.prototype.onStepUp_=function(t){var e=parseFloat(this.input_.value);this.input_.value||(e="undefined"!=typeof this.maxValue&&null!==this.maxValue?0<this.maxValue?0:this.maxValue:0),setTimeout(function(){this.input_.focus()}.bind(this),0);var n=t.shiftKey?this.altStepValue:this.stepValue;this.change(e+n)},SpectreTextfield.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty()},SpectreTextfield.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},SpectreTextfield.prototype.checkValidity=function(){this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID)},SpectreTextfield.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},SpectreTextfield.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},SpectreTextfield.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},SpectreTextfield.prototype.change=function(t){(0===t||t)&&(this.isNumeric&&(!isNaN(this.maxValue)&&t>this.maxValue&&(t=this.maxValue),!isNaN(this.minValue)&&t<this.minValue&&(t=this.minValue)),Number(this.input_.value)!==t&&setTimeout(function(){this.input_.dispatchEvent(new Event("change",{bubbles:!0}))}.bind(this),0),this.input_.value=t),this.updateClasses_()},SpectreTextfield.prototype.init=function(){this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_&&(this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.element_.classList.contains(this.CssClasses_.STEPPER)&&(this.isNumeric=!0,this.input_.setAttribute("type","number"),this.input_.setAttribute("pattern","[0-9]*"),this.input_.setAttribute("inputmode","numeric"),this.minValue=parseFloat(this.input_.getAttribute("min")),this.maxValue=parseFloat(this.input_.getAttribute("max")),this.stepValue=this.input_.getAttribute("step"),this.altStepValue=this.input_.getAttribute("alt-step"),void 0===this.stepValue||null===this.stepValue?this.stepValue=1:isNaN(parseFloat(this.stepValue))?this.stepValue=0:this.stepValue=parseFloat(this.stepValue),void 0===this.altStepValue||null===this.altStepValue?this.altStepValue=5:isNaN(parseFloat(this.altStepValue))?this.altStepValue=0:this.altStepValue=parseFloat(this.altStepValue),this.stepup_=this.element_.querySelector("."+this.CssClasses_.STEPUP),this.stepdown_=this.element_.querySelector("."+this.CssClasses_.STEPDOWN),this.boundStepUpHandler=this.onStepUp_.bind(this),this.boundStepDownHandler=this.onStepDown_.bind(this),this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.boundWheelHandler=this.onWheel_.bind(this),this.stepup_.addEventListener("mousedown",this.boundStepUpHandler),this.stepdown_.addEventListener("mousedown",this.boundStepDownHandler),this.input_.addEventListener("keydown",this.boundKeyDownHandler),this.input_.addEventListener("wheel",this.boundWheelHandler)),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundKeyUpHandler=this.onKeyUp_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS,this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)))},SpectreTextfield.prototype.spcDowngrade_=function(){this.input_.removeEventListener("input",this.boundUpdateClassesHandler),this.input_.removeEventListener("focus",this.boundFocusHandler),this.input_.removeEventListener("blur",this.boundBlurHandler),this.stepup_.removeEventListener("mousedown",this.boundStepUpHandler),this.stepdown_.removeEventListener("mousedown",this.boundStepDownHandler),this.input_.removeEventListener("keydown",this.boundKeyDownHandler),this.input_.removeEventListener("keyup",this.boundKeyUpHandler),this.input_.removeEventListener("wheel",this.boundWheelHandler)},componentHandler.register({constructor:SpectreTextfield,classAsString:"SpectreTextfield",cssClass:"spc-js-textfield",widget:!0});