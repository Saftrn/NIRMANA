{"version":3,"sources":["riot.js","big.min.js","cooldown.js","i18n.js","scroll-end.js","spcmixin.js","tooltip.js","unitConversion.js"],"names":["window","undefined","mkitem","expr","key","val","item","pos","unmountRedundant","items","tags","t","i","length","j","splice","unmount","moveNestedTags","child","Object","keys","forEach","tagName","tag","isArray","each","moveChildTag","addVirtual","src","target","sib","el","_root","_virts","nextSibling","insertBefore","appendChild","push","moveVirtual","len","_each","dom","parent","remAttr","hasKeys","mustReorder","getAttr","T_STRING","getTagName","impl","__tagImpl","tmpl","outerHTML","useRoot","SPECIAL_TAGS_REGEX","test","root","parentNode","ref","document","createTextNode","getTag","isOption","toLowerCase","oldItems","isVirtual","loopKeys","one","removeChild","stub","on","frag","createDocumentFragment","map","itemsLength","_mustReorder","oldPos","indexOf","Tag","isLoop","hasImpl","cloneNode","innerHTML","mount","firstChild","update","childNodes","_item","defineProperty","FIREFOX","multiple","n","__riot1374","selectedIndex","slice","parseNamedElements","childTags","forceParsingNamed","walk","nodeType","initChildTag","setNamed","parseExpressions","expressions","addExpr","extra","hasExpr","extend","attr","type","nodeValue","attributes","name","bool","split","value","conf","updateOpts","ctx","self","opts","toCamel","normalizeData","data","T_UNDEF","isWritable","inheritFromParent","k","mustSync","contains","RESERVED_WORDS_BLACKLIST","propsInSyncWithParent","onChildUpdate","toggle","isMount","evt","riot","observable","this","inherit","cleanUpData","_tag","isMounted","__uid","mkdom","isInherited","isObject","trigger","rAF","arguments","mix","instance","mixin","isFunction","prototype","getOwnPropertyNames","bind","init","globalMixin","GLOBAL_MIXIN","fn","call","attrs","walkAttributes","v","setAttr","isInStub","keepRootTag","ptag","p","tagIndex","__virtualDom","getImmediateCustomParentTag","_riot_id","RIOT_TAG_IS","RIOT_TAG","off","setEventHandler","handler","e","_parent","event","currentTarget","srcElement","which","charCode","keyCode","preventDefault","returnValue","preventUpdate","insertTo","node","before","attrName","IE_VERSION","add","remove","inStub","style","display","T_OBJECT","startsWith","RIOT_PREFIX","els","T_FUNCTION","removeAttribute","string","replace","_","c","toUpperCase","getAttribute","setAttribute","addChildTag","cachedTag","newPos","options","enumerable","writable","configurable","namedTag","obj","args","arr","a","Array","props","getOwnPropertyDescriptor","o","html","m","re","exec","mkEl","createElement","$$","selector","querySelectorAll","$","querySelector","Child","getNamedKey","isArr","str","mountTo","_innerHTML","version","settings","documentMode","InstallTrigger","callbacks","onEachEvent","defineProperties","events","typed","cb","apply","fns","arglen","busy","concat","DEFAULT_PARSER","path","DEFAULT_SECOND_PARSER","filter","RegExp","REPLACE","match","debounce","delay","clearTimeout","setTimeout","start","autoExec","debouncedEmit","emit","win","ADD_EVENT_LISTENER","POPSTATE","HASHCHANGE","doc","clickEvent","click","Router","central","s","normalize","isString","getPathFromRoot","href","loc","RE_ORIGIN","getPathFromBase","base","force","isRoot","emitStackLevel","MAX_EMIT_STACK_LEVEL","emitStack","current","TRIGGER","shift","metaKey","ctrlKey","shiftKey","defaultPrevented","nodeName","HAS_ATTRIBUTE","go","title","shouldReplace","hist","replaceState","pushState","routeFound","parser","secondParser","EVENT_LISTENER","REMOVE_EVENT_LISTENER","history","location","prot","ontouchstart","started","first","second","third","r","some","action","mainRouter","route","create","newSubRouter","router","stop","arg","fn2","query","q","readyState","brackets","UNDEF","_loopback","_rewrite","bp","_cache","source","global","REGLOB","_create","pair","DEFAULT","_pairs","Error","S_QBLOCKS","_brackets","reOrIdx","_regex","_reset","cachedBrackets","_setSettings","b","set","get","_settings","R_MLCOMMS","R_STRINGS","FINDBRACES","(","[","{","_bp","unescapeStr","isexpr","parts","skipBraces","ch","ix","recch","lastIndex","index","trim","array","_tmpl","_logErr","err","errorHandler","riotData","_getTmpl","Function","qstr","RE_DQUOTE","list","_parseExpr","join","RE_QBMARK","asText","mm","lv","ir","RE_BREND","RE_QBLOCK","div","CH_IDEXPR","cnt","RE_CSNAME","jsb","rightContext","_wrapExpr","tb","JS_VARNAME","mvar","JS_CONTEXT","JS_NOPROPS","haveRaw","hasRaw","parse","_mkdom","templ","replaceYield","tblTags","specialTags","select","tname","rootEls","childElementCount","reHasYield","reYieldSrc","text","reYieldDest","def","reYieldAll","tr","th","td","col","styleManager","_riot","inject","styleNode","newNode","userNode","id","replaceChild","getElementsByTagName","cssTextProp","styleSheet","stylesToInject","css","cssText","w","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","navigator","userAgent","lastTime","nowtime","Date","now","timeout","Math","max","util","mixins","tag2","addRiotTags","selectAllTags","pushTags","riotTag","allTags","nodeList","_el","vdom","exports","module","define","amd","bigFactory","Big","x","constructor","P","DP","RM","E_NEG","E_POS","format","dp","toE","rnd","toString","nL","isValid","throwErr","NaN","charAt","search","substring","rm","more","u","xc","unshift","pop","message","MAX_DP","MAX_POWER","abs","cmp","y","xNeg","yc","l","dvd","dvs","dvsL","dvsT","next","remI","dvsZ","dvdI","dvdL","rem","remL","qc","qi","digits","eq","gt","gte","lt","lte","sub","minus","xLTy","plus","xe","ye","reverse","mod","yGTx","times","pow","isNeg","round","sqrt","estimate","approx","half","mul","valueOf","toJSON","strL","toExponential","toFixed","neg","toPrecision","sd","_cooldowns","isCoolingDown","time","cd","performance","riotctrl","onUpdateI18n","labels","dataset","i18n","innerText","iaw","getLocalizedString","scrollPane","scrollContainer","addEventListener","onScroll","removeEventListener","offsetHeight","scrollTop","comps","componentHandler","upgradeElements","convert","startingValue","normalizedValue","stringValue","stringArray","resolution","pointsPerInch","picasPerInch","precision","conversionTable","factor","cm","in","px","pt","pc","ha","from","to","Number"],"mappings":"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","file":"fnft-uilib.js","sourcesContent":["/* Riot v2.3.18, @license MIT */\n\n;(function(window, undefined) {\n  'use strict';\nvar riot = { version: 'v2.3.18', settings: {} },\n  // be aware, internal usage\n  // ATTENTION: prefix the global dynamic variables with `__`\n\n  // counter to give a unique id to all the Tag instances\n  __uid = 0,\n  // tags instances cache\n  __virtualDom = [],\n  // tags implementation cache\n  __tagImpl = {},\n\n  /**\n   * Const\n   */\n  GLOBAL_MIXIN = '__global_mixin',\n\n  // riot specific prefixes\n  RIOT_PREFIX = 'riot-',\n  RIOT_TAG = RIOT_PREFIX + 'tag',\n  RIOT_TAG_IS = 'data-is',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n  // special native tags that cannot be treated like the others\n  SPECIAL_TAGS_REGEX = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n  RESERVED_WORDS_BLACKLIST = ['_item', '_id', '_parent', 'update', 'root', 'mount', 'unmount', 'mixin', 'isMounted', 'isLoop', 'tags', 'parent', 'opts', 'trigger', 'on', 'off', 'one'],\n\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (window && window.document || {}).documentMode | 0,\n\n  // detect firefox to fix #1374\n  FIREFOX = window && !!window.InstallTrigger\n/* istanbul ignore next */\nriot.observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables and methods\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice,\n    onEachEvent = function(e, fn) { e.replace(/\\S+/g, fn) }\n\n  // extend the object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given space separated list of `events` and execute the `callback` each time an event is triggered.\n     * @param  { String } events - events ids\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(events, fn) {\n        if (typeof fn != 'function')  return el\n\n        onEachEvent(events, function(name, pos) {\n          (callbacks[name] = callbacks[name] || []).push(fn)\n          fn.typed = pos > 0\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given space separated list of `events` listeners\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(events, fn) {\n        if (events == '*' && !fn) callbacks = {}\n        else {\n          onEachEvent(events, function(name) {\n            if (fn) {\n              var arr = callbacks[name]\n              for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n                if (cb == fn) arr.splice(i--, 1)\n              }\n            } else delete callbacks[name]\n          })\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given space separated list of `events` and execute the `callback` at most once\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(events, fn) {\n        function on() {\n          el.off(events, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(events, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to the given space separated list of `events`\n     * @param   { String } events - events ids\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(events) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns\n\n        for (var i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        onEachEvent(events, function(name) {\n\n          fns = slice.call(callbacks[name] || [], 0)\n\n          for (var i = 0, fn; fn = fns[i]; ++i) {\n            if (fn.busy) return\n            fn.busy = 1\n            fn.apply(el, fn.typed ? [name].concat(args) : args)\n            if (fns[i] !== fn) { i-- }\n            fn.busy = 0\n          }\n\n          if (callbacks['*'] && name != '*')\n            el.trigger.apply(el, ['*', name].concat(args))\n\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n/* istanbul ignore next */\n;(function(riot) {\n\n/**\n * Simple client-side router\n * @module riot-route\n */\n\n\nvar RE_ORIGIN = /^.+?\\/\\/+[^\\/]+/,\n  EVENT_LISTENER = 'EventListener',\n  REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER,\n  ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER,\n  HAS_ATTRIBUTE = 'hasAttribute',\n  REPLACE = 'replace',\n  POPSTATE = 'popstate',\n  HASHCHANGE = 'hashchange',\n  TRIGGER = 'trigger',\n  MAX_EMIT_STACK_LEVEL = 3,\n  win = typeof window != 'undefined' && window,\n  doc = typeof document != 'undefined' && document,\n  hist = win && history,\n  loc = win && (hist.location || win.location), // see html5-history-api\n  prot = Router.prototype, // to minify more\n  clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click',\n  started = false,\n  central = riot.observable(),\n  routeFound = false,\n  debouncedEmit,\n  base, current, parser, secondParser, emitStack = [], emitStackLevel = 0\n\n/**\n * Default parser. You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_PARSER(path) {\n  return path.split(/[/?#]/)\n}\n\n/**\n * Default parser (second). You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @param {string} filter - filter string (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_SECOND_PARSER(path, filter) {\n  var re = new RegExp('^' + filter[REPLACE](/\\*/g, '([^/?#]+?)')[REPLACE](/\\.\\./, '.*') + '$'),\n    args = path.match(re)\n\n  if (args) return args.slice(1)\n}\n\n/**\n * Simple/cheap debounce implementation\n * @param   {function} fn - callback\n * @param   {number} delay - delay in seconds\n * @returns {function} debounced function\n */\nfunction debounce(fn, delay) {\n  var t\n  return function () {\n    clearTimeout(t)\n    t = setTimeout(fn, delay)\n  }\n}\n\n/**\n * Set the window listeners to trigger the routes\n * @param {boolean} autoExec - see route.start\n */\nfunction start(autoExec) {\n  debouncedEmit = debounce(emit, 1)\n  win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit)\n  win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n  doc[ADD_EVENT_LISTENER](clickEvent, click)\n  if (autoExec) emit(true)\n}\n\n/**\n * Router class\n */\nfunction Router() {\n  this.$ = []\n  riot.observable(this) // make it observable\n  central.on('stop', this.s.bind(this))\n  central.on('emit', this.e.bind(this))\n}\n\nfunction normalize(path) {\n  return path[REPLACE](/^\\/|\\/$/, '')\n}\n\nfunction isString(str) {\n  return typeof str == 'string'\n}\n\n/**\n * Get the part after domain name\n * @param {string} href - fullpath\n * @returns {string} path from root\n */\nfunction getPathFromRoot(href) {\n  return (href || loc.href)[REPLACE](RE_ORIGIN, '')\n}\n\n/**\n * Get the part after base\n * @param {string} href - fullpath\n * @returns {string} path from base\n */\nfunction getPathFromBase(href) {\n  return base[0] == '#'\n    ? (href || loc.href || '').split(base)[1] || ''\n    : (loc ? getPathFromRoot(href) : href || '')[REPLACE](base, '')\n}\n\nfunction emit(force) {\n  // the stack is needed for redirections\n  var isRoot = emitStackLevel == 0\n  if (MAX_EMIT_STACK_LEVEL <= emitStackLevel) return\n\n  emitStackLevel++\n  emitStack.push(function() {\n    var path = getPathFromBase()\n    if (force || path != current) {\n      central[TRIGGER]('emit', path)\n      current = path\n    }\n  })\n  if (isRoot) {\n    while (emitStack.length) {\n      emitStack[0]()\n      emitStack.shift()\n    }\n    emitStackLevel = 0\n  }\n}\n\nfunction click(e) {\n  if (\n    e.which != 1 // not left click\n    || e.metaKey || e.ctrlKey || e.shiftKey // or meta keys\n    || e.defaultPrevented // or default prevented\n  ) return\n\n  var el = e.target\n  while (el && el.nodeName != 'A') el = el.parentNode\n\n  if (\n    !el || el.nodeName != 'A' // not A tag\n    || el[HAS_ATTRIBUTE]('download') // has download attr\n    || !el[HAS_ATTRIBUTE]('href') // has no href attr\n    || el.target && el.target != '_self' // another window or frame\n    || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) == -1 // cross origin\n  ) return\n\n  if (el.href != loc.href) {\n    if (\n      el.href.split('#')[0] == loc.href.split('#')[0] // internal jump\n      || base != '#' && getPathFromRoot(el.href).indexOf(base) !== 0 // outside of base\n      || !go(getPathFromBase(el.href), el.title || doc.title) // route not found\n    ) return\n  }\n\n  e.preventDefault()\n}\n\n/**\n * Go to the path\n * @param {string} path - destination path\n * @param {string} title - page title\n * @param {boolean} shouldReplace - use replaceState or pushState\n * @returns {boolean} - route not found flag\n */\nfunction go(path, title, shouldReplace) {\n  if (hist) { // if a browser\n    path = base + normalize(path)\n    title = title || doc.title\n    // browsers ignores the second parameter `title`\n    shouldReplace\n      ? hist.replaceState(null, title, path)\n      : hist.pushState(null, title, path)\n    // so we need to set it manually\n    doc.title = title\n    routeFound = false\n    emit()\n    return routeFound\n  }\n\n  // Server-side usage: directly execute handlers for the path\n  return central[TRIGGER]('emit', getPathFromBase(path))\n}\n\n/**\n * Go to path or set action\n * a single string:                go there\n * two strings:                    go there with setting a title\n * two strings and boolean:        replace history with setting a title\n * a single function:              set an action on the default route\n * a string/RegExp and a function: set an action on the route\n * @param {(string|function)} first - path / action / filter\n * @param {(string|RegExp|function)} second - title / action\n * @param {boolean} third - replace flag\n */\nprot.m = function(first, second, third) {\n  if (isString(first) && (!second || isString(second))) go(first, second, third || false)\n  else if (second) this.r(first, second)\n  else this.r('@', first)\n}\n\n/**\n * Stop routing\n */\nprot.s = function() {\n  this.off('*')\n  this.$ = []\n}\n\n/**\n * Emit\n * @param {string} path - path\n */\nprot.e = function(path) {\n  this.$.concat('@').some(function(filter) {\n    var args = (filter == '@' ? parser : secondParser)(normalize(path), normalize(filter))\n    if (typeof args != 'undefined') {\n      this[TRIGGER].apply(null, [filter].concat(args))\n      return routeFound = true // exit from loop\n    }\n  }, this)\n}\n\n/**\n * Register route\n * @param {string} filter - filter for matching to url\n * @param {function} action - action to register\n */\nprot.r = function(filter, action) {\n  if (filter != '@') {\n    filter = '/' + normalize(filter)\n    this.$.push(filter)\n  }\n  this.on(filter, action)\n}\n\nvar mainRouter = new Router()\nvar route = mainRouter.m.bind(mainRouter)\n\n/**\n * Create a sub router\n * @returns {function} the method of a new Router object\n */\nroute.create = function() {\n  var newSubRouter = new Router()\n  // assign sub-router's main method\n  var router = newSubRouter.m.bind(newSubRouter)\n  // stop only this sub-router\n  router.stop = newSubRouter.s.bind(newSubRouter)\n  return router\n}\n\n/**\n * Set the base of url\n * @param {(str|RegExp)} arg - a new base or '#' or '#!'\n */\nroute.base = function(arg) {\n  base = arg || '#'\n  current = getPathFromBase() // recalculate current path\n}\n\n/** Exec routing right now **/\nroute.exec = function() {\n  emit(true)\n}\n\n/**\n * Replace the default router to yours\n * @param {function} fn - your parser function\n * @param {function} fn2 - your secondParser function\n */\nroute.parser = function(fn, fn2) {\n  if (!fn && !fn2) {\n    // reset parser for testing...\n    parser = DEFAULT_PARSER\n    secondParser = DEFAULT_SECOND_PARSER\n  }\n  if (fn) parser = fn\n  if (fn2) secondParser = fn2\n}\n\n/**\n * Helper function to get url query as an object\n * @returns {object} parsed query\n */\nroute.query = function() {\n  var q = {}\n  var href = loc.href || current\n  href[REPLACE](/[?&](.+?)=([^&]*)/g, function(_, k, v) { q[k] = v })\n  return q\n}\n\n/** Stop routing **/\nroute.stop = function () {\n  if (started) {\n    if (win) {\n      win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit)\n      win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n      doc[REMOVE_EVENT_LISTENER](clickEvent, click)\n    }\n    central[TRIGGER]('stop')\n    started = false\n  }\n}\n\n/**\n * Start routing\n * @param {boolean} autoExec - automatically exec after starting if true\n */\nroute.start = function (autoExec) {\n  if (!started) {\n    if (win) {\n      if (document.readyState == 'complete') start(autoExec)\n      // the timeout is needed to solve\n      // a weird safari bug https://github.com/riot/route/issues/33\n      else win[ADD_EVENT_LISTENER]('load', function() {\n        setTimeout(function() { start(autoExec) }, 1)\n      })\n    }\n    started = true\n  }\n}\n\n/** Prepare the router **/\nroute.base()\nroute.parser()\n\nriot.route = route\n})(riot)\n/* istanbul ignore next */\n\n/**\n * The riot template engine\n * @version v2.3.22\n */\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?(\\/)[gim]*/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCKS, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCKS, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCKS, REGLOB)\n    },\n\n    DEFAULT = '{ }'\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCKS, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ]\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) bp = _cache\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) return _pairs\n\n    var arr = pair.split(' ')\n\n    if (arr.length !== 2 || /[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]/.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(/(?=[[\\]()*+?.^$|])/g, '\\\\').split(' '))\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr)\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr)\n    arr[6] = _rewrite(_pairs[6], arr)\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCKS, REGLOB)\n    arr[8] = pair\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) _bp = _cache\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6]\n\n    isexpr = start = re.lastIndex = 0\n\n    while ((match = re.exec(str))) {\n\n      pos = match.index\n\n      if (isexpr) {\n\n        if (match[2]) {\n          re.lastIndex = skipBraces(str, match[2], re.lastIndex)\n          continue\n        }\n        if (!match[3]) {\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos))\n        start = re.lastIndex\n        re = _bp[6 + (isexpr ^= 1)]\n        re.lastIndex = start\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start))\n    }\n\n    return parts\n\n    function unescapeStr (s) {\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'))\n      } else {\n        parts.push(s)\n      }\n    }\n\n    function skipBraces (s, ch, ix) {\n      var\n        match,\n        recch = FINDBRACES[ch]\n\n      recch.lastIndex = ix\n      ix = 1\n      while ((match = recch.exec(s))) {\n        if (match[1] &&\n          !(match[1] === ch ? ++ix : --ix)) break\n      }\n      return ix ? s.length : recch.lastIndex\n    }\n  }\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  }\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9])\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  }\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  }\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair)\n      _regex = pair === DEFAULT ? _loopback : _rewrite\n      _cache[9] = _regex(_pairs[9])\n    }\n    cachedBrackets = pair\n  }\n\n  function _setSettings (o) {\n    var b\n\n    o = o || {}\n    b = o.brackets\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    })\n    _settings = o\n    _reset(b)\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  })\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {}\n  _brackets.set = _reset\n\n  _brackets.R_STRINGS = R_STRINGS\n  _brackets.R_MLCOMMS = R_MLCOMMS\n  _brackets.S_QBLOCKS = S_QBLOCKS\n\n  return _brackets\n\n})()\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\nvar tmpl = (function () {\n\n  var _cache = {}\n\n  function _tmpl (str, data) {\n    if (!str) return str\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(data, _logErr)\n  }\n\n  _tmpl.haveRaw = brackets.hasRaw\n\n  _tmpl.hasExpr = brackets.hasExpr\n\n  _tmpl.loopKeys = brackets.loopKeys\n\n  _tmpl.errorHandler = null\n\n  function _logErr (err, ctx) {\n\n    if (_tmpl.errorHandler) {\n\n      err.riotData = {\n        tagName: ctx && ctx.root && ctx.root.tagName,\n        _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n      }\n      _tmpl.errorHandler(err)\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str)\n\n    if (expr.slice(0, 11) !== 'try{return ') expr = 'return ' + expr\n\n    return new Function('E', expr + ';')    //eslint-disable-line no-new-func\n  }\n\n  var\n    CH_IDEXPR = '\\u2057',\n    RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/,\n    RE_QBLOCK = RegExp(brackets.S_QBLOCKS, 'g'),\n    RE_DQUOTE = /\\u2057/g,\n    RE_QBMARK = /\\u2057(\\d+)~/g\n\n  function _getTmpl (str) {\n    var\n      qstr = [],\n      expr,\n      parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1)\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = []\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i]\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) list[j++] = expr\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")'\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr)\n    }\n\n    if (qstr[0]) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      })\n    }\n    return expr\n  }\n\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    }\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n          .replace(RE_QBLOCK, function (s, div) {\n            return s.length > 2 && !div ? CH_IDEXPR + (qstr.push(s) - 1) + '~' : s\n          })\n          .replace(/\\s+/g, ' ').trim()\n          .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1')\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g\n\n        expr = RegExp.rightContext\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1]\n\n        while (jsb = (match = re.exec(expr))[1]) skipBraces(jsb, re)\n\n        jsb  = expr.slice(0, match.index)\n        expr = RegExp.rightContext\n\n        list[cnt++] = _wrapExpr(jsb, 1, key)\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0]\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch]\n\n      ir.lastIndex = re.lastIndex\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) ++lv\n        else if (!--lv) break\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][$\\w]+:|(^ *|[^$\\w\\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/\n\n  function _wrapExpr (expr, asText, key) {\n    var tb\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar\n          if (pos) tb = (s = s[pos]) === '.' || s === '(' || s === '['\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos))\n        }\n      }\n      return match\n    })\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}'\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"'\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)'\n    }\n\n    return expr\n  }\n\n  // istanbul ignore next: compatibility fix for beta versions\n  _tmpl.parse = function (s) { return s }\n\n  _tmpl.version = brackets.version = 'v2.3.22'\n\n  return _tmpl\n\n})()\n\n/*\n  lib/browser/tag/mkdom.js\n\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\nvar mkdom = (function _mkdom() {\n  var\n    reHasYield  = /<yield\\b/i,\n    reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n    reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n    reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig\n  var\n    rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n    tblTags = IE_VERSION && IE_VERSION < 10\n      ? SPECIAL_TAGS_REGEX : /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/\n\n  /**\n   * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n   * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n   *\n   * @param   {string} templ  - The template coming from the custom tag definition\n   * @param   {string} [html] - HTML content that comes from the DOM element where you\n   *           will mount the tag, mostly the original tag in the page\n   * @returns {HTMLElement} DOM element with _templ_ merged through `YIELD` with the _html_.\n   */\n  function _mkdom(templ, html) {\n    var\n      match   = templ && templ.match(/^\\s*<([-\\w]+)/),\n      tagName = match && match[1].toLowerCase(),\n      el = mkEl('div')\n\n    // replace all the yield tags with the tag inner html\n    templ = replaceYield(templ, html)\n\n    /* istanbul ignore next */\n    if (tblTags.test(tagName))\n      el = specialTags(el, templ, tagName)\n    else\n      el.innerHTML = templ\n\n    el.stub = true\n\n    return el\n  }\n\n  /*\n    Creates the root element for table or select child elements:\n    tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n  */\n  function specialTags(el, templ, tagName) {\n    var\n      select = tagName[0] === 'o',\n      parent = select ? 'select>' : 'table>'\n\n    // trim() is important here, this ensures we don't have artifacts,\n    // so we can check if we have only one element inside the parent\n    el.innerHTML = '<' + parent + templ.trim() + '</' + parent\n    parent = el.firstChild\n\n    // returns the immediate parent if tr/th/td/col is the only element, if not\n    // returns the whole tree, as this can include additional elements\n    if (select) {\n      parent.selectedIndex = -1  // for IE9, compatible w/current riot behavior\n    } else {\n      // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n      var tname = rootEls[tagName]\n      if (tname && parent.childElementCount === 1) parent = $(tname, parent)\n    }\n    return parent\n  }\n\n  /*\n    Replace the yield tag from any tag template with the innerHTML of the\n    original tag in the page\n  */\n  function replaceYield(templ, html) {\n    // do nothing if no yield\n    if (!reHasYield.test(templ)) return templ\n\n    // be careful with #1343 - string on the source having `$1`\n    var src = {}\n\n    html = html && html.replace(reYieldSrc, function (_, ref, text) {\n      src[ref] = src[ref] || text   // preserve first definition\n      return ''\n    }).trim()\n\n    return templ\n      .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n        return src[ref] || def || ''\n      })\n      .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n        return html || def || ''\n      })\n  }\n\n  return _mkdom\n\n})()\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val) {\n  var item = {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n\n  var i = tags.length,\n    j = items.length,\n    t\n\n  while (i > j) {\n    t = tags[--i]\n    tags.splice(i, 1)\n    t.unmount()\n  }\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @param   { Object } child - non custom loop tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(child, i) {\n  Object.keys(child.tags).forEach(function(tagName) {\n    var tag = child.tags[tagName]\n    if (isArray(tag))\n      each(tag, function (t) {\n        moveChildTag(t, tagName, i)\n      })\n    else\n      moveChildTag(tag, tagName, i)\n  })\n}\n\n/**\n * Adds the elements for a virtual tag\n * @param { Tag } tag - the tag whose root's children will be inserted or appended\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction addVirtual(tag, src, target) {\n  var el = tag._root, sib\n  tag._virts = []\n  while (el) {\n    sib = el.nextSibling\n    if (target)\n      src.insertBefore(el, target._root)\n    else\n      src.appendChild(el)\n\n    tag._virts.push(el) // hold for unmounting\n    el = sib\n  }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @param { Tag } tag - first child reference used to start move\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n * @param { Number } len - how many child nodes to move\n */\nfunction moveVirtual(tag, src, target, len) {\n  var el = tag._root, sib, i = 0\n  for (; i < len; i++) {\n    sib = el.nextSibling\n    src.insertBefore(el, target._root)\n    el = sib\n  }\n}\n\n\n/**\n * Manage tags having the 'each'\n * @param   { Object } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n */\nfunction _each(dom, parent, expr) {\n\n  // remove the each property from the original tag\n  remAttr(dom, 'each')\n\n  var mustReorder = typeof getAttr(dom, 'no-reorder') !== T_STRING || remAttr(dom, 'no-reorder'),\n    tagName = getTagName(dom),\n    impl = __tagImpl[tagName] || { tmpl: dom.outerHTML },\n    useRoot = SPECIAL_TAGS_REGEX.test(tagName),\n    root = dom.parentNode,\n    ref = document.createTextNode(''),\n    child = getTag(dom),\n    isOption = tagName.toLowerCase() === 'option', // the option tags must be treated differently\n    tags = [],\n    oldItems = [],\n    hasKeys,\n    isVirtual = dom.tagName == 'VIRTUAL'\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr)\n\n  // insert a marked where the loop tags will be injected\n  root.insertBefore(ref, dom)\n\n  // clean template code\n  parent.one('before-mount', function () {\n\n    // remove the original DOM node\n    dom.parentNode.removeChild(dom)\n    if (root.stub) root = parent.root\n\n  }).on('update', function () {\n    // get the new items collection\n    var items = tmpl(expr.val, parent),\n      // create a fragment to hold the new DOM nodes to inject in the parent tag\n      frag = document.createDocumentFragment()\n\n    // object loop. any changes cause full redraw\n    if (!isArray(items)) {\n      hasKeys = items || false\n      items = hasKeys ?\n        Object.keys(items).map(function (key) {\n          return mkitem(expr, key, items[key])\n        }) : []\n    }\n\n    // loop all the new items\n    var i = 0,\n      itemsLength = items.length\n\n    for (; i < itemsLength; i++) {\n      // reorder only if the items are objects\n      var\n        item = items[i],\n        _mustReorder = mustReorder && item instanceof Object && !hasKeys,\n        oldPos = oldItems.indexOf(item),\n        pos = ~oldPos && _mustReorder ? oldPos : i,\n        // does a tag exist in this position?\n        tag = tags[pos]\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item\n\n      // new tag\n      if (\n        !_mustReorder && !tag // with no-reorder we just update the old tags\n        ||\n        _mustReorder && !~oldPos || !tag // by default we always try to reorder the DOM elements\n      ) {\n\n        tag = new Tag(impl, {\n          parent: parent,\n          isLoop: true,\n          hasImpl: !!__tagImpl[tagName],\n          root: useRoot ? root : dom.cloneNode(),\n          item: item\n        }, dom.innerHTML)\n\n        tag.mount()\n\n        if (isVirtual) tag._root = tag.root.firstChild // save reference for further moves or inserts\n        // this tag must be appended\n        if (i == tags.length || !tags[i]) { // fix 1581\n          if (isVirtual)\n            addVirtual(tag, frag)\n          else frag.appendChild(tag.root)\n        }\n        // this tag must be insert\n        else {\n          if (isVirtual)\n            addVirtual(tag, root, tags[i])\n          else root.insertBefore(tag.root, tags[i].root) // #1374 some browsers reset selected here\n          oldItems.splice(i, 0, item)\n        }\n\n        tags.splice(i, 0, tag)\n        pos = i // handled here so no move\n      } else tag.update(item, true)\n\n      // reorder the tag if it's not located in its previous position\n      if (\n        pos !== i && _mustReorder &&\n        tags[i] // fix 1581 unable to reproduce it in a test!\n      ) {\n        // update the DOM\n        if (isVirtual)\n          moveVirtual(tag, root, tags[i], dom.childNodes.length)\n        else root.insertBefore(tag.root, tags[i].root)\n        // update the position attribute if it exists\n        if (expr.pos)\n          tag[expr.pos] = i\n        // move the old tag instance\n        tags.splice(i, 0, tags.splice(pos, 1)[0])\n        // move the old item\n        oldItems.splice(i, 0, oldItems.splice(pos, 1)[0])\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) moveNestedTags(tag, i)\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag._item = item\n      // cache the real parent tag internally\n      defineProperty(tag, '_parent', parent)\n    }\n\n    // remove the redundant tags\n    unmountRedundant(items, tags)\n\n    // insert the new nodes\n    if (isOption) {\n      root.appendChild(frag)\n\n      // #1374 FireFox bug in <option selected={expression}>\n      if (FIREFOX && !root.multiple) {\n        for (var n = 0; n < root.length; n++) {\n          if (root[n].__riot1374) {\n            root.selectedIndex = n  // clear other options\n            delete root[n].__riot1374\n            break\n          }\n        }\n      }\n    }\n    else root.insertBefore(frag, ref)\n\n    // set the 'tags' property of the parent tag\n    // if child is 'undefined' it means that we don't need to set this property\n    // for example:\n    // we don't need store the `myTag.tags['div']` property if we are looping a div tag\n    // but we need to track the `myTag.tags['child']` property looping a custom child node named `child`\n    if (child) parent.tags[tagName] = tags\n\n    // clone the items array\n    oldItems = items.slice()\n\n  })\n\n}\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = (function(_riot) {\n\n  if (!window) return { // skip injection on the server\n    add: function () {},\n    inject: function () {}\n  }\n\n  var styleNode = (function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style')\n    setAttr(newNode, 'type', 'text/css')\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]')\n    if (userNode) {\n      if (userNode.id) newNode.id = userNode.id\n      userNode.parentNode.replaceChild(newNode, userNode)\n    }\n    else document.getElementsByTagName('head')[0].appendChild(newNode)\n\n    return newNode\n  })()\n\n  // Create cache and shortcut to the correct property\n  var cssTextProp = styleNode.styleSheet,\n    stylesToInject = ''\n\n  // Expose the style node in a non-modificable property\n  Object.defineProperty(_riot, 'styleNode', {\n    value: styleNode,\n    writable: true\n  })\n\n  /**\n   * Public api\n   */\n  return {\n    /**\n     * Save a tag style to be later injected into DOM\n     * @param   { String } css [description]\n     */\n    add: function(css) {\n      stylesToInject += css\n    },\n    /**\n     * Inject all previously saved tag styles into DOM\n     * innerHTML seems slow: http://jsperf.com/riot-insert-style\n     */\n    inject: function() {\n      if (stylesToInject) {\n        if (cssTextProp) cssTextProp.cssText += stylesToInject\n        else styleNode.innerHTML += stylesToInject\n        stylesToInject = ''\n      }\n    }\n  }\n\n})(riot)\n\n\nfunction parseNamedElements(root, tag, childTags, forceParsingNamed) {\n\n  walk(root, function(dom) {\n    if (dom.nodeType == 1) {\n      dom.isLoop = dom.isLoop ||\n                  (dom.parentNode && dom.parentNode.isLoop || getAttr(dom, 'each'))\n                    ? 1 : 0\n\n      // custom child tag\n      if (childTags) {\n        var child = getTag(dom)\n\n        if (child && !dom.isLoop)\n          childTags.push(initChildTag(child, {root: dom, parent: tag}, dom.innerHTML, tag))\n      }\n\n      if (!dom.isLoop || forceParsingNamed)\n        setNamed(dom, tag, [])\n    }\n\n  })\n\n}\n\nfunction parseExpressions(root, tag, expressions) {\n\n  function addExpr(dom, val, extra) {\n    if (tmpl.hasExpr(val)) {\n      expressions.push(extend({ dom: dom, expr: val }, extra))\n    }\n  }\n\n  walk(root, function(dom) {\n    var type = dom.nodeType,\n      attr\n\n    // text node\n    if (type == 3 && dom.parentNode.tagName != 'STYLE') addExpr(dom, dom.nodeValue)\n    if (type != 1) return\n\n    /* element */\n\n    // loop\n    attr = getAttr(dom, 'each')\n\n    if (attr) { _each(dom, tag, attr); return false }\n\n    // attribute expressions\n    each(dom.attributes, function(attr) {\n      var name = attr.name,\n        bool = name.split('__')[1]\n\n      addExpr(dom, attr.value, { attr: bool || name, bool: bool })\n      if (bool) { remAttr(dom, name); return false }\n\n    })\n\n    // skip custom tags\n    if (getTag(dom)) return false\n\n  })\n\n}\nfunction Tag(impl, conf, innerHTML) {\n\n  var self = riot.observable(this),\n    opts = inherit(conf.opts) || {},\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    hasImpl = conf.hasImpl,\n    item = cleanUpData(conf.item),\n    expressions = [],\n    childTags = [],\n    root = conf.root,\n    tagName = root.tagName.toLowerCase(),\n    attr = {},\n    propsInSyncWithParent = [],\n    dom\n\n  // only call unmount if we have a valid __tagImpl (has name property)\n  if (impl.name && root._tag) root._tag.unmount(true)\n\n  // not yet mounted\n  this.isMounted = false\n  root.isLoop = isLoop\n\n  // keep a reference to the tag just created\n  // so we will be able to mount this tag multiple times\n  root._tag = this\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++__uid) // base 1 allows test !t._riot_id\n\n  extend(this, { parent: parent, root: root, opts: opts, tags: {} }, item)\n\n  // grab attributes\n  each(root.attributes, function(el) {\n    var val = el.value\n    // remember attributes with expressions only\n    if (tmpl.hasExpr(val)) attr[el.name] = val\n  })\n\n  dom = mkdom(impl.tmpl, innerHTML)\n\n  // options\n  function updateOpts() {\n    var ctx = hasImpl && isLoop ? self : parent || self\n\n    // update opts from current DOM attributes\n    each(root.attributes, function(el) {\n      var val = el.value\n      opts[toCamel(el.name)] = tmpl.hasExpr(val) ? tmpl(val, ctx) : val\n    })\n    // recover those with expressions\n    each(Object.keys(attr), function(name) {\n      opts[toCamel(name)] = tmpl(attr[name], ctx)\n    })\n  }\n\n  function normalizeData(data) {\n    for (var key in item) {\n      if (typeof self[key] !== T_UNDEF && isWritable(self, key))\n        self[key] = data[key]\n    }\n  }\n\n  function inheritFromParent () {\n    if (!self.parent || !isLoop) return\n    each(Object.keys(self.parent), function(k) {\n      // some properties must be always in sync with the parent tag\n      var mustSync = !contains(RESERVED_WORDS_BLACKLIST, k) && contains(propsInSyncWithParent, k)\n      if (typeof self[k] === T_UNDEF || mustSync) {\n        // track the property to keep in sync\n        // so we can keep it updated\n        if (!mustSync) propsInSyncWithParent.push(k)\n        self[k] = self.parent[k]\n      }\n    })\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @param   { Boolean } isInherited - is this update coming from a parent tag?\n   * @returns { self }\n   */\n  defineProperty(this, 'update', function(data, isInherited) {\n\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data)\n    // inherit properties from the parent\n    inheritFromParent()\n    // normalize the tag properties in case an item object was initially passed\n    if (data && isObject(item)) {\n      normalizeData(data)\n      item = data\n    }\n    extend(self, data)\n    updateOpts()\n    self.trigger('update', data)\n    update(expressions, self)\n\n    // the updated event will be triggered\n    // once the DOM will be ready and all the re-flows are completed\n    // this is useful if you want to get the \"real\" root properties\n    // 4 ex: root.offsetWidth ...\n    if (isInherited && self.parent)\n      // closes #1599\n      self.parent.one('updated', function() { self.trigger('updated') })\n    else rAF(function() { self.trigger('updated') })\n\n    return this\n  })\n\n  defineProperty(this, 'mixin', function() {\n    each(arguments, function(mix) {\n      var instance\n\n      mix = typeof mix === T_STRING ? riot.mixin(mix) : mix\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix()\n        // save the prototype to loop it afterwards\n        mix = mix.prototype\n      } else instance = mix\n\n      // loop the keys in the function prototype or the all object keys\n      each(Object.getOwnPropertyNames(mix), function(key) {\n        // bind methods to self\n        if (key != 'init')\n          self[key] = isFunction(instance[key]) ?\n                        instance[key].bind(self) :\n                        instance[key]\n      })\n\n      // init method will be called automatically\n      if (instance.init) instance.init.bind(self)()\n    })\n    return this\n  })\n\n  defineProperty(this, 'mount', function() {\n\n    updateOpts()\n\n    // add global mixin\n    var globalMixin = riot.mixin(GLOBAL_MIXIN)\n    if (globalMixin) self.mixin(globalMixin)\n\n    // initialiation\n    if (impl.fn) impl.fn.call(self, opts)\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions(dom, self, expressions)\n\n    // mount the child tags\n    toggle(true)\n\n    // update the root adding custom attributes coming from the compiler\n    // it fixes also #1087\n    if (impl.attrs)\n      walkAttributes(impl.attrs, function (k, v) { setAttr(root, k, v) })\n    if (impl.attrs || hasImpl)\n      parseExpressions(self.root, self, expressions)\n\n    if (!self.parent || isLoop) self.update(item)\n\n    // internal use only, fixes #403\n    self.trigger('before-mount')\n\n    if (isLoop && !hasImpl) {\n      // update the root attribute for the looped elements\n      root = dom.firstChild\n    } else {\n      while (dom.firstChild) root.appendChild(dom.firstChild)\n      if (root.stub) root = parent.root\n    }\n\n    defineProperty(self, 'root', root)\n\n    // parse the named dom nodes in the looped child\n    // adding them to the parent as well\n    if (isLoop)\n      parseNamedElements(self.root, self.parent, null, true)\n\n    // if it's not a child tag we can trigger its mount event\n    if (!self.parent || self.parent.isMounted) {\n      self.isMounted = true\n      self.trigger('mount')\n    }\n    // otherwise we need to wait that the parent event gets triggered\n    else self.parent.one('mount', function() {\n      // avoid to trigger the `mount` event for the tags\n      // not visible included in an if statement\n      if (!isInStub(self.root)) {\n        self.parent.isMounted = self.isMounted = true\n        self.trigger('mount')\n      }\n    })\n  })\n\n\n  defineProperty(this, 'unmount', function(keepRootTag) {\n    var el = root,\n      p = el.parentNode,\n      ptag,\n      tagIndex = __virtualDom.indexOf(self)\n\n    self.trigger('before-unmount')\n\n    // remove this tag instance from the global virtualDom variable\n    if (~tagIndex)\n      __virtualDom.splice(tagIndex, 1)\n\n    if (p) {\n\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent)\n        // remove this tag from the parent tags object\n        // if there are multiple nested tags with same name..\n        // remove this element form the array\n        if (isArray(ptag.tags[tagName]))\n          each(ptag.tags[tagName], function(tag, i) {\n            if (tag._riot_id == self._riot_id)\n              ptag.tags[tagName].splice(i, 1)\n          })\n        else\n          // otherwise just delete the tag instance\n          ptag.tags[tagName] = undefined\n      }\n\n      else\n        while (el.firstChild) el.removeChild(el.firstChild)\n\n      if (!keepRootTag)\n        p.removeChild(el)\n      else {\n        // the riot-tag and the data-is attributes aren't needed anymore, remove them\n        remAttr(p, RIOT_TAG_IS)\n        remAttr(p, RIOT_TAG) // this will be removed in riot 3.0.0\n      }\n\n    }\n\n    if (this._virts) {\n      each(this._virts, function(v) {\n        if (v.parentNode) v.parentNode.removeChild(v)\n      })\n    }\n\n    self.trigger('unmount')\n    toggle()\n    self.off('*')\n    self.isMounted = false\n    delete root._tag\n\n  })\n\n  // proxy function to bind updates\n  // dispatched from a parent tag\n  function onChildUpdate(data) { self.update(data, true) }\n\n  function toggle(isMount) {\n\n    // mount/unmount children\n    each(childTags, function(child) { child[isMount ? 'mount' : 'unmount']() })\n\n    // listen/unlisten parent (events flow one way from parent to children)\n    if (!parent) return\n    var evt = isMount ? 'on' : 'off'\n\n    // the loop tags will be always in sync with the parent automatically\n    if (isLoop)\n      parent[evt]('unmount', self.unmount)\n    else {\n      parent[evt]('update', onChildUpdate)[evt]('unmount', self.unmount)\n    }\n  }\n\n\n  // named elements available for fn\n  parseNamedElements(dom, this, childTags)\n\n}\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n\n  dom[name] = function(e) {\n\n    var ptag = tag._parent,\n      item = tag._item,\n      el\n\n    if (!item)\n      while (ptag && !item) {\n        item = ptag._item\n        ptag = ptag._parent\n      }\n\n    // cross browser event fix\n    e = e || window.event\n\n    // override the event properties\n    if (isWritable(e, 'currentTarget')) e.currentTarget = dom\n    if (isWritable(e, 'target')) e.target = e.srcElement\n    if (isWritable(e, 'which')) e.which = e.charCode || e.keyCode\n\n    e.item = item\n\n    // prevent default behaviour (by default)\n    if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {\n      if (e.preventDefault) e.preventDefault()\n      e.returnValue = false\n    }\n\n    if (!e.preventUpdate) {\n      el = item ? getImmediateCustomParentTag(ptag) : tag\n      el.update()\n    }\n\n  }\n\n}\n\n\n/**\n * Insert a DOM node replacing another one (used by if- attribute)\n * @param   { Object } root - parent node\n * @param   { Object } node - node replaced\n * @param   { Object } before - node added\n */\nfunction insertTo(root, node, before) {\n  if (!root) return\n  root.insertBefore(before, node)\n  root.removeChild(node)\n}\n\n/**\n * Update the expressions in a Tag instance\n * @param   { Array } expressions - expression that must be re evaluated\n * @param   { Tag } tag - tag instance\n */\nfunction update(expressions, tag) {\n\n  each(expressions, function(expr, i) {\n\n    var dom = expr.dom,\n      attrName = expr.attr,\n      value = tmpl(expr.expr, tag),\n      parent = expr.dom.parentNode\n\n    if (expr.bool) {\n      value = !!value\n    } else if (value == null) {\n      value = ''\n    }\n\n    // #1638: regression of #1612, update the dom only if the value of the\n    // expression was changed\n    if (expr.value === value) {\n      return\n    }\n    expr.value = value\n\n    // textarea and text nodes has no attribute name\n    if (!attrName) {\n      // about #815 w/o replace: the browser converts the value to a string,\n      // the comparison by \"==\" does too, but not in the server\n      value += ''\n      // test for parent avoids error with invalid assignment to nodeValue\n      if (parent) {\n        if (parent.tagName === 'TEXTAREA') {\n          parent.value = value                    // #1113\n          if (!IE_VERSION) dom.nodeValue = value  // #1625 IE throws here, nodeValue\n        }                                         // will be available on 'updated'\n        else dom.nodeValue = value\n      }\n      return\n    }\n\n    // ~~#1612: look for changes in dom.value when updating the value~~\n    if (attrName === 'value') {\n      dom.value = value\n      return\n    }\n\n    // remove original attribute\n    remAttr(dom, attrName)\n\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, tag)\n\n    // if- conditional\n    } else if (attrName == 'if') {\n      var stub = expr.stub,\n        add = function() { insertTo(stub.parentNode, stub, dom) },\n        remove = function() { insertTo(dom.parentNode, dom, stub) }\n\n      // add to DOM\n      if (value) {\n        if (stub) {\n          add()\n          dom.inStub = false\n          // avoid to trigger the mount event if the tags is not visible yet\n          // maybe we can optimize this avoiding to mount the tag at all\n          if (!isInStub(dom)) {\n            walk(dom, function(el) {\n              if (el._tag && !el._tag.isMounted)\n                el._tag.isMounted = !!el._tag.trigger('mount')\n            })\n          }\n        }\n      // remove from DOM\n      } else {\n        stub = expr.stub = stub || document.createTextNode('')\n        // if the parentNode is defined we can easily replace the tag\n        if (dom.parentNode)\n          remove()\n        // otherwise we need to wait the updated event\n        else (tag.parent || tag).one('updated', remove)\n\n        dom.inStub = true\n      }\n    // show / hide\n    } else if (attrName === 'show') {\n      dom.style.display = value ? '' : 'none'\n\n    } else if (attrName === 'hide') {\n      dom.style.display = value ? 'none' : ''\n\n    } else if (expr.bool) {\n      dom[attrName] = value\n      if (value) setAttr(dom, attrName, attrName)\n      if (FIREFOX && attrName === 'selected' && dom.tagName === 'OPTION') {\n        dom.__riot1374 = value   // #1374\n      }\n\n    } else if (value === 0 || value && typeof value !== T_OBJECT) {\n      // <img src=\"{ expr }\">\n      if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {\n        attrName = attrName.slice(RIOT_PREFIX.length)\n      }\n      setAttr(dom, attrName, value)\n    }\n\n  })\n\n}\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } els - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(els, fn) {\n  var len = els ? els.length : 0\n\n  for (var i = 0, el; i < len; i++) {\n    el = els[i]\n    // return false -> current item was removed by fn during the loop\n    if (el != null && fn(el, i) === false) i--\n  }\n  return els\n}\n\n/**\n * Detect if the argument passed is a function\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isFunction(v) {\n  return typeof v === T_FUNCTION || false   // avoid IE problems\n}\n\n/**\n * Detect if the argument passed is an object, exclude null.\n * NOTE: Use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isObject(v) {\n  return v && typeof v === T_OBJECT         // typeof null is 'object'\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name)\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } string - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(string) {\n  return string.replace(/-(\\w)/g, function(_, c) {\n    return c.toUpperCase()\n  })\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  dom.setAttribute(name, val)\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __tagImpl[getAttr(dom, RIOT_TAG_IS) ||\n    getAttr(dom, RIOT_TAG) || dom.tagName.toLowerCase()]\n}\n/**\n * Add a child tag to its parent into the `tags` object\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the new tag will be stored\n * @param   { Object } parent - tag instance where the new child tag will be included\n */\nfunction addChildTag(tag, tagName, parent) {\n  var cachedTag = parent.tags[tagName]\n\n  // if there are multiple children tags having the same name\n  if (cachedTag) {\n    // if the parent tags property is not yet an array\n    // create it adding the first cached tag\n    if (!isArray(cachedTag))\n      // don't add the same tag twice\n      if (cachedTag !== tag)\n        parent.tags[tagName] = [cachedTag]\n    // add the new nested tag to the array\n    if (!contains(parent.tags[tagName], tag))\n      parent.tags[tagName].push(tag)\n  } else {\n    parent.tags[tagName] = tag\n  }\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tag, tagName, newPos) {\n  var parent = tag.parent,\n    tags\n  // no parent no move\n  if (!parent) return\n\n  tags = parent.tags[tagName]\n\n  if (isArray(tags))\n    tags.splice(newPos, 0, tags.splice(tags.indexOf(tag), 1)[0])\n  else addChildTag(tag, tagName, parent)\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag(child, opts, innerHTML),\n    tagName = getTagName(opts.root),\n    ptag = getImmediateCustomParentTag(parent)\n  // fix for the parent attribute in the looped elements\n  tag.parent = ptag\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag._parent = parent\n\n  // add this tag to the custom parent tag\n  addChildTag(tag, tagName, ptag)\n  // and also to the real parent tag\n  if (ptag !== parent)\n    addChildTag(tag, tagName, parent)\n  // empty the child node once we got its template\n  // to avoid that its children get compiled multiple times\n  opts.root.innerHTML = ''\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag\n  while (!getTag(ptag.root)) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n* @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options))\n  return el\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom) {\n  var child = getTag(dom),\n    namedTag = getAttr(dom, 'name'),\n    tagName = namedTag && !tmpl.hasExpr(namedTag) ?\n                namedTag :\n              child ? child.name : dom.tagName.toLowerCase()\n\n  return tagName\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj, args = arguments\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } arr - target array\n * @param   { * } item - item to test\n * @returns { Boolean } Does 'arr' contain 'item'?\n */\nfunction contains(arr, item) {\n  return ~arr.indexOf(item)\n}\n\n/**\n * Check whether an object is a kind of array\n * @param   { * } a - anything\n * @returns {Boolean} is 'a' an array?\n */\nfunction isArray(a) { return Array.isArray(a) || a instanceof Array }\n\n/**\n * Detect whether a property of an object could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } is this property writable?\n */\nfunction isWritable(obj, key) {\n  var props = Object.getOwnPropertyDescriptor(obj, key)\n  return typeof obj[key] === T_UNDEF || props && props.writable\n}\n\n\n/**\n * With this function we avoid that the internal Tag methods get overridden\n * @param   { Object } data - options we want to use to extend the tag instance\n * @returns { Object } clean object without containing the riot internal reserved words\n */\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION))\n    return data\n\n  var o = {}\n  for (var key in data) {\n    if (!contains(RESERVED_WORDS_BLACKLIST, key))\n      o[key] = data[key]\n  }\n  return o\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n */\nfunction walk(dom, fn) {\n  if (dom) {\n    // stop the recursion\n    if (fn(dom) === false) return\n    else {\n      dom = dom.firstChild\n\n      while (dom) {\n        walk(dom, fn)\n        dom = dom.nextSibling\n      }\n    }\n  }\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttributes(html, fn) {\n  var m,\n    re = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g\n\n  while (m = re.exec(html)) {\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n  }\n}\n\n/**\n * Check whether a DOM node is in stub mode, useful for the riot 'if' directive\n * @param   { Object }  dom - DOM node we want to parse\n * @returns { Boolean } -\n */\nfunction isInStub(dom) {\n  while (dom) {\n    if (dom.inStub) return true\n    dom = dom.parentNode\n  }\n  return false\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return document.createElement(name)\n}\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return (ctx || document).querySelectorAll(selector)\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Simple object prototypal inheritance\n * @param   { Object } parent - parent object\n * @returns { Object } child instance\n */\nfunction inherit(parent) {\n  function Child() {}\n  Child.prototype = parent\n  return new Child()\n}\n\n/**\n * Get the name property needed to identify a DOM node in riot\n * @param   { Object } dom - DOM node we need to parse\n * @returns { String | undefined } give us back a string to identify this dom node\n */\nfunction getNamedKey(dom) {\n  return getAttr(dom, 'id') || getAttr(dom, 'name')\n}\n\n/**\n * Set the named properties of a tag element\n * @param { Object } dom - DOM node we need to parse\n * @param { Object } parent - tag instance where the named dom element will be eventually added\n * @param { Array } keys - list of all the tag instance properties\n */\nfunction setNamed(dom, parent, keys) {\n  // get the key value we want to add to the tag instance\n  var key = getNamedKey(dom),\n    isArr,\n    // add the node detected to a tag instance using the named property\n    add = function(value) {\n      // avoid to override the tag properties already set\n      if (contains(keys, key)) return\n      // check whether this value is an array\n      isArr = isArray(value)\n      // if the key was never set\n      if (!value)\n        // set it once on the tag instance\n        parent[key] = dom\n      // if it was an array and not yet set\n      else if (!isArr || isArr && !contains(value, dom)) {\n        // add the dom node into the array\n        if (isArr)\n          value.push(dom)\n        else\n          parent[key] = [value, dom]\n      }\n    }\n\n  // skip the elements with no named properties\n  if (!key) return\n\n  // check whether this key has been already evaluated\n  if (tmpl.hasExpr(key))\n    // wait the first updated event only once\n    parent.one('mount', function() {\n      key = getNamedKey(dom)\n      add(parent[key])\n    })\n  else\n    add(parent[key])\n\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } src - source string\n * @param   { String } str - test string\n * @returns { Boolean } -\n */\nfunction startsWith(src, str) {\n  return src.slice(0, str.length) === str\n}\n\n/**\n * requestAnimationFrame function\n * Adapted from https://gist.github.com/paulirish/1579671, license MIT\n */\nvar rAF = (function (w) {\n  var raf = w.requestAnimationFrame    ||\n            w.mozRequestAnimationFrame || w.webkitRequestAnimationFrame\n\n  if (!raf || /iP(ad|hone|od).*OS 6/.test(w.navigator.userAgent)) {  // buggy iOS6\n    var lastTime = 0\n\n    raf = function (cb) {\n      var nowtime = Date.now(), timeout = Math.max(16 - (nowtime - lastTime), 0)\n      setTimeout(function () { cb(lastTime = nowtime + timeout) }, timeout)\n    }\n  }\n  return raf\n\n})(window || {})\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts) {\n  var tag = __tagImpl[tagName],\n    // cache the inner HTML to fix #855\n    innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n\n  // clear the inner html\n  root.innerHTML = ''\n\n  if (tag && root) tag = new Tag(tag, { root: root, opts: opts }, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount()\n    // add this tag to the virtualDom variable\n    if (!contains(__virtualDom, tag)) __virtualDom.push(tag)\n  }\n\n  return tag\n}\n/**\n * Riot public api\n */\n\n// share methods for other riot parts, e.g. compiler\nriot.util = { brackets: brackets, tmpl: tmpl }\n\n/**\n * Create a mixin that could be globally shared across all the tags\n */\nriot.mixin = (function() {\n  var mixins = {}\n\n  /**\n   * Create/Return a mixin by its name\n   * @param   { String } name - mixin name (global mixin if missing)\n   * @param   { Object } mixin - mixin logic\n   * @returns { Object } the mixin logic\n   */\n  return function(name, mixin) {\n    if (isObject(name)) {\n      mixin = name\n      mixins[GLOBAL_MIXIN] = extend(mixins[GLOBAL_MIXIN] || {}, mixin)\n      return\n    }\n\n    if (!mixin) return mixins[name]\n    mixins[name] = mixin\n  }\n\n})()\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.tag = function(name, html, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else attrs = ''\n  }\n  if (css) {\n    if (isFunction(css)) fn = css\n    else styleManager.add(css)\n  }\n  name = name.toLowerCase()\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.tag2 = function(name, html, css, attrs, fn) {\n  if (css) styleManager.add(css)\n  //if (bpair) riot.settings.brackets = bpair\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { String } selector - tag DOM selector\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nriot.mount = function(selector, tagName, opts) {\n\n  var els,\n    allTags,\n    tags = []\n\n  // helper functions\n\n  function addRiotTags(arr) {\n    var list = ''\n    each(arr, function (e) {\n      if (!/[^-\\w]/.test(e)) {\n        e = e.trim().toLowerCase()\n        list += ',[' + RIOT_TAG_IS + '=\"' + e + '\"],[' + RIOT_TAG + '=\"' + e + '\"]'\n      }\n    })\n    return list\n  }\n\n  function selectAllTags() {\n    var keys = Object.keys(__tagImpl)\n    return keys + addRiotTags(keys)\n  }\n\n  function pushTags(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, RIOT_TAG_IS) || getAttr(root, RIOT_TAG)\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName\n        setAttr(root, RIOT_TAG_IS, tagName)\n        setAttr(root, RIOT_TAG, tagName) // this will be removed in riot 3.0.0\n      }\n      var tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts)\n\n      if (tag) tags.push(tag)\n    } else if (root.length) {\n      each(root, pushTags)   // assume nodeList\n    }\n  }\n\n  // ----- mount code -----\n\n  // inject styles into DOM\n  styleManager.inject()\n\n  if (isObject(tagName)) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (typeof selector === T_STRING) {\n    if (selector === '*')\n      // select all the tags registered\n      // and also the tags found with the riot-tag attribute set\n      selector = allTags = selectAllTags()\n    else\n      // or just the ones named like the selector\n      selector += addRiotTags(selector.split(/, */))\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    els = selector ? $$(selector) : []\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    els = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectAllTags()\n    // if the root els it's just a single tag\n    if (els.tagName)\n      els = $$(tagName, els)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n      each(els, function (_el) {\n        nodeList.push($$(tagName, _el))\n      })\n      els = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  pushTags(els)\n\n  return tags\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nriot.update = function() {\n  return each(__virtualDom, function(tag) {\n    tag.update()\n  })\n}\n\n/**\n * Export the Virtual DOM\n */\nriot.vdom = __virtualDom\n\n/**\n * Export the Tag constructor\n */\nriot.Tag = Tag\n  // support CommonJS, AMD & browser\n  /* istanbul ignore next */\n  if (typeof exports === T_OBJECT)\n    module.exports = riot\n  else if (typeof define === T_FUNCTION && typeof define.amd !== T_UNDEF)\n    define(function() { return riot })\n  else\n    window.riot = riot\n\n})(typeof window != 'undefined' ? window : void 0);\n","/* big.js v3.1.3 https://github.com/MikeMcl/big.js/LICENCE */(function(global){\"use strict\";var DP=20,RM=1,MAX_DP=1e6,MAX_POWER=1e6,E_NEG=-7,E_POS=21,P={},isValid=/^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,Big;function bigFactory(){function Big(n){var x=this;if(!(x instanceof Big)){return n===void 0?bigFactory():new Big(n)}if(n instanceof Big){x.s=n.s;x.e=n.e;x.c=n.c.slice()}else{parse(x,n)}x.constructor=Big}Big.prototype=P;Big.DP=DP;Big.RM=RM;Big.E_NEG=E_NEG;Big.E_POS=E_POS;return Big}function format(x,dp,toE){var Big=x.constructor,i=dp-(x=new Big(x)).e,c=x.c;if(c.length>++dp){rnd(x,i,Big.RM)}if(!c[0]){++i}else if(toE){i=dp}else{c=x.c;i=x.e+i+1}for(;c.length<i;c.push(0)){}i=x.e;return toE===1||toE&&(dp<=i||i<=Big.E_NEG)?(x.s<0&&c[0]?\"-\":\"\")+(c.length>1?c[0]+\".\"+c.join(\"\").slice(1):c[0])+(i<0?\"e\":\"e+\")+i:x.toString()}function parse(x,n){var e,i,nL;if(n===0&&1/n<0){n=\"-0\"}else if(!isValid.test(n+=\"\")){throwErr(NaN)}x.s=n.charAt(0)==\"-\"?(n=n.slice(1),-1):1;if((e=n.indexOf(\".\"))>-1){n=n.replace(\".\",\"\")}if((i=n.search(/e/i))>0){if(e<0){e=i}e+=+n.slice(i+1);n=n.substring(0,i)}else if(e<0){e=n.length}for(i=0;n.charAt(i)==\"0\";i++){}if(i==(nL=n.length)){x.c=[x.e=0]}else{for(;n.charAt(--nL)==\"0\";){}x.e=e-i-1;x.c=[];for(e=0;i<=nL;x.c[e++]=+n.charAt(i++)){}}return x}function rnd(x,dp,rm,more){var u,xc=x.c,i=x.e+dp+1;if(rm===1){more=xc[i]>=5}else if(rm===2){more=xc[i]>5||xc[i]==5&&(more||i<0||xc[i+1]!==u||xc[i-1]&1)}else if(rm===3){more=more||xc[i]!==u||i<0}else{more=false;if(rm!==0){throwErr(\"!Big.RM!\")}}if(i<1||!xc[0]){if(more){x.e=-dp;x.c=[1]}else{x.c=[x.e=0]}}else{xc.length=i--;if(more){for(;++xc[i]>9;){xc[i]=0;if(!i--){++x.e;xc.unshift(1)}}}for(i=xc.length;!xc[--i];xc.pop()){}}return x}function throwErr(message){var err=new Error(message);err.name=\"BigError\";throw err}P.abs=function(){var x=new this.constructor(this);x.s=1;return x};P.cmp=function(y){var xNeg,x=this,xc=x.c,yc=(y=new x.constructor(y)).c,i=x.s,j=y.s,k=x.e,l=y.e;if(!xc[0]||!yc[0]){return!xc[0]?!yc[0]?0:-j:i}if(i!=j){return i}xNeg=i<0;if(k!=l){return k>l^xNeg?1:-1}i=-1;j=(k=xc.length)<(l=yc.length)?k:l;for(;++i<j;){if(xc[i]!=yc[i]){return xc[i]>yc[i]^xNeg?1:-1}}return k==l?0:k>l^xNeg?1:-1};P.div=function(y){var x=this,Big=x.constructor,dvd=x.c,dvs=(y=new Big(y)).c,s=x.s==y.s?1:-1,dp=Big.DP;if(dp!==~~dp||dp<0||dp>MAX_DP){throwErr(\"!Big.DP!\")}if(!dvd[0]||!dvs[0]){if(dvd[0]==dvs[0]){throwErr(NaN)}if(!dvs[0]){throwErr(s/0)}return new Big(s*0)}var dvsL,dvsT,next,cmp,remI,u,dvsZ=dvs.slice(),dvdI=dvsL=dvs.length,dvdL=dvd.length,rem=dvd.slice(0,dvsL),remL=rem.length,q=y,qc=q.c=[],qi=0,digits=dp+(q.e=x.e-y.e)+1;q.s=s;s=digits<0?0:digits;dvsZ.unshift(0);for(;remL++<dvsL;rem.push(0)){}do{for(next=0;next<10;next++){if(dvsL!=(remL=rem.length)){cmp=dvsL>remL?1:-1}else{for(remI=-1,cmp=0;++remI<dvsL;){if(dvs[remI]!=rem[remI]){cmp=dvs[remI]>rem[remI]?1:-1;break}}}if(cmp<0){for(dvsT=remL==dvsL?dvs:dvsZ;remL;){if(rem[--remL]<dvsT[remL]){remI=remL;for(;remI&&!rem[--remI];rem[remI]=9){}--rem[remI];rem[remL]+=10}rem[remL]-=dvsT[remL]}for(;!rem[0];rem.shift()){}}else{break}}qc[qi++]=cmp?next:++next;if(rem[0]&&cmp){rem[remL]=dvd[dvdI]||0}else{rem=[dvd[dvdI]]}}while((dvdI++<dvdL||rem[0]!==u)&&s--);if(!qc[0]&&qi!=1){qc.shift();q.e--}if(qi>digits){rnd(q,dp,Big.RM,rem[0]!==u)}return q};P.eq=function(y){return!this.cmp(y)};P.gt=function(y){return this.cmp(y)>0};P.gte=function(y){return this.cmp(y)>-1};P.lt=function(y){return this.cmp(y)<0};P.lte=function(y){return this.cmp(y)<1};P.sub=P.minus=function(y){var i,j,t,xLTy,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b){y.s=-b;return x.plus(y)}var xc=x.c.slice(),xe=x.e,yc=y.c,ye=y.e;if(!xc[0]||!yc[0]){return yc[0]?(y.s=-b,y):new Big(xc[0]?x:0)}if(a=xe-ye){if(xLTy=a<0){a=-a;t=xc}else{ye=xe;t=yc}t.reverse();for(b=a;b--;t.push(0)){}t.reverse()}else{j=((xLTy=xc.length<yc.length)?xc:yc).length;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}}}if(xLTy){t=xc;xc=yc;yc=t;y.s=-y.s}if((b=(j=yc.length)-(i=xc.length))>0){for(;b--;xc[i++]=0){}}for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=9){}--xc[i];xc[j]+=10}xc[j]-=yc[j]}for(;xc[--b]===0;xc.pop()){}for(;xc[0]===0;){xc.shift();--ye}if(!xc[0]){y.s=1;xc=[ye=0]}y.c=xc;y.e=ye;return y};P.mod=function(y){var yGTx,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(!y.c[0]){throwErr(NaN)}x.s=y.s=1;yGTx=y.cmp(x)==1;x.s=a;y.s=b;if(yGTx){return new Big(x)}a=Big.DP;b=Big.RM;Big.DP=Big.RM=0;x=x.div(y);Big.DP=a;Big.RM=b;return this.minus(x.times(y))};P.add=P.plus=function(y){var t,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b){y.s=-b;return x.minus(y)}var xe=x.e,xc=x.c,ye=y.e,yc=y.c;if(!xc[0]||!yc[0]){return yc[0]?y:new Big(xc[0]?x:a*0)}xc=xc.slice();if(a=xe-ye){if(a>0){ye=xe;t=yc}else{a=-a;t=xc}t.reverse();for(;a--;t.push(0)){}t.reverse()}if(xc.length-yc.length<0){t=yc;yc=xc;xc=t}a=yc.length;for(b=0;a;){b=(xc[--a]=xc[a]+yc[a]+b)/10|0;xc[a]%=10}if(b){xc.unshift(b);++ye}for(a=xc.length;xc[--a]===0;xc.pop()){}y.c=xc;y.e=ye;return y};P.pow=function(n){var x=this,one=new x.constructor(1),y=one,isNeg=n<0;if(n!==~~n||n<-MAX_POWER||n>MAX_POWER){throwErr(\"!pow!\")}n=isNeg?-n:n;for(;;){if(n&1){y=y.times(x)}n>>=1;if(!n){break}x=x.times(x)}return isNeg?one.div(y):y};P.round=function(dp,rm){var x=this,Big=x.constructor;if(dp==null){dp=0}else if(dp!==~~dp||dp<0||dp>MAX_DP){throwErr(\"!round!\")}rnd(x=new Big(x),dp,rm==null?Big.RM:rm);return x};P.sqrt=function(){var estimate,r,approx,x=this,Big=x.constructor,xc=x.c,i=x.s,e=x.e,half=new Big(\"0.5\");if(!xc[0]){return new Big(x)}if(i<0){throwErr(NaN)}i=Math.sqrt(x.toString());if(i===0||i===1/0){estimate=xc.join(\"\");if(!(estimate.length+e&1)){estimate+=\"0\"}r=new Big(Math.sqrt(estimate).toString());r.e=((e+1)/2|0)-(e<0||e&1)}else{r=new Big(i.toString())}i=r.e+(Big.DP+=4);do{approx=r;r=half.times(approx.plus(x.div(approx)))}while(approx.c.slice(0,i).join(\"\")!==r.c.slice(0,i).join(\"\"));rnd(r,Big.DP-=4,Big.RM);return r};P.mul=P.times=function(y){var c,x=this,Big=x.constructor,xc=x.c,yc=(y=new Big(y)).c,a=xc.length,b=yc.length,i=x.e,j=y.e;y.s=x.s==y.s?1:-1;if(!xc[0]||!yc[0]){return new Big(y.s*0)}y.e=i+j;if(a<b){c=xc;xc=yc;yc=c;j=a;a=b;b=j}for(c=new Array(j=a+b);j--;c[j]=0){}for(i=b;i--;){b=0;for(j=a+i;j>i;){b=c[j]+yc[i]*xc[j-i-1]+b;c[j--]=b%10;b=b/10|0}c[j]=(c[j]+b)%10}if(b){++y.e}if(!c[0]){c.shift()}for(i=c.length;!c[--i];c.pop()){}y.c=c;return y};P.toString=P.valueOf=P.toJSON=function(){var x=this,Big=x.constructor,e=x.e,str=x.c.join(\"\"),strL=str.length;if(e<=Big.E_NEG||e>=Big.E_POS){str=str.charAt(0)+(strL>1?\".\"+str.slice(1):\"\")+(e<0?\"e\":\"e+\")+e}else if(e<0){for(;++e;str=\"0\"+str){}str=\"0.\"+str}else if(e>0){if(++e>strL){for(e-=strL;e--;str+=\"0\"){}}else if(e<strL){str=str.slice(0,e)+\".\"+str.slice(e)}}else if(strL>1){str=str.charAt(0)+\".\"+str.slice(1)}return x.s<0&&x.c[0]?\"-\"+str:str};P.toExponential=function(dp){if(dp==null){dp=this.c.length-1}else if(dp!==~~dp||dp<0||dp>MAX_DP){throwErr(\"!toExp!\")}return format(this,dp,1)};P.toFixed=function(dp){var str,x=this,Big=x.constructor,neg=Big.E_NEG,pos=Big.E_POS;Big.E_NEG=-(Big.E_POS=1/0);if(dp==null){str=x.toString()}else if(dp===~~dp&&dp>=0&&dp<=MAX_DP){str=format(x,x.e+dp);if(x.s<0&&x.c[0]&&str.indexOf(\"-\")<0){str=\"-\"+str}}Big.E_NEG=neg;Big.E_POS=pos;if(!str){throwErr(\"!toFix!\")}return str};P.toPrecision=function(sd){if(sd==null){return this.toString()}else if(sd!==~~sd||sd<1||sd>MAX_DP){throwErr(\"!toPre!\")}return format(this,sd-1,2)};Big=bigFactory();if(typeof define===\"function\"&&define.amd){define(function(){return Big})}else if(typeof module!==\"undefined\"&&module.exports){module.exports=Big}else{global.Big=Big}})(this);\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('cooldown', {\n\tinit: function() {\n\t\tthis.on('mount', function() {\n\t\t\tthis._cooldowns = [];\n\t\t});\n\n\t\tthis.isCoolingDown = function(id, time) {\n\t\t\ttime = time || 1100;\n\t\t\tvar cd = this._cooldowns[id];\n\t\t\tif (cd && window.performance.now() - cd < time) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._cooldowns[id] = window.performance.now();\n\t\t\treturn false;\n\t\t}.bind(this);\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('i18n', {\n\tinit: function() {\n\t\tthis.on('mount unmount', function(evt) {\n\t\t\tif (evt === 'mount') {\n\t\t\t\triotctrl.on('update-i18n-retro', this.onUpdateI18n, this);\n\t\t\t}\n\t\t\telse if (evt === 'unmount') {\n\t\t\t\triotctrl.off('update-i18n-retro', this.onUpdateI18n, this);\n\t\t\t}\n\t\t});\n\n\t\tthis.on('update', function() {\n\t\t\t// force a scan just in case the DOM changed\n\t\t\tthis.onUpdateI18n();\n\t\t});\n\t},\n\n\tonUpdateI18n: function() {\n\t\tvar labels = this.root.querySelectorAll('[data-i18n]');\n\t\tfor (var i = 0; i < labels.length; i++) {\n\t\t\tvar e = labels[i];\n\t\t\tvar k = e.dataset.i18n;\n\t\t\te.innerText = iaw.i18n.getLocalizedString(k);\n\t\t}\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\n/*\n\tFinds the first scrolling element on the page and attaches events to it.\n\tThere should only be one scrolling element in Start at a time.\n\tThere can be multiple scrolling elements in FNFT.\n*/\nriot.mixin('scroll-end', {\n\tinit: function() {\n\t\tthis.scrollPane = null;\n\t\tthis.scrollContainer = null;\n\n\t\tthis.on('mount unmount', function(evt) {\n\t\t\tif (evt === 'mount') {\n\t\t\t\tthis.scrollPane = document.querySelector('.scroll-pane');\n\t\t\t\tthis.scrollContainer = document.querySelector('.scroll-container');\n\n\t\t\t\tif (this.scrollContainer && this.scrollPane) {\n\t\t\t\t\tthis.scrollContainer.addEventListener('scroll', this.onScroll);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (evt === 'unmount') {\n\t\t\t\tif (this.scrollContainer && this.scrollPane) {\n\t\t\t\t\tthis.scrollContainer.removeEventListener('scroll', this.onScroll);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tonScroll: function(evt) {\n\t\tif (this.scrollPane.offsetHeight === this.scrollContainer.offsetHeight + this.scrollContainer.scrollTop) {\n\t\t\tthis.trigger('scroll-end');\n\t\t}\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('spcmixin', {\n\tinit: function() {\n\t\tthis.on('mount update updated', function() {\n\t\t\tvar comps = this.root.querySelectorAll('[class*=\"spc-js-\"');\n\t\t\tif (comps.length > 0) {\n\t\t\t\twindow.componentHandler.upgradeElements(comps);\n\t\t\t}\n\t\t});\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('tooltip', {\n\tinit: function() {\n\t\tthis.on('mount', function(evt) {\n\t\t\triotctrl.trigger('scan-tooltips');\n\t\t});\n\n\t\tthis.on('updated', function() {\n\t\t\triotctrl.trigger('scan-tooltips');\n\t\t});\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('unitConversion', {\n\tconvert: function(value, opts) {\n\t\tvar Big = window.Big;\n\t\topts = opts || {};\n\t\tvar startingValue = new Big(value);\n\t\tvar normalizedValue = new Big(0);\n\t\tvar stringValue = '';\n\t\tvar stringArray = [];\n\t\tvar resolution = opts.resolution || 72;\n\t\tvar pointsPerInch = opts.pointsPerInch || 72;\n\t\tvar picasPerInch = opts.picasPerInch || 72;\n\t\tvar trim = opts.trim !== false;\n\t\tvar precision = opts.precision || 5;\n\n\t\tresolution = new Big(resolution);\n\t\tpointsPerInch = new Big(pointsPerInch);\n\t\tpicasPerInch = new Big(picasPerInch);\n\n\t\tvar conversionTable = {\n\t\t\tm: {\n\t\t\t\tfactor: new Big(1)\n\t\t\t},\n\t\t\tcm: {\n\t\t\t\tfactor: new Big(0.01)\n\t\t\t},\n\t\t\tin: {\n\t\t\t\tfactor: new Big(0.0254)\n\t\t\t},\n\t\t\tmm: {\n\t\t\t\tfactor: new Big(0.001)\n\t\t\t},\n\t\t\tpx: {\n\t\t\t\tfactor: new Big(0.0254).div(resolution)\n\t\t\t},\n\t\t\tpt: {\n\t\t\t\tfactor: new Big(0.0254).div(pointsPerInch)\n\t\t\t},\n\t\t\tpc: {\n\t\t\t\tfactor: new Big(0.0254).div(picasPerInch)\n\t\t\t},\n\t\t\tha: {\n\t\t\t\tfactor: new Big(0.0254).div(101.6)\n\t\t\t}\n\t\t};\n\n\t\treturn {\n\t\t\tfrom: function(value) {\n\t\t\t\tnormalizedValue = startingValue.mul(conversionTable[value].factor);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tto: function(value) {\n\t\t\t\tstringValue = normalizedValue.div(conversionTable[value].factor).toFixed(10);\n\n\t\t\t\tif (trim) {\n\t\t\t\t\tstringArray = stringValue.split('.');\n\t\t\t\t\t// if decimal\n\t\t\t\t\tif (stringArray[1]) {\n\t\t\t\t\t\tstringArray[1] = stringArray[1].substring(0, precision);\n\t\t\t\t\t}\n\t\t\t\t\tstringValue = stringArray.join('.');\n\t\t\t\t}\n\n\t\t\t\treturn Number(stringValue);\n\t\t\t}\n\t\t};\n\t}\n});\n"],"sourceRoot":"/source/"}