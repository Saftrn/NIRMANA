/**
 * ADOBE CONFIDENTIAL
 *  _________________
 *  Copyright 2016 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by all applicable intellectual property
 * laws, including trade secret and copyright laws.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 */
"use strict";riot.tag2("raw-text","<span></span>","","",function(t){this.on("mount",function(){this.root.innerHTML=t.content})}),riot.tag2("debug-menu",'<button if="{showMenu}" class="menu-panel--toggle" onclick="{toggleMenu}" onkeydown="{buttonKeyDown}" onmouseleave="{menuOut}" onmouseenter="{menuOver}" aria-haspopup="true" aria-expanded="{open}" aria-controls="menu-panel-{_riot_id}" title="{toggleLabel}" aria-label="{toggleLabel}"><i class="spc-icons">T</i></button><div hidden class="menu-panel" onmouseleave="{menuOut}" onmouseenter="{menuOver}" role="dialog" aria-hidden="true" id="menu-panel-{_riot_id}"><div role="heading" aria-level="2">DEBUG MENU :: TESTING ONLY</div><div class="menu-panel--item">{version} - {displayMode}</div><div class="menu-panel--spacer"></div><div class="menu-panel--row"><span>Light</span><label class="menu-panel--item spc-switch spc-js-switch" for="switch-1"><input type="checkbox" id="switch-1" class="spc-switch__input" checked onclick="{swapTheme}"></label><span>Dark</span></div><div class="menu-panel--spacer"></div><div class="menu-panel--row"><span>Trial</span><label class="menu-panel--item spc-switch spc-js-switch" for="switch-2"><input type="checkbox" id="switch-2" class="spc-switch__input" onclick="{swapStatus}"></label><span>Paid</span></div><div class="menu-panel--spacer"></div><select aria-label="Language" onchange="{selectLang}"><option value="en_US">English US (en_US)</option><option value="cs_CZ">Czech (cs_CZ)</option><option value="da_DK">Danish (da_DK)</option><option value="de_DE">German (de_DE)</option><option value="en_AE">English Arabic (en_AE)</option><option value="en_GB">English UK (en_GB)</option><option value="en_IL">English Hebrew (en_IL)</option><option value="es_ES">Spanish (es_ES)</option><option value="es_MX">Spanish MX (es_MX)</option><option value="fi_FI">Finnish (fi_FI)</option><option value="fr_FR">French (fr_FR)</option><option value="fr_CA">French CA (fr_CA)</option><option value="fr_MA">French MA (fr_MA)</option><option value="hu_HU">Hungarian (hu_HU)</option><option value="it_IT">Italian (it_IT)</option><option value="ja_JP">Japanese (ja_JP)</option><option value="ko_KR">Korean (ko_KR)</option><option value="nb_NO">Nordish (nb_NO)</option><option value="nl_NL">Dutch (nl_NL)</option><option value="pl_PL">Polish (pl_PL)</option><option value="pt_BR">Brazilian (pt_BR)</option><option value="ru_RU">Russian (ru_RU)</option><option value="sv_SE">Swedish (sv_SE)</option><option value="tr_TR">Turkish (tr_TR)</option><option value="uk_UA">Ukranian (uk_UA)</option><option value="zh_CN">Simplified Chinese (zh_CN)</option><option value="zh_TW">Traditional Chinese (zh_TW)</option></select><div class="menu-panel--spacer"></div><button class="spc-button" onclick="{clearStorage}">/ / / Clear localstorage / / /</button></div>',"",'class="grid grid--center"',function(t){var e=this;this.mixin("spcmixin");var i=null,a=null,s=-1,o=iaw.cepUtil.getExtensionVersion();this.version="CCX Start v"+o.version+" ("+o.sha+")",this.displayMode="unset",this.dark=!0,this.open=!1,this.showMenu=!1,this.trapFocus=!1,this.toggleLabel="Debug",this.buttonKeyDown=function(t){var i=t.keyCode;return(i===iaw.a11y.Keys.ENTER||i===iaw.a11y.Keys.SPACE||i===iaw.a11y.Keys.DOWN&&!e.open)&&(e.trapFocus=!0,i===iaw.a11y.Keys.DOWN&&e.toggleMenu()),!0},this.escapeKey=function(t){e.open&&t.keyCode===iaw.a11y.Keys.ESC&&e.closeMenu()},this.mouseDown=function(t){var i=e.root.getElementsByClassName("menu-panel")[0],a=e.root.getElementsByClassName("menu-panel--toggle")[0];e.open&&(a===t.target||a.contains(t.target)?(iaw.a11y.TrapFocus.deactivate(i),e.trapFocus=!1):i===t.target||i.contains(t.target)||e.closeMenu())},this.swapStatus=function(t){var e="paid"===iaw.store.get(["host","accountStatus"])?"trial":"paid";iaw.store.set(["host","accountStatus"],e),a.parentNode.classList.toggle("is-checked",a.checked),t.target===a&&setTimeout(function(){a.focus()},0),riotctrl.trigger("update-cards-retro"),riot.update(),iaw.localstorage.setGlobalItem("debug.accountStatus",e)},this.swapTheme=function(t){e.dark=!e.dark,e.dark?iaw.util.setUIThemeMode("dark"):iaw.util.setUIThemeMode("light"),i.parentNode.classList.toggle("is-checked",i.checked),riotctrl.trigger("update-theme"),t.target===i&&setTimeout(function(){i.focus()},0)},this.selectLang=function(t){var e=t.target.value;iaw.store.set(["host","language"],e),"undefined"!=typeof moment&&moment.locale(e),iaw.i18n.addFromLocalLocaleFile(e,function(){riotctrl.trigger("update-i18n-retro")}),"en_GB"===e&&(e="en_US");var i="paid"===iaw.store.get(["host","accountStatus"])?"":"_trial";"undefined"!=typeof iaw.data&&iaw.data.debugPSDK.getData("cards_"+e+i+".json",function(){riotctrl.trigger("update-cards-retro")})},this.clearStorage=function(){window.localStorage.clear(),e.closeMenu()},this.menuOver=function(t){e.open&&clearTimeout(s)},this.menuOut=function(t){e.open&&!e.trapFocus&&(s=setTimeout(e.closeMenu.bind(e),500))},this.closeMenu=function(){e.toggleMenu(null,!0)},this.toggleMenu=function(t,i){var a=e.root.getElementsByClassName("menu-panel")[0],s=e.root.getElementsByClassName("menu-panel--toggle")[0],o={};i&&(e.open=!0),e.open?(a.setAttribute("aria-hidden","true"),a.classList.remove("anim--open-menu"),a.classList.add("anim--close-menu"),s.setAttribute("aria-expanded","false"),iaw.a11y.TrapFocus.deactivate(a),e.trapFocus=!1,window.removeEventListener("keydown",e.escapeKey),window.removeEventListener("mousedown",e.mouseDown)):(a.removeAttribute("aria-hidden"),a.removeAttribute("hidden"),a.classList.remove("anim--close-menu"),a.classList.add("anim--open-menu"),s.setAttribute("aria-expanded","true"),e.trapFocus||(o.initialFocus=a),setTimeout(function(){iaw.a11y.TrapFocus.activate(a,o)},20),window.addEventListener("keydown",e.escapeKey),window.addEventListener("mousedown",e.mouseDown,!0)),e.open=!e.open},this.on("mount",function(){i=document.getElementById("switch-1"),a=document.getElementById("switch-2"),this.escapeKey=this.escapeKey.bind(this),this.mouseDown=this.mouseDown.bind(this),this.showMenu&&riotctrl.on("update-host-retro",this.closeMenu,this)}),this.closeMenu=function(){var t=iaw.store.get(["host","accountStatus"]),i=iaw.localstorage.getGlobalItem("debug.accountStatus");i!==t&&(t=i,iaw.store.set(["host","accountStatus"],t),a.checked="paid"===t,a.parentNode.classList.toggle("is-checked",a.checked)),e.displayMode=iaw.store.get(["host","displayMode"]),e.update()}}),riot.tag2("dynamic-component","","","",function(t){this.on("mount",function(){riot.mount(this.root,t.data.tag,t)})}),riot.tag2("tooltip","<span></span>","",'role="tooltip" id="tooltip-{_riot_id}"',function(t){var e,i=this,a=null,s=null,o=null,n=null,r={x:0,y:0},c=0,l=500;this.updateMouse=function(t){r.x=t.clientX,r.y=t.clientY},this.refresh=function(t){"focus"===t.type?(e=t.target.firstElementChild.getBoundingClientRect(),c||(c=parseInt(getComputedStyle(i.root).getPropertyValue("margin-top"))),i.root.style.left=e.left+.5*e.width+"px",i.root.style.top=e.top+.8*e.height-c+"px",t.target.addEventListener("keydown",i.onKeyDown,!1),e=void 0):(i.root.style.left=r.x+"px",i.root.style.top=r.y+"px"),a.innerText=o,i.root.classList.add("show",n)},this.onOver=function(t){return o=t.target.getAttribute("data-tip"),n=t.target.getAttribute("data-tip-class"),!(!a||!o||""===o)&&(t.target.addEventListener("mousemove",i.updateMouse,!1),l="focus"===t.type?1e3:500,void(s=setTimeout(i.refresh,l,t)))},this.onOut=function(t){t.target.removeEventListener("mousemove",i.updateMouse),t.target.removeEventListener("keydown",i.onKeyDown),i.root.classList.remove("show",n),a.innerText="",clearTimeout(s)},this.onKeyDown=function(t){t.keyCode===iaw.a11y.Keys.ESC&&(i.onOut(t),t.preventDefault(),t.stopImmediatePropagation())},this.rescan=function(){a=i.root.getElementsByTagName("span")[0];for(var t=document.querySelectorAll("[data-tip]"),e=null,s=0;e=t[s];s++)e.hasDataTipListener||(e.setAttribute("aria-describedby",i.root.id),e.addEventListener("focus",i.onOver,!0),e.addEventListener("mouseenter",i.onOver,!1),e.addEventListener("mouseleave",i.onOut,!1),e.addEventListener("mousedown",i.onOut,!1),e.addEventListener("blur",i.onOut,!0),e.hasDataTipListener=!0)},this.delayScan=function(){setTimeout(i.rescan,30)},this.on("mount",function(){this.rescan(),riotctrl.on("update-host-retro",this.delayScan),riotctrl.on("update-cards-retro",this.delayScan),riotctrl.on("update-mru-list",this.delayScan),riotctrl.on("tab-change",this.delayScan),riotctrl.on("file-view-change",this.delayScan),riotctrl.on("mobileAssetsProjectsLoaded",this.delayScan),riotctrl.on("mobileAssetsPagesLoaded",this.delayScan),riotctrl.on("scan-tooltips",this.delayScan)}),this.on("unmount",function(){this.off("*"),riotctrl.off("update-host-retro",this.delayScan),riotctrl.off("update-cards-retro",this.delayScan),riotctrl.off("update-mru-list",this.delayScan),riotctrl.off("tab-change",this.delayScan),riotctrl.off("file-view-change",this.delayScan),riotctrl.off("mobileAssetsProjectsLoaded",this.delayScan),riotctrl.off("mobileAssetsPagesLoaded",this.delayScan),riotctrl.off("scan-tooltips",this.delayScan)})}),riot.mixin("cooldown",{init:function(){this.on("mount",function(){this._cooldowns=[]}),this.isCoolingDown=function(t,e){e=e||1100;var i=this._cooldowns[t];return!!(i&&window.performance.now()-i<e)||(this._cooldowns[t]=window.performance.now(),!1)}.bind(this)}}),riot.mixin("i18n",{init:function(){this.on("mount unmount",function(t){"mount"===t?riotctrl.on("update-i18n-retro",this.onUpdateI18n,this):"unmount"===t&&riotctrl.off("update-i18n-retro",this.onUpdateI18n,this)}),this.on("update",function(){this.onUpdateI18n()})},onUpdateI18n:function(){for(var t=this.root.querySelectorAll("[data-i18n]"),e=0;e<t.length;e++){var i=t[e],a=i.dataset.i18n;i.innerText=iaw.i18n.getLocalizedString(a)}}}),riot.mixin("scroll-end",{init:function(){this.scrollPane=null,this.scrollContainer=null,this.on("mount unmount",function(t){"mount"===t?(this.scrollPane=document.querySelector(".scroll-pane"),this.scrollContainer=document.querySelector(".scroll-container"),this.scrollContainer&&this.scrollPane&&this.scrollContainer.addEventListener("scroll",this.onScroll)):"unmount"===t&&this.scrollContainer&&this.scrollPane&&this.scrollContainer.removeEventListener("scroll",this.onScroll)})},onScroll:function(t){this.scrollPane.offsetHeight===this.scrollContainer.offsetHeight+this.scrollContainer.scrollTop&&this.trigger("scroll-end")}}),riot.mixin("spcmixin",{init:function(){this.on("mount update updated",function(){var t=this.root.querySelectorAll('[class*="spc-js-"');t.length>0&&window.componentHandler.upgradeElements(t)})}}),riot.mixin("tooltip",{init:function(){this.on("mount",function(t){riotctrl.trigger("scan-tooltips")}),this.on("updated",function(){riotctrl.trigger("scan-tooltips")})}}),riot.mixin("unitConversion",{convert:function(t,e){var i=window.Big;e=e||{};var a=new i(t),s=new i(0),o="",n=[],r=e.resolution||72,c=e.pointsPerInch||72,l=e.picasPerInch||72,d=e.trim!==!1,u=e.precision||5;r=new i(r),c=new i(c),l=new i(l);var h={m:{factor:new i(1)},cm:{factor:new i(.01)},"in":{factor:new i(.0254)},mm:{factor:new i(.001)},px:{factor:new i(.0254).div(r)},pt:{factor:new i(.0254).div(c)},pc:{factor:new i(.0254).div(l)},ha:{factor:new i(.0254).div(101.6)}};return{from:function(t){return s=a.mul(h[t].factor),this},to:function(t){return o=s.div(h[t].factor).toFixed(10),d&&(n=o.split("."),n[1]&&(n[1]=n[1].substring(0,u)),o=n.join(".")),Number(o)}}}}),riot.tag2("adobestock",'<div class="background"><img class="card-stock__bgImage" riot-src="{opts.backgroundImageLocalpath}" alt=""></div><div if="{opts.overlayTintColor && opts.overlayTintPercentage}" class="background-overlay" riot-style="background-color: {opts.overlayTintColor.replace(\'0x\', \'#\')}; opacity: {opts.overlayTintPercentage}"></div><div class="info"><span class="card-info-label">{opts.cardLabel}</span></div><form class="card-content" onsubmit="{this.search}"><div class="search-input-container"><i class="inapp-icons inapp-icon--search" aria-hidden="true"></i><div class="spc-textfield spc-js-textfield spc-textfield--quiet"><input class="spc-textfield__input stock-search-input" type="text" placeholder="{opts.searchLabel}" aria-label="{opts.searchLabel}"></div></div><button type="submit" class="spc-button spc-button--cta" onclick="{search}">{opts.ctaLabel}</button></form>',"",'class="card grid-cell grid-cell--autoSize" role="listitem"',function(t){var e=this;this.mixin("cooldown"),this.actionURL=t.actionURL,this.defaultURL=t.defaultURL||"https://stock.adobe.com",this.mixin("spcmixin"),this.search=function(i){if(!e.isCoolingDown(0)){var a=e.root.getElementsByClassName("stock-search-input")[0],s=iaw.util.fixedEncodeURIComponent(a.value),o=s?e.actionURL+s:e.defaultURL+"?";void 0!==t.as_query&&(o+="&"+t.as_query),iaw.analytics.ingest.logEngagementCardEvent("clicked",t),window.__adobe_cep__?iaw.util.openDefaultBrowserAuthenicated("adobeStock",o):window.open(o)}},this.on("mount",function(){this.root.classList.add("card--"+t.width+"of4");var e=iaw.store.get("host");"openDoc"!==e.displayMode&&(this.root.getElementsByClassName("background")[0].style.backgroundColor=t.backgroundFillColor?t.backgroundFillColor.replace("0x","#"):""),t.promoID||(t.promoID="KTAVD"),t.as_campaign||(t.as_campaign=e.hostID+"%2F"+e.appVersion,t.as_campclass="brand",t.as_source="CCXStart-"+e.displayMode+"%2F"+e.radarVersion,t.as_channel="adobe_apps",t.as_query=iaw.analytics.getAnalyticsQueryString()+"&promoid="+t.promoID+"&as_channel="+t.as_channel+"&as_source="+t.as_source+"&as_campaign="+t.as_campaign+"&as_campclass="+t.as_campclass),iaw.analytics.ingest.logEngagementCardEvent("rendered",t)})}),riot.tag2("basic",'<div class="card-loading hidden" role="progressbar"><p>{iaw.i18n.getLocalizedString(\'card_subscribing\')}</p><span class="activity-indicator__dots"></span></div><div class="card-success hidden"><span>{this.cardSuccess}</span></div><div class="card-error hidden"><p>{this.cardError}</p></div><button class="card-click-container" onclick="{click}"><div class="background"><div><div if="{opts.overlayTintColor && opts.overlayTintPercentage}" class="background-overlay" riot-style="background-color: {opts.overlayTintColor.replace(\'0x\', \'#\')}; opacity: {opts.overlayTintPercentage}"></div><div class="info"><span class="card-info-label">{opts.cardLabel}</span></div><div class="card-content"><span class="body {bodyCopyAlignment}">{opts.bodyCopy}</span><span class="footnote {bodyCopyAlignment}">{opts.footnote}</span><div style="flex: 1;"></div><span if="{!opts.hasButton && opts.ctaLabel}" class="cta {ctaAlignment}">{opts.ctaLabel}</span><span if="{!opts.hasButton && opts.secondaryCTALabel}" class="cta-two">{opts.secondaryCTALabel}</span><span if="{opts.hasButton}" class="spc-button spc-button--cta {ctaAlignment}">{opts.ctaLabel}</span></div></button>',"",'class="card grid-cell" role="listitem"',function(t){function e(t,e,i){var a=iaw.store.get(["host","subscribeEndpoint"])+t,s="GET";return i&&(a+="?operation=copy",s="POST"),iaw.util.promise(s,a,e,{"x-feature-override":"livelink"})}var i=this;this.mixin("cooldown"),this.ctaAlignment=t.ctaAlignment||"left",this.bodyCopyAlignment=t.bodyCopyAlignment||"left",this.actionURL=t.actionURL,this.copyLibrary=this.actionURL.indexOf("shared-assets")<0,this.linkId=this.actionURL.match(/([^\/]*)\/*$/)[1],this.click=function(){if(!i.isCoolingDown(0))if(iaw.analytics.ingest.logEngagementCardEvent("clicked",t),"library"===t.cardType){i.selectedLibraryId="";var a=i;i.root.getElementsByClassName("card-loading")[0].classList.remove("hidden"),iaw.util.loadLibrary("*",!1).then(function(t){a.checkForCopiedLibrary(t)})["catch"](function(t){iaw.log.console("LibraryCard::LoadLibrary -- "+t),a.showError(iaw.i18n.getLocalizedString("library_service_error"))}),iaw.cepUtil.getIMSAccessToken(function(t){e(a.linkId,t,a.copyLibrary).then(function(e){if(e)try{e=JSON.parse(e)}catch(i){iaw.log.exception("Bad response data parse: "+e)}if(a.copyLibrary)a.showSuccess();else{var s=iaw.store.get(["host","bookmarksEndpoint"]);iaw.util.promise("GET",s,t).then(function(i){var o=!1;try{i=JSON.parse(i)}catch(n){iaw.log.exception("Bad response data parse: "+i)}if(i&&i.bookmarks&&i.bookmarks.length>0)for(var r=0;r<i.bookmarks.length;r++){var c=i.bookmarks[r];if(c&&c.id===e.bookmarkId){o=!0;break}}if(o)iaw.util.showLibraryInPanel(e.bookmarkId),a.showSuccess(iaw.i18n.getLocalizedString("card_success_resubscribe"));else{var l=s+e.bookmarkId;iaw.util.promise("POST",l,t).then(function(){a.selectedLibraryId=e.bookmarkId,a.showSuccess()})["catch"](function(t){a.showError(t)})}})["catch"](function(t){a.showError(t)})}})["catch"](function(t){a.showError()})})}else if("install"===t.cardType)iaw.util.ajax(iaw.store.get(["host","ffcEndpoint"])+(new Date).getTime(),function(e){window.location.href=t.actionURL+"&passPhrase="+e},i);else{var s=t.actionURL;("undefined"==typeof t.urlAppendAnalyticsParams||t.urlAppendAnalyticsParams)&&(s=iaw.analytics.composeURLWithAnalyticsQueryString(t.actionURL)),"undefined"==typeof t.urlApplyAdobeAuthentication||t.urlApplyAdobeAuthentication?iaw.util.openDefaultBrowserAuthenicated("adobeLearn",s):iaw.util.openDefaultBrowser(s)}},this.checkForCopiedLibrary=function(t){function e(i){clearTimeout(a);var o=s.root.getElementsByClassName("card-loading")[0];iaw.util.showLibraryInPanel(s.selectedLibraryId),o.classList.add("hidden"),t.forEach(function(t){t.removeChangeListener(e)})}if(t){var a,s=i;t.forEach(function(t){t.addChangeListener(e)}),a=setTimeout(e,6e4)}},this.showSuccess=function(t){i.cardSuccess=t||iaw.i18n.getLocalizedString("card_success_subscribe"),i.update();var e=i.root.getElementsByClassName("card-success")[0],a=i.root.getElementsByClassName("card-loading")[0];a.classList.add("hidden"),e.classList.remove("hidden"),setTimeout(i.clearSuccess,5e3)},this.clearSuccess=function(){var t=i.root.getElementsByClassName("card-success")[0];t.classList.add("hidden")},this.showError=function(t){i.cardError=t||iaw.i18n.getLocalizedString("card_error"),i.update();var e=i.root.getElementsByClassName("card-error")[0];e.classList.remove("hidden");var a=i.root.getElementsByClassName("card-loading")[0];a.classList.add("hidden"),setTimeout(i.clearError,5e3)},this.clearError=function(){var t=i.root.getElementsByClassName("card-error")[0];t.classList.add("hidden")},this.on("mount",function(){this.root.classList.add("card--"+t.width+"of4"),this.root.getElementsByClassName("background")[0].style.backgroundColor=t.backgroundFillColor?t.backgroundFillColor.replace("0x","#"):"",iaw.analytics.ingest.logEngagementCardEvent("rendered",t)})}),riot.tag2("poster",'<div class="card-loading hidden" role="progressbar"><p>{iaw.i18n.getLocalizedString(\'card_subscribing\')}</p><span class="activity-indicator__dots"></span></div><div class="card-success hidden"><span>{this.cardSuccess}</span></div><div class="card-error hidden"><p>{this.cardError}</p></div><button class="card-click-container" onclick="{click}"><div class="background"><img class="posterImage" riot-src="{opts.backgroundImageLocalpath}" alt=""></div><div if="{opts.overlayTintColor && opts.overlayTintPercentage}" class="background-overlay" riot-style="background-color: {opts.overlayTintColor.replace(\'0x\', \'#\')}; opacity: {opts.overlayTintPercentage}"></div><div class="info"><span class="card-info-label">{opts.cardLabel}</span></div><div class="card-content"><span class="body {bodyCopyAlignment}">{opts.displayText}</span><span class="footnote {bodyCopyAlignment}">{opts.footnote}</span><div style="flex: 1;"></div><span if="{!opts.hasButton && opts.ctaLabel}" class="cta {ctaAlignment}">{opts.ctaLabel}</span><span if="{!opts.hasButton && opts.secondaryCTALabel}" class="cta-two">{opts.secondaryCTALabel}</span><span if="{opts.hasButton}" class="spc-button spc-button--cta {ctaAlignment}">{opts.ctaLabel}</span></div></button>',"",'class="card grid-cell" role="listitem"',function(t){function e(t,e,i){var a=iaw.store.get(["host","subscribeEndpoint"])+t,s="GET";return i&&(a+="?operation=copy",s="POST"),iaw.util.promise(s,a,e,{"x-feature-override":"livelink"})}var i=this;this.mixin("cooldown"),this.ctaAlignment=t.ctaAlignment||"left",this.bodyCopyAlignment=t.bodyCopyAlignment||"left",this.actionURL=t.actionURL,this.copyLibrary=this.actionURL.indexOf("shared-assets")<0,this.linkId=this.actionURL.match(/([^\/]*)\/*$/)[1],this.click=function(){if(!i.isCoolingDown(0))if(iaw.analytics.ingest.logEngagementCardEvent("clicked",t),"library"===t.cardType){i.selectedLibraryId="";var a=i;i.root.getElementsByClassName("card-loading")[0].classList.remove("hidden"),iaw.util.loadLibrary("*",!1).then(function(t){a.checkForCopiedLibrary(t)})["catch"](function(t){a.showError(iaw.i18n.getLocalizedString("library_service_error"))}),iaw.cepUtil.getIMSAccessToken(function(t){e(a.linkId,t,a.copyLibrary).then(function(e){if(e)try{e=JSON.parse(e)}catch(i){iaw.log.exception("Bad response data parse: "+e)}if(a.copyLibrary)a.showSuccess();else{var s=iaw.store.get(["host","bookmarksEndpoint"]);iaw.util.promise("GET",s,t).then(function(i){var o=!1;try{i=JSON.parse(i)}catch(n){iaw.log.exception("Bad response data parse: "+i)}if(i&&i.bookmarks&&i.bookmarks.length>0)for(var r=0;r<i.bookmarks.length;r++){var c=i.bookmarks[r];if(c&&c.id===e.bookmarkId){o=!0;break}}if(o)iaw.util.showLibraryInPanel(e.bookmarkId),a.showSuccess(iaw.i18n.getLocalizedString("card_success_resubscribe"));else{var l=s+e.bookmarkId;iaw.util.promise("POST",l,t).then(function(){a.selectedLibraryId=e.bookmarkId,a.showSuccess()})["catch"](function(t){a.showError(t)})}})["catch"](function(t){a.showError(t)})}})["catch"](function(t){a.showError()})})}else if("install"===t.cardType)iaw.util.ajax(iaw.store.get(["host","ffcEndpoint"])+(new Date).getTime(),function(e){window.location.href=t.actionURL+"&passPhrase="+e},i);else{var s=t.actionURL;("undefined"==typeof t.urlAppendAnalyticsParams||t.urlAppendAnalyticsParams)&&(s=iaw.analytics.composeURLWithAnalyticsQueryString(t.actionURL)),"undefined"==typeof t.urlApplyAdobeAuthentication||t.urlApplyAdobeAuthentication?iaw.util.openDefaultBrowserAuthenicated("adobeLearn",s):iaw.util.openDefaultBrowser(s)}},this.checkForCopiedLibrary=function(t){function e(i){clearTimeout(a);var o=s.root.getElementsByClassName("card-loading")[0];iaw.util.showLibraryInPanel(s.selectedLibraryId),o.classList.add("hidden"),t.forEach(function(t){t.removeChangeListener(e)})}if(t){var a,s=i;t.forEach(function(t){t.addChangeListener(e)}),a=setTimeout(e,6e4)}},this.showSuccess=function(t){i.cardSuccess=t||iaw.i18n.getLocalizedString("card_success_subscribe"),i.update();var e=i.root.getElementsByClassName("card-success")[0],a=i.root.getElementsByClassName("card-loading")[0];a.classList.add("hidden"),e.classList.remove("hidden"),setTimeout(i.clearSuccess,5e3)},this.clearSuccess=function(){var t=i.root.getElementsByClassName("card-success")[0];t.classList.add("hidden")},this.showError=function(t){i.cardError=t||iaw.i18n.getLocalizedString("card_error"),i.update();var e=i.root.getElementsByClassName("card-error")[0];e.classList.remove("hidden");var a=i.root.getElementsByClassName("card-loading")[0];a.classList.add("hidden"),setTimeout(i.clearError,5e3)},this.clearError=function(){var t=i.root.getElementsByClassName("card-error")[0];t.classList.add("hidden")},this.on("mount",function(){this.root.classList.add("card--"+t.width+"of4"),this.root.getElementsByClassName("background")[0].style.backgroundColor=t.backgroundFillColor?t.backgroundFillColor.replace("0x","#"):"",iaw.analytics.ingest.logEngagementCardEvent("rendered",t)})}),riot.tag2("trialclock",'<button class="card-trial-content" onclick="{clicked}"><h3 class="iaw-Heading iaw-Heading--3">{days}</h3><h4 class="iaw-Heading iaw-Heading--4">{opts.cardLabel}</h4></button>',"",'class="card grid-cell grid-cell--autoSize" role="listitem"',function(t){var e=this;this.mixin("cooldown");var i=-1;this.days=-1,this.clicked=function(i){if(!e.isCoolingDown(0)){iaw.analytics.ingest.logEngagementCardEvent("clicked",t);var a=t.actionURL.indexOf("?")<0?"?":"&",s="";("undefined"==typeof t.urlAppendAnalyticsParams||t.urlAppendAnalyticsParams)&&(s=a+iaw.analytics.getAnalyticsQueryString()),iaw.util.openDefaultBrowser(t.actionURL+s)}},this.updateTrialTime=function(){if(iaw.store){var t=iaw.store.get(["host","secondsLeftInTrial"]);e.days=Math.max(0,Math.round(moment.duration(t,"seconds").asDays())),e.update()}},this.on("mount",function(e){clearInterval(i),i=setInterval(this.update,6e4),this.updateTrialTime(),this.root.style.backgroundColor=t.backgroundFillColor.replace("0x","#"),t.genericFlag=!1,iaw.analytics.ingest.logEngagementCardEvent("rendered",t)}),this.on("update",function(t){this.updateTrialTime()}),this.on("unmount",function(t){clearInterval(i),this.off("*")})}),riot.tag2("trialsimple",'<div class="card-trial-content"><h3 class="iaw-Heading iaw-Heading--3">{days}</h3><h4 class="iaw-Heading iaw-Heading--4">{iaw.i18n.getLocalizedString(\'trial_counter\')}</h4></div>',"",'class="card grid-cell grid-cell--autoSize" role="alert"',function(t){var e=this,i=-1;this.updateTrialTime=function(){if(iaw.store){var t=iaw.store.get(["host","secondsLeftInTrial"]),i=Math.max(0,Math.round(moment.duration(t,"seconds").asDays()));e.days=i,e.root.classList.remove("days-5","days-10","days-30"),i<4?e.root.classList.add("days-5"):i<6?e.root.classList.add("days-10"):e.root.classList.add("days-30")}},this.on("mount",function(e){i=setInterval(this.update,6e4),this.updateTrialTime(),t.genericFlag=!0,iaw.analytics.ingest.logEngagementCardEvent("rendered",t)}),this.on("update",function(t){this.updateTrialTime()}),this.on("unmount",function(t){clearInterval(i)})}),riot.tag2("card-raw","","","",function(t){var e=this;riot.mount(this.root,t.content.tag,t.content.data),this.invertRegular=function(t){t&&(e.root.classList.remove("spc--light","spc--dark"),document.body.classList.contains("spc--dark")?e.root.classList.add("spc--light"):e.root.classList.add("spc--dark"))},this.invertText=function(t){t?e.root.classList.add("card--dark-text"):e.root.classList.add("card--light-text")},this.on("mount",function(t){this.updateCardTheme(),riotctrl.on("update-theme",this.updateCardTheme,this)}),this.on("unmount",function(){riotctrl.off("update-theme",this.updateCardTheme,this),this.off("*")}),this.updateCardTheme=function(){var i=t.content.data;return e.root.classList.remove("card--light-text","card--dark-text","spc--light","spc--dark"),"basic"===i.displayTemplate.toLowerCase()?void(i.backgroundFillColor?e.invertText(i.invertPresentation):e.invertRegular(i.invertPresentation)):void(i.backgroundImage||i.backgroundFillColor?e.invertText(i.invertPresentation):e.invertRegular(i.invertPresentation))}}),riot.tag2("card-stream",'<div class="stream-container grid" role="list" onkeydown="{keyDown}"><card-raw content="{card}" each="{card in cards}"></div>',"","",function(t){var e=this;this.items=[],this.cards=[],this.skipped=[],this.cardOrder=null,this.numRows=parseInt(t.rows)||-1,this.container=null,this.currentTime=(new Date).getTime();var i=!1;this.setItems=function(t){if(t){var i=iaw.store.get(["host","displayMode"])||"welcome",a=iaw.psdk.data.cardControl;e.cardOrder=[];for(var s=0;s<a.length;s++)if(a[s].modeID===i){e.cardOrder=a[s].cardOrder;break}for(var o=[],n=0;n<e.cardOrder.length;n++)o.push(t[e.cardOrder[n]]);e.items=o;var r=e.container.offsetWidth;r>0&&e.recalc()}},this.getCardType=function(t){var e;switch(t){case"trialClock":e={type:"trialClock"};break;case"basic":e={type:"basic"};break;case"basicWButton":e={type:"basic",hasButton:!0};break;case"poster":e={type:"poster"};break;case"posterWButton":e={type:"poster",hasButton:!0};break;case"adobeStock":e={type:"adobeStock"};break;case"adobeStockAlt":e={type:"adobeStock",isAlt:!0}}return e},this.keyDown=function(t){var e=t.target,i=t.which||t.keyCode,a=e.closest("card-raw");if(a){var s,o,n=Array.prototype.slice.call(a.parentNode.children),r=n.indexOf(a),c="INPUT"===e.tagName&&""!==e.value;switch(i){case iaw.a11y.Keys.END:c||(s=n[a.length-1]);break;case iaw.a11y.Keys.HOME:c||(s=n[0]);break;case iaw.a11y.Keys.LEFT:c||r>0&&(s=n[r-1]);break;case iaw.a11y.Keys.UP:s=iaw.a11y.getAdjacentElementVertically(n,a,!0);break;case iaw.a11y.Keys.RIGHT:c||r<n.length-1&&(s=n[r+1]);break;case iaw.a11y.Keys.DOWN:s=iaw.a11y.getAdjacentElementVertically(n,a,!1)}return s&&(o=iaw.a11y.focusable(s)[0],o&&o.focus()),!0}},this.on("mount",function(t){riotctrl.on("resize-breakpoint-retro",this.recalc,this),riotctrl.on("update-cards-retro",this.updateCards,this),this.container=this.root.querySelector(".stream-container"),i&&(i=!1,this.setItems(iaw.psdk.data.cards))}),this.on("unmount",function(){riotctrl.off("resize-breakpoint-retro",this.recalc,this),riotctrl.off("update-cards-retro",this.updateCards,this),this.off("*")}),this.updateCards=function(){return e.container?void e.setItems(iaw.psdk.data.cards):void(i=!0)},this.recalc=function(){if(e.container){var t=15,i=175+t,a=e.container.getBoundingClientRect(),s=a.right-a.left+t;if(!(s<i)){var o,n,r,c,l,d,u=Math.floor(s/i),h=0,p=0,g=0;for(e.skipped.length=0,e.cards.length=0,e.currentTime=(new Date).getTime(),o=0;o<e.items.length;o++)if(r=e.items[o]){if(c=parseInt(r.width),r.startDTS){var m=new Date(r.startDTS).getTime();if(m>=e.currentTime)continue}if(r.endDTS){var w=new Date(r.endDTS).getTime();if(w<e.currentTime)continue}var f=iaw.store.get("host");if("trialClock"!==r.cardType||"paid"!==f.accountStatus&&("openDoc"!==f.displayMode||"PPRO"===f.hostID||"AEFT"===f.hostID)){if(h+c>u?e.skipped.push(r):(h+=c,d=e.getCardType(r.displayTemplate),l=r.displayTemplate?d.type.toLowerCase():r.cardType.toLowerCase(),d&&d.hasButton&&(r.hasButton=!0),e.cards.push({tag:l,data:r}),h===u&&(p++,h=0)),g+=c,e.numRows!==-1&&p>=e.numRows){++o<e.items.length&&(g+=parseInt(e.items[o].width));break}for(n=0;n<e.skipped.length;n++)r=e.skipped[n],c=parseInt(r.width),h+c<=u&&(h+=c,d=e.getCardType(r.displayTemplate),l=r.displayTemplate?d.type.toLowerCase():r.cardType.toLowerCase(),d&&d.hasButton&&(r.hasButton=!0),e.cards.push({tag:l,data:r}),e.skipped.splice(n,1),n=-1,h===u&&(p++,h=0));if(e.numRows!==-1&&p>=e.numRows)break}}e.parent&&e.numRows!==-1?(e.parent.haveMoreCards=g>u,e.parent.update()):e.update()}}}}),riot.tag2("container-main",'<page-primary show="{bitFlag & 3}"></page-primary><page-more show="{bitFlag & 4}"></page-more><tooltip></tooltip>',"","",function(t){var e=this;this.pages={INIT:"initial",PRIM:"primary",MORE:"more",IFRM:"inline"},this.currentPage="",this.bitFlag=0;var i=!0,a=[this.pages.PRIM,this.pages.MORE,this.pages.IFRM],s=[365,760,950,1140,1330],o=[0,20,140,140,140],n=0,r=1,c=-1,l=!1,d=!1;this.getPageBit=function(t){switch(t){case e.pages.INIT:return 1;case e.pages.PRIM:return 2;case e.pages.MORE:return 4;case e.pages.IFRM:return 8;default:return 0}},this.currentBreakpoint=function(){var t,e;for(t=0;t<s.length;t++)e=window.innerWidth-o[t],e>s[t]&&(c=t);c<0&&(c=0)},this.checkBreakpoints=function(){var t=window.innerWidth;(l||t!==n)&&(n=t,e.currentBreakpoint(),(l||c!==r)&&(l=!1,iaw.util.currentBreakPoint=c,e.resizeElements(".page-container--center-column",s[c]),riotctrl.trigger("resize-breakpoint-retro",r,c),0===c?(document.body.classList.add("open-mode"),riotctrl.trigger("change-active-tab","recentfile")):document.body.classList.remove("open-mode"),r=c))},this.resizeElements=function(t,e){for(var i=document.querySelectorAll(t),a=e+"px",s=0;s<i.length;s++)i[s].style.width=a},this.on("mount unmount",function(t){switch(t){case"mount":d||(d=!0,l=!0,iaw.motor.add(this.checkBreakpoints,this)),riotctrl.on("update-cards-retro",this.updateCards,this),riotctrl.on("update-host-retro",this.updateHost,this),document.activeElement&&document.activeElement.blur();break;case"unmount":iaw.motor.remove(this.checkBreakpoints),riotctrl.off("update-cards-retro",this.updateCards,this),riotctrl.off("update-host-retro",this.updateHost,this),this.off("*")}}),this.updateCards=function(){e.resizeElements(".page-container--center-column",s[c]),riotctrl.trigger("resize-breakpoint-retro",r,c);
},this.updateHost=function(){var t=iaw.store.get(["host","startView"])||"primary",a=window.location.hash.substring(1);if(a)e.currentPage=a;else{switch(t){case"video":case"carousel":case e.pages.INIT:e.currentPage=e.pages.INIT;break;default:0===c&&(t=e.pages.PRIM),e.currentPage=t}i=!0}e.currentPage=0===c&&e.currentPage===e.pages.INIT?e.pages.PRIM:e.currentPage,routie(e.currentPage)},routie("*",function(t){if(this.bitFlag=this.getPageBit(this.currentPage)|this.getPageBit(t),this.update(),i)return i=!1,void(l=!0);var e=this,s="page-"+t,o=this.currentPage?this.tags["page-"+this.currentPage]:null,n=this.tags[s],r=a.indexOf(t)>a.indexOf(this.currentPage),c=r?"right":"left",d=r?"left":"right",u="slide-center-from-"+c,h="slide-"+d+"-from-center";switch(t){case this.pages.INIT:break;case this.pages.PRIM:if(this.currentPage===this.pages.INIT){h="anim--fade-out",n=null;break}case this.pages.MORE:case this.pages.IFRM:}riotctrl.trigger("lock-screen"),o&&(o.root.addEventListener("webkitAnimationEnd",function p(t){t.target.removeEventListener("webkitAnimationEnd",p),o.trigger("outro-end"),riotctrl.trigger("unlock-screen")}),o.trigger("outro-start"),o.root.classList.add(h)),n&&(n.root.addEventListener("webkitAnimationEnd",function g(t){t.target.removeEventListener("webkitAnimationEnd",g),n.trigger("intro-end"),l=!0,e.bitFlag=e.getPageBit(e.currentPage),e.update(),riotctrl.trigger("unlock-screen")}),n.trigger("intro-start"),n.root.classList.add(u)),o||n||riotctrl.trigger("unlock-screen"),this.currentPage=t,l=!0}.bind(this))}),riot.tag2("create-button",'<button name="button" class="spc-button" onclick="{clicked}"><span class="create-button--label">{label}</span><span class="create-button--shortcut">{shortcut}</span></button>',"","",function(t){var e=this;this.i18n=t.i18n,this.label=t.i18n,this.shortcut="",this.tip="",this.clicked=function(i){if("createButtonNewdocs"===t.action){var a=iaw.store.get(["host","hostID"]);if("PHXS"===a||"ILST"===a){var s=iaw.store.get(["host","fnftEnabled"]),o=s?"fnft":"legacy";iaw.analytics.ingest.logItemOpenedEvent({openType:"new",fileType:"",sectionView:"createNew",ucAction:o})}else iaw.analytics.ingest.logItemOpenedEvent({openType:"new",fileType:"",sectionView:"createNew",ucAction:"legacy"})}e.button.blur(),riotctrl.trigger(t.action)},this.updateShortCutKey=function(t){var i=iaw.util.isWindowsOS()?"Ctrl+":"⌘";e.shortcut=t&&t.shortcut?t.shortcut:i+iaw.i18n.getLocalizedString(e.i18n+"_shortcutkey"),i===e.shortcut&&(e.shortcut="")},this.on("mount",function(){riotctrl.on("update-i18n-retro",this.onLoc,this),riotctrl.on("update-shortcut-key",this.updateShortcut,this)}),this.on("unmount",function(){riotctrl.off("update-i18n-retro",this.onLoc,this),riotctrl.off("update-shortcut-key",this.updateShortcut,this),this.off("*")}),this.onLoc=function(){var t=iaw.store.get(["host","buttonInfo",e.i18n])||null;e.label=t&&t.label?t.label:iaw.i18n.getLocalizedString(e.i18n),e.tip=t&&t.tip?t.tip:"",e.updateShortCutKey(t),e.update()},this.updateShortcut=function(){var t=iaw.store.get(["host","buttonInfo",e.i18n])||null;e.updateShortCutKey(t),e.update()}}),riot.tag2("file-grid",'<div role="row" class="hidden-accessible"><div role="columnheader" class="iaw-Grid-heading-name hidden-accessible">{nameLabel}</div><div role="columnheader" class="iaw-Grid-heading-date hidden-accessible">{openedLabel}</div></div><grid-item each="{items}" data="{this}"></grid-item>',"",'class="grid" role="grid" onkeydown="{keyDown}" onkeypress="{keyDown}"',function(t){var e=this;this.activeTab=iaw.localstorage.getUserItem(iaw.store.get(["host","displayMode"])+"_lastTab")||null,this.items=[],this.leaf=null,this.nameLabel="",this.openedLabel="",this.setItems=function(t){e.items=[];var i,a;for(i=0;a=t[i];i++)a.index=i,e.items.push(a);e.update()},this.updateList=function(t){var i=iaw.store.get(["host","tabs",t])||null;if(i){e.activeTab=t;var a=i.list||[];e.setItems(a)}},this.focus=function(t){var e,i,a=t.target,s=Array.prototype.slice.call(a.parentNode.children),o=s.length;for(i=0;i<o;i++)e=s[i],e.classList.contains("disabled")||e.classList.contains("hidden-accessible")?e.removeAttribute("tabindex"):e.tabIndex=e===a?0:-1;return!0},this.keyDown=function(t){var e,i,a=t.target,s=t.which||t.keyCode,o=Array.prototype.slice.call(a.parentNode.children),n=-1;switch(o=o.filter(function(t){return!t.classList.contains("disabled")&&!t.classList.contains("hidden-accessible")}),n=o.indexOf(a),s){case iaw.a11y.Keys.ENTER:case iaw.a11y.Keys.SPACE:a.click(),t.preventDefault();break;case iaw.a11y.Keys.END:e=o[o.length-1];break;case iaw.a11y.Keys.HOME:e=o[0];break;case iaw.a11y.Keys.LEFT:n>0&&(e=o[n-1]);break;case iaw.a11y.Keys.UP:e=iaw.a11y.getAdjacentElementVertically(o,a,!0);break;case iaw.a11y.Keys.RIGHT:n<o.length-1&&(e=o[n+1]);break;case iaw.a11y.Keys.DOWN:e=iaw.a11y.getAdjacentElementVertically(o,a,!1);break;default:"keypress"===t.type&&(e=iaw.a11y.alphanumericSearch(t,o,a))}return e&&(i=iaw.a11y.focusable(e,!1,!0)[0],i&&i.focus()),!0},this.on("updated",function(t){iaw.motor.kick()}),this.on("mount",function(){0!==iaw.util.currentBreakPoint&&"openDoc"!==iaw.store.get(["host","displayMode"])||this.updateList(iaw.store.get(["host","defaultTab"])),riotctrl.on("tab-change",this.updateList,this),riotctrl.on("update-mru-list",this.updateRecents,this),riotctrl.on("update-cards-retro",this.updateCards,this),riotctrl.on("update-i18n-retro",this.updateI18n,this),this.focus=this.focus.bind(this),this.root.addEventListener("focus",this.focus,!0)}),this.on("unmount",function(){riotctrl.off("tab-change",this.updateList,this),riotctrl.off("update-mru-list",this.updateRecents,this),riotctrl.off("update-cards-retro",this.updateCards,this),riotctrl.off("update-i18n-retro",this.updateI18n),this.off("*"),this.root.removeEventListener("focus",this.focus)}),this.updateRecents=function(){"recentfile"===e.activeTab&&e.updateList(e.activeTab)},this.updateCards=function(){e.activeTab||(e.activeTab=iaw.store.get(["host","defaultTab"])),e.updateList(e.activeTab)},this.updateI18n=function(){e.nameLabel=iaw.i18n.getLocalizedString("listview_name_header"),e.openedLabel=iaw.i18n.getLocalizedString("listview_last_header"),e.update()}}),riot.tag2("grid-item",'<div role="gridcell"><div class="grid-item__overlay"></div><div class="grid-item__thumbnail" riot-style="background-image: url({thumbnail()})"></div><div class="grid-item__name">{opts.data.name}</div></div><div role="gridcell" class="grid-item__date">{opts.data.lastOpened ? format(opts.data.lastOpened) : opts.data.description}</div>',"",'class="grid-cell grid-cell--autoSize" data-tip="{opts.data.tip}" role="row" tabindex="0" onclick="{clicked}"',function(t){var e=this,i="";this.action=t.data.action||"recentfile",this.index=-1,this.clicked=function(t){riotctrl.trigger(e.action,e.index,"grid")},this.format=function(t){if(!t||t===i)return i;var e=new Date(t),a=moment(e),s="ja_JP"!==iaw.store.get(["host","language"])?"MMM Do, h:mm a":"MMMDD日、ah:mm",o=moment().diff(a),n=o<1728e5?a.fromNow():a.format(s);return a.isValid()?n:i},this.thumbnail=function(){return t.data.thumb||"./images/thumbs/"+t.data.icon+".png"}}),riot.tag2("file-table",'<div if="{this.columns}" class="tr file-table__header {tableClass}" aria-hidden="true"><div class="td file-table__column-{this.width} {file-table__column--resizable: this.resizable}" each="{this.columns}">{this.localizedLabel}</div></div><table if="{this.columns}" class="{tableClass}" role="grid" onkeydown="{keyDown}" onkeypress="{keyDown}"><tbody><tr each="{item in items}" data-tip="{item.tip}" onclick="{parent.clicked.bind(item)}" class="{disabled: disabled}"><td class="truncate-text file-table__column-{col.width} {file-table__column--resizable: col.resizable}" each="{col in this.parent.columns}" role="row" tabindex="{!disabled ? \'0\' : disabled}">{this.parent.parseText(item, col)}</td></tr></tbody></table><div if="{!this.columns}" class="tr file-table__header {tableClass}" role="row"><div class="td item-name role=" columnheader>{nameLabel}</div><div class="td item-opened role=" columnheader>{openedLabel}</div><div class="td item-desc role=" columnheader>{descLabel}</div><div class="td item-size role=" columnheader>{sizeLabel}</div><div class="td item-kind role=" columnheader>{kindLabel}</div></div><table if="{!this.columns}" class="{tableClass}" role="grid" onkeydown="{keyDown}" onkeypress="{keyDown}"><tbody><tr each="{items}" data-tip="{tip}" onclick="{parent.clicked.bind(this)}" class="{disabled: disabled}" role="row" tabindex="{!disabled ? \'0\' : disabled}"><td class="item-name truncate-text" role="gridcell"><span>{name}</span></td><td class="item-opened truncate-text" role="gridcell">{parent.parseFunctions.date(lastOpened)}</td><td if="{description && description !== \'\'}" class="item-desc truncate-text" role="gridcell">{description}</td><td class="item-size truncate-text" role="gridcell">{size}</td><td class="item-kind truncate-text" role="gridcell">{kind}</td></tr></tbody></table>',"","",function(t){var e=this;this.items=[],this.tableClass=iaw.localstorage.getUserItem(iaw.store.get(["host","displayMode"])+"_lastTab")||null,this.breakpoint=0,this.nameLabel="",this.openedLabel="",this.descLabel="",this.sizeLabel="",this.kindLabel="",this.columns=this.opts.columns,this.parseFunctions={date:function(){var t,e,i,a,s="",o="ja_JP"!==iaw.store.get(["host","language"])?"MMM Do, h:mm a":"MMMDD日、ah:mm";return function(n){return n&&n!==s?(t=new Date(n),e=moment(t),a=moment().diff(e),i=a<1728e5?e.fromNow():e.format(o),e.isValid()?i:s):s}}(),string:function(t){return t}},this.parseText=function(t,e){return"function"==typeof e.type?e.type(t[e.id]):this.parseFunctions[e.type]?this.parseFunctions[e.type](t[e.id]):this.parseFunctions.string(t[e.id])},this.validateColumns=function(){if(this.columns){var t,e,i=!1;for(t=0;e=this.columns[t];t++)i?e.resizable=!1:e.resizable&&(i=!0);i||(this.columns[0].resizable=!0)}},this.validateColumns(),this.clicked=function(t){var e=this.action||"recentfile";"recentlib"===e?riotctrl.trigger(e,this.id):riotctrl.trigger(e,this.index,"list")},this.setItems=function(t){e.items=[];var i,a;for(i=0;a=t[i];i++)a.index=i,e.items.push(a);e.update()},this.updateList=function(t){var i=iaw.store.get(["host","tabs",t])||null;if(i){e.tableClass=t;var a=i.list||[];e.setItems(a)}},this.recalc=function(t,i){e.breakpoint=i,e.update()},this.focus=function(t){var i,a,s=t.target.closest("tr"),o=s.getBoundingClientRect(),n=e.root.firstElementChild,r=n.getBoundingClientRect(),c=e.root.parentNode.parentNode.parentNode,l=Array.prototype.slice.call(s.parentNode.children),d=l.length;for(a=0;a<d;a++)i=l[a],i.tabIndex=i===s?0:-1;return o.top<r.bottom&&(c.scrollTop+=o.top-r.bottom,c.scrollTop<o.height&&(c.scrollTop=0)),!0},this.keyDown=function(t){var e,i=t.target,a=t.which||t.keyCode,s=i.closest("tr"),o=Array.prototype.slice.call(s.parentNode.children),n=-1;switch(o=o.filter(function(t){return!t.classList.contains("disabled")}),n=o.indexOf(s),a){case iaw.a11y.Keys.ENTER:case iaw.a11y.Keys.SPACE:s.click(),t.preventDefault();break;case iaw.a11y.Keys.END:e=o[o.length-1];break;case iaw.a11y.Keys.HOME:e=o[0];break;case iaw.a11y.Keys.LEFT:case iaw.a11y.Keys.UP:n>0&&(e=o[n-1]);break;case iaw.a11y.Keys.RIGHT:case iaw.a11y.Keys.DOWN:n<o.length-1&&(e=o[n+1]);break;default:"keypress"===t.type&&(e=iaw.a11y.alphanumericSearch(t,o,s))}return e&&(e.focus(),t.preventDefault()),!0},this.on("updated",function(t){iaw.motor.kick(),this.root.querySelector("td.item-desc")}),this.on("mount",function(t){setTimeout(function(){var t=iaw.store.get(["host","displayMode"]),e=iaw.store.get(["host","defaultTab"]),i=iaw.localstorage.getUserItem(t+"_lastTab")||e;0!==iaw.util.currentBreakPoint&&"openDoc"!==t||(i=e),this.updateList(i)}.bind(this),20),riotctrl.on("resize-breakpoint-retro",this.recalc,this),riotctrl.on("update-i18n-retro",this.onLoc,this),riotctrl.on("tab-change",this.updateList,this),riotctrl.on("file-view-change",this.updateList,this),riotctrl.on("update-mru-list",this.updateRecents,this),riotctrl.on("update-cards-retro",this.updateCards,this),this.focus=this.focus.bind(this),this.root.addEventListener("focus",this.focus,!0)}),this.on("before-unmount",function(t){riotctrl.off("resize-breakpoint-retro",this.recalc,this),riotctrl.off("update-i18n-retro",this.onLoc,this),riotctrl.off("tab-change",this.updateList,this),riotctrl.off("file-view-change",this.updateList,this),riotctrl.off("update-mru-list",this.updateRecents,this),riotctrl.off("update-cards-retro",this.updateCards,this),this.off("*"),this.root.removeEventListener("focus",this.focus)}),this.onLoc=function(){var t,i;if(e.columns)for(t=0;i=e.columns[t];t++)i.localizedLabel=iaw.i18n.getLocalizedString(i.label);e.nameLabel=iaw.i18n.getLocalizedString("listview_name_header"),e.openedLabel=iaw.i18n.getLocalizedString("listview_last_header"),e.descLabel=iaw.i18n.getLocalizedString("listview_desc_header"),e.sizeLabel=iaw.i18n.getLocalizedString("listview_size_header"),e.kindLabel=iaw.i18n.getLocalizedString("listview_kind_header"),e.update()},this.updateRecents=function(){"recentfile"===e.tableClass&&e.updateList(e.tableClass)},this.updateCards=function(){e.tableClass||(e.tableClass=iaw.store.get(["host","defaultTab"])),e.updateList(e.tableClass)}}),riot.tag2("file-view-toggle",'<button class="iaw-List-listIcon {selected: selectedView === \'list\'}" onclick="{toggle}" title="{listViewLabel}" aria-label="{listViewLabel}"><svg width="100%" height="100%" viewbox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="list-view" class="iaw-List-iconThumbnail" sketch:type="MSArtboardGroup" fill="#7B7B7B"><rect sketch:type="MSShapeGroup" x="0" y="0" width="100%" height="4"></rect><rect sketch:type="MSShapeGroup" x="0" y="28%" width="100%" height="4"></rect><rect sketch:type="MSShapeGroup" x="0" y="57%" width="100%" height="4"></rect><rect sketch:type="MSShapeGroup" x="0" y="86%" width="100%" height="4"></rect></g></g></svg></button><button class="iaw-List-gridIcon {selected: selectedView === \'grid\'}" onclick="{toggle}" title="{thumbnailViewLabel}" aria-label="{thumbnailViewLabel}"><svg width="100%" height="100%" viewbox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="thumbnail-list" class="iaw-List-iconThumbnail" sketch:type="MSArtboardGroup" fill="#7B7B7B"><rect sketch:type="MSShapeGroup" x="0" y="0" width="42%" height="42%"></rect><rect sketch:type="MSShapeGroup" x="0" y="57%" width="42%" height="42%"></rect><rect sketch:type="MSShapeGroup" x="57%" y="0" width="42%" height="42%"></rect><rect sketch:type="MSShapeGroup" x="57%" y="57%" width="42%" height="42%"></rect></g></g></svg></button>',"",'class="grid-cell hide"',function(t){var e=this,i="grid";this.listViewLabel="",this.thumbnailViewLabel="",this.selectedView=iaw.localstorage.getUserItem(iaw.store.get(["host","currentTab"])+".lastTabView")||i,this.toggle=function(t){var i=e.root.getElementsByClassName("iaw-List-gridIcon")[0],a=e.root.getElementsByClassName("iaw-List-listIcon")[0];i.classList.remove("selected"),i.setAttribute("aria-pressed","false"),a.classList.remove("selected"),a.setAttribute("aria-pressed","false");for(var s,o=0;o<t.path.length;o++)if("button"===t.path[o].tagName.toLowerCase()){s=t.path[o];break}s.classList.add("selected"),s.setAttribute("aria-pressed","true");var n=s.classList.contains("iaw-List-listIcon")?"list":"grid";return e.selectedView=n,iaw.localstorage.setUserItem(iaw.store.get(["host","currentTab"])+".lastTabView",n),riotctrl.trigger("file-view-change",n),!0},this.onCards=function(){var t=iaw.localstorage.getUserItem(iaw.store.get(["host","displayMode"])+"_lastTab")||iaw.store.get(["host","defaultTab"]),a=iaw.store.get(["host","tabs",t])||null;1==a.listViewEnabled&&1==a.thumbnailViewEnabled&&e.root.classList.remove("hide"),e.selectedView=iaw.localstorage.getUserItem(t+".lastTabView")||i},this.onViewChange=function(t){e.selectedView=t,iaw.motor.kick(),e.update()},this.updateI18nRetro=function(){e.listViewLabel=iaw.i18n.getLocalizedString("file_view_toggle_listview"),e.thumbnailViewLabel=iaw.i18n.getLocalizedString("file_view_toggle_thumbnailview"),e.update()},this.on("mount unmount",function(t){if("mount"===t){var e=iaw.localstorage.getUserItem(iaw.store.get(["host","displayMode"])+"_lastTab")||iaw.store.get(["host","currentTab"]),a=iaw.store.get(["host","tabs",e])||null;if(!a.listViewEnabled||!a.thumbnailViewEnabled)return void this.root.classList.add("hide");this.root.classList.remove("hide"),this.selectedView=iaw.localstorage.getUserItem(e+".lastTabView")||i,riotctrl.on("update-cards-retro",this.onCards,this),riotctrl.on("file-view-change",this.onViewChange,this),riotctrl.on("update-i18n-retro",this.updateI18nRetro,this)}else"unmount"===t&&(this.off("*"),riotctrl.off("update-cards-retro",this.onCards,this),riotctrl.off("file-view-change",this.onViewChange,this),riotctrl.off("update-i18n-retro",this.updateI18nRetro,this))})}),riot.tag2("hero-heading",'<h1 class="iaw-Heading">{label}</h1>',"","",function(t){var e=this;this.i18n=t.i18n,this.label=t.i18n,this.on("mount",function(){riotctrl.on("update-i18n-retro",this.onLoc,this)}),this.on("unmount",function(){riotctrl.off("update-i18n-retro",this.onLoc,this),this.off("*")}),this.onLoc=function(){e.label=iaw.i18n.getLocalizedSubstitutionString(e.i18n,[iaw.store.get(["host","firstName"]),iaw.store.get(["host","lastName"])]),e.update()}}),riot.tag2("nav-buttons",'<debug-menu></debug-menu><settings-menu></settings-menu><button class="helpx-link spc-button spc-button--icon" onclick="{openHelp}" title="{helpLabel}" aria-label="{helpLabel}">?</button><input type="image" if="{imgsrc}" riot-src="{imgsrc}" onclick="{openAccount}" title="{openAccountAlt}" alt="{openAccountAlt}"><span if="{iaw.util.currentBreakPoint === 0 && iaw.store.get([\'host\', \'accountStatus\']) !== \'paid\'}" class="nav-buttons-trial">{days + \' \' + daysLeftLabel}</span>',"",'class="grid grid--center grid-cell"',function(t){var e=this;this.mixin("cooldown"),this.imgsrc="./images/profile-default.jpg",this.days=0,this.daysLeftLabel="",this.helpLabel="",this.openAccountAlt="",this.currentTime=(new Date).getTime(),this.openAccount=function(t){if(!e.isCoolingDown(0)){var i="https://accounts.adobe.com/",a=iaw.store.get(["host","language"]),s=iaw.i18n.getLangSuffixForAccountURL(a);"en"!==s&&(i+=s+"/"),iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-click",ucAction:"acct-profile"}),iaw.util.openDefaultBrowserAuthenicated("adobeAccount",i)}},this.openHelp=function(t){if(!e.isCoolingDown(1)){var i="https://helpx.adobe.com/",a=iaw.store.get(["host","language"]),s=iaw.i18n.getLangSuffixForHelpURL(a);switch(i+=s+"/",iaw.store.get(["host","hostID"])){case"AEFT":i+="after-effects";break;case"DRWV":i+="dreamweaver";break;case"ILST":i+="illustrator";break;case"IDSN":i+="indesign";break;case"MUSE":i+="muse";break;case"PHXS":i+="photoshop";break;case"PPRO":i+="premiere-pro"}i+=".html",iaw.util.openDefaultBrowserAuthenicated("adobeLearn",i)}},this.checkTrial=function(){var t=e.root.querySelector(".nav-buttons-trial");if(iaw.store){var i=iaw.store.get(["host","secondsLeftInTrial"]);e.days=Math.max(0,Math.round(moment.duration(i,"seconds").asDays()))}if(t){var a=iaw.psdk.data.cards||[],s=!1;a.forEach(function(e){if("trialClock"===e.cardType){if(e.startDTS){var i=new Date(e.startDTS).getTime();if(i>=this.currentTime)return}if(e.endDTS){var a=new Date(e.endDTS).getTime();if(a<this.currentTime)return}e.backgroundFillColor&&(t.style.backgroundColor=e.backgroundFillColor.replace("0x","#"),s=!0)}}.bind(e)),s||(t.classList.remove("trialcard--days-5","trialcard--days-10","trialcard--days-30"),e.days<4?t.classList.add("trialcard--days-5"):e.days<6?t.classList.add("trialcard--days-10"):t.classList.add("trialcard--days-30"))}},this.checkTrialAndUpdate=function(){e.checkTrial(),e.update()},this.on("updated",this.checkTrial),this.on("mount unmount",function(t){"mount"===t?(riotctrl.on("update-i18n-retro",this.onLoc,this),riotctrl.on("update-profile-image",this.updateProfile,this),riotctrl.on("resize-breakpoint-retro",this.checkTrialAndUpdate,this)):"unmount"===t&&(riotctrl.off("update-i18n-retro",this.onLoc,this),riotctrl.off("update-profile-image",this.updateProfile,this),riotctrl.off("resize-breakpoint-retro",this.checkTrialAndUpdate,this),this.off("*"))}),this.onLoc=function(){e.daysLeftLabel=iaw.i18n.getLocalizedString("trial_counter"),e.helpLabel=iaw.i18n.getLocalizedString("help_and_support"),e.openAccountAlt=iaw.i18n.getLocalizedString("manage_account"),e.update()},this.updateProfile=function(t){iaw.profile.getProfilePicture(t,function(t){t&&(this.imgsrc=t,this.update())}.bind(e))}}),riot.tag2("settings-menu",'<button if="{showMenu}" class="menu-panel--toggle" onclick="{toggleMenu}" onkeydown="{buttonKeyDown}" onmouseleave="{menuOut}" onmouseenter="{menuOver}" aria-haspopup="true" aria-expanded="{open}" aria-controls="menu-panel-{_riot_id}" title="{toggleLabel}" aria-label="{toggleLabel}"><i class="inapp-icons inapp-icon--gear"></i></button><div hidden class="menu-panel" onmouseleave="{menuOut}" onmouseenter="{menuOver}" role="dialog" aria-hidden="true" id="menu-panel-{_riot_id}"><div class="settings-menu--header" role="heading" aria-level="2">{titleLabel}</div><div class="settings-menu--desc">{desc}</div></div>',"",'class="grid grid--center"',function(t){var e=this,i=-1;this.open=!1,this.showMenu=!1,this.trapFocus=!1,this.toggleLabel="",this.titleLabel="",this.desc="",this.buttonKeyDown=function(t){var i=t.keyCode;return(i===iaw.a11y.Keys.ENTER||i===iaw.a11y.Keys.SPACE||i===iaw.a11y.Keys.DOWN&&!e.open)&&(e.trapFocus=!0,i===iaw.a11y.Keys.DOWN&&e.toggleMenu()),!0},this.escapeKey=function(t){e.open&&t.keyCode===iaw.a11y.Keys.ESC&&e.closeMenu()},this.mouseDown=function(t){var i=e.root.getElementsByClassName("menu-panel")[0],a=e.root.getElementsByClassName("menu-panel--toggle")[0];e.open&&(a===t.target||a.contains(t.target)?(iaw.a11y.TrapFocus.deactivate(i),e.trapFocus=!1):i===t.target||i.contains(t.target)||e.closeMenu())},this.menuOver=function(t){e.open&&clearTimeout(i)},this.menuOut=function(t){e.open&&!e.trapFocus&&(i=setTimeout(e.closeMenu.bind(e),500))},this.closeMenu=function(){e.toggleMenu(null,!0)},this.toggleMenu=function(t,i){var a=e.root.getElementsByClassName("menu-panel")[0],s=e.root.getElementsByClassName("menu-panel--toggle")[0];i&&(e.open=!0),e.open?(a.setAttribute("aria-hidden","true"),a.classList.remove("anim--open-menu"),a.classList.add("anim--close-menu"),s.setAttribute("aria-expanded","false"),e.trapFocus&&(iaw.a11y.TrapFocus.deactivate(a),e.trapFocus=!1),window.removeEventListener("keydown",e.escapeKey),window.removeEventListener("mousedown",e.mouseDown)):(a.removeAttribute("aria-hidden"),a.removeAttribute("hidden"),a.classList.remove("anim--close-menu"),a.classList.add("anim--open-menu"),s.setAttribute("aria-expanded","true"),e.trapFocus&&setTimeout(function(){iaw.a11y.TrapFocus.activate(a,{initialFocus:a})},20),window.addEventListener("keydown",e.escapeKey),window.addEventListener("mousedown",e.mouseDown,!0),iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-click",ucAction:"welcome"===iaw.store.get(["host","displayMode"])?"settings-hide-start":"settings-hide-open"})),e.open=!e.open},this.on("mount",function(){riotctrl.on("update-host-retro",this.updateHost,this),riotctrl.on("update-i18n-retro",this.updatei18n,this),riotctrl.on("resize-breakpoint-retro",this.updatei18n,this),this.escapeKey=this.escapeKey.bind(this),this.mouseDown=this.mouseDown.bind(this)}),this.on("unmount",function(){riotctrl.off("update-host-retro",this.updateHost,this),riotctrl.off("update-i18n-retro",this.updatei18n,this),riotctrl.off("resize-breakpoint-retro",this.updatei18n,this),this.off("*")}),this.updateHost=function(){switch(iaw.store.get(["host","hostID"])){case"PHXS":case"ILST":case"IDSN":case"DRWV":case"SIMU":e.showMenu="paid"===iaw.store.get(["host","accountStatus"]);break;default:e.showMenu=!1}e.update()},this.updatei18n=function(){iaw.store&&"DRWV"===iaw.store.get(["host","hostID"])?(e.titleLabel=iaw.i18n.getLocalizedString("hide_start_screen_title"),e.desc=iaw.i18n.getLocalizedString("hide_start_screen_desc")):0===iaw.util.currentBreakPoint?(e.titleLabel=iaw.i18n.getLocalizedString("hide_recentfiles_workspace_title"),e.desc=iaw.i18n.getLocalizedString("hide_recentfiles_workspace_desc")):(e.titleLabel=iaw.i18n.getLocalizedString("hide_start_workspace_title"),e.desc=iaw.i18n.getLocalizedString("hide_start_workspace_desc")),e.toggleLabel=iaw.i18n.getLocalizedString("settings"),e.update()}}),riot.tag2("page-more",'<div class="page-container--center-column"><div class="more-Nav"><a class="back-button" href="#primary" onclick="{goBack}"><i class="inapp-icons inapp-icon--left"></i><h2>{moreLabel}</h2></a></div><div class="scroll-container"><div class="scroll-pane"><card-stream rows="{-1}" class="card-half"></card-stream></div></div><scrollbar></scrollbar></div>',"",'class="page-container"',function(t){var e=this;this.moreLabel="",this.goBack=function(){return iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-click",ucAction:"eng-goback"}),!0},this.resetRootClasses=function(){e.root.className="page-container"},this.on("intro-start intro-end outro-start outro-end",function(t){switch(t){case"intro-start":riot.mount("card-stream"),iaw.motor.kick(),this.update();break;case"intro-end":this.resetRootClasses(),iaw.motor.kick();break;case"outro-start":iaw.motor.kick();break;case"outro-end":this.resetRootClasses(),this.update()}}),this.on("mount",function(){riotctrl.on("update-i18n-retro",this.onLoc,this)}),this.on("unmount",function(){riotctrl.off("update-i18n-retro",this.onLoc,this),this.off("*")}),this.onLoc=function(){e.moreLabel=iaw.i18n.getLocalizedString("back"),e.update()}}),riot.tag2("page-primary",'<div class="page-container--center-column"><div class="action-container" if="{breakpoint === 0}"><create-button action="createButtonNewdocs" i18n="create_button_newdocs"></create-button><create-button action="createButtonOpen" i18n="create_button_open"></create-button></div><div class="tab-nav--container grid grid--row"><span class="grid-cell {grid-cell--gutter: breakpoint > 0} card--1of4"></span><span class="grid-cell grid-cell--fit"><span id="js-tab-nav"></span><span if="{this.currentTab && iaw.store.get(this.currentTab.type + \'_note\')}" class="note-text"><raw-text content="{iaw.store.get(this.currentTab.type + \'_note\')}"></raw-text></span></span></div><section id="cards--top" class="grid grid--row"><div if="{breakpoint > 0}" class="create-column grid grid--col"><tabs></tabs><div class="button-container"><create-button action="createButtonNewdocs" i18n="create_button_newdocs"></create-button><create-button action="createButtonOpen" i18n="create_button_open"></create-button></div><div class="button-container {button-container--small: smallButtons, button-container--hidden: this.hostId !== \'AEFT\' && this.hostId !== \'PPRO\'}"><create-button action="createButtonNewProduction" i18n="create_button_new_production"></create-button><create-button action="createButtonOpenProduction" i18n="create_button_open_production"></create-button></div><trialsimple if="{iaw.store.get([\'host\', \'accountStatus\']) !== \'paid\'}"></trialsimple></div><div class="grid-cell scroll-container"><div id="js-tab-content" class="scroll-pane"></div></div></section><hr id="cards--separator"></hr></div><section if="{haveCards}" id="cards--bottom" class="page-container--center-column"><div if="{breakpoint > 0 && haveMoreCards}" class="section-heading-container grid"><h2 class="iaw-Heading iaw-Heading--2"><a href="#more" onclick="{routeMore}">{seeAllLabel}</a></h2></div><card-stream rows="1" class="card-half"></card-stream></section>',"",'class="page-container holy-grail"',function(t){var e=this;this.contentSelector="#js-tab-content",this.breakpoint=-1,this.fileView="list",this.currentTab=null,this.haveCards=!0,this.haveMoreCards=!0,this.seeAllLabel="",this.hostId,this.smallButtons=!1;var i=0,a=0;this.mountTab=function(t){var i=iaw.store.get(["host","tabs",t])||null;if(e.currentTab){if(e.currentTab.type===t)return;var a=e.tags["tab-"+e.currentTab.type];a&&a.unmount()}e.currentTab=i;var s=riot.mount(e.contentSelector,"tab-"+t);s=0===s.length?riot.mount(e.contentSelector,"tab-generic",i)[0]:s[0],s||console.error(t+" was unsuccessfully mounted"),e.fileView=s.fileView,e.update()},this.resetRootClasses=function(){e.root.className="page-container holy-grail"},this.checkScrollPane=function(){var t=e.root.querySelector(".scroll-pane"),s=e.root.querySelector(".scroll-container"),o=t.offsetHeight,n=s.offsetHeight;i===o&&a===n||(i=o,a=n,o>n?(t.style.position="absolute",s=e.root.querySelector(".page-container--center-column"),s.classList.contains("holy-grail--body")||s.classList.add("holy-grail--body")):(t.style.position="relative",s=e.root.querySelector(".page-container--center-column"),s.classList.contains("holy-grail--body")&&s.classList.remove("holy-grail--body")))},this.resetContainerMargin=function(){var t=document.querySelector(".scroll-container"),i=document.getElementsByTagName("file-table");i[0]&&"list"===e.fileView?t.style.marginTop="31px":t.style.marginTop="0"},this.on("mount unmount",function(t){"mount"===t?(riotctrl.on("resize-breakpoint-retro",this.recalc,this),riotctrl.on("update-cards-retro",this.updateCards,this),riotctrl.on("tab-change",this.tabChange,this),riotctrl.on("file-view-change",this.fileViewChange,this),riotctrl.on("update-i18n-retro",this.onLoc,this),riotctrl.on("update-host-retro",this.onHost,this),iaw.motor.add(this.checkScrollPane,this),iaw.motor.add(this.resetContainerMargin,this),iaw.motor.kick()):"unmount"===t&&(this.off("*"),riotctrl.off("resize-breakpoint-retro",this.recalc,this),riotctrl.off("update-cards-retro",this.updateCards,this),riotctrl.off("tab-change",this.tabChange,this),riotctrl.off("file-view-change",this.fileViewChange,this),riotctrl.off("update-i18n-retro",this.onLoc,this),iaw.motor.remove(this.checkScrollPane,this),iaw.motor.remove(this.resetContainerMargin,this))}),this.on("intro-start intro-end outro-start outro-end",function(t){switch(t){case"intro-start":iaw.motor.kick();break;case"intro-end":iaw.motor.kick(),this.resetRootClasses(),this.update();break;case"outro-start":iaw.motor.kick();break;case"outro-end":iaw.motor.kick(),this.resetRootClasses(),this.update()}}),this.updateCards=function(){e.haveCards=iaw.psdk.data&&iaw.psdk.data.cards&&iaw.psdk.data.cards.length>0,("paid"===iaw.store.get(["host","accountStatus"])||e.haveCards)&&e.tags.trialsimple.root.classList.add("hidden");var t=iaw.localstorage.getUserItem(iaw.store.get(["host","displayMode"])+"_lastTab")||iaw.store.get(["host","defaultTab"]);e.mountTab(t)},this.onLoc=function(){e.seeAllLabel=iaw.i18n.getLocalizedString("psdk_showall_label")},this.onHost=function(){e.hostId=iaw.store.get(["host","hostID"]),e.language=iaw.store.get(["host","language"]),e.smallButtons="ja_JP"===e.language},this.routeMore=function(){return iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-click",ucAction:"eng-showall"}),!0},this.tabChange=function(t){iaw.store.set(["host","currentTab"],t),!e.currentTab||e.currentTab&&t!==e.currentTab.type?e.mountTab(t):e.update(),e.resetContainerMargin(),iaw.motor.kick()},this.fileViewChange=function(t){e.fileView=t,e.resetContainerMargin(),iaw.analytics.ingest.logViewChangeEvent({sectionView:t,sectionType:e.currentTab.type}),iaw.motor.kick()},this.recalc=function(t,i){e.breakpoint=i,e.update()}}),riot.tag2("product-rune",'<img if="{!showBack()}" class="product-icon" riot-src="{imgSrc}" alt=""><span if="{!showBack()}">{label}</span><i if="{showBack()}" class="inapp-icons inapp-icon--left" onclick="{closePanel}"></i><div if="{showBack()}" onclick="{closePanel}">{closeLabel}</div>',"",'class="grid grid--center"',function(t){var e=this;
this.imgSrc="./images/products/product-rune-SIMU.jpg",this.label="",this.closeLabel="",this.closePanel=function(t){iaw.analytics.ingest.logScreenStateEvent("close-manual"),iaw.cepUtil.sendEvent(iaw.cepUtil.events.REQUESTHOSTCLOSE,null)},this.showBack=function(){var t=iaw.store.get(["host","hostID"]),e="com.adobe.ccx.open"===iaw.cepUtil.getExtensionID();return e&&"PPRO"!==t&&"AEFT"!==t},this.on("mount unmount",function(t){"mount"===t?(riotctrl.on("resize-breakpoint-retro",this.update,this),riotctrl.on("update-i18n-retro",this.onLoc,this)):"unmount"===t&&(riotctrl.off("resize-breakpoint-retro",this.update,this),riotctrl.off("update-i18n-retro",this.onLoc,this))}),this.onLoc=function(){var t=iaw.store.get(["host","hostID"]);e.imgSrc="./images/products/product-rune-"+t+".png",e.label=iaw.i18n.getLocalizedString("product_title_"+t),e.closeLabel=iaw.i18n.getLocalizedString("close"),e.update()}}),riot.tag2("raw-text","<span></span>","","",function(t){this.on("update",function(){this.root.innerHTML=t.content})}),riot.tag2("empty-ccfiles",'<div class="ccfiles-empty__container"><h4>{titleText}</h4><span class="ccfiles-empty__subtitle">{subtitleText}</span><div class="grid grid--row"><div class="ccfiles-empty__card"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 80 80" style="enable-background:new 0 0 77 58;" xml:space="preserve"><g><path class="st0" d="M48.4,1.7c15,0,27.2,12.3,27.2,27.3S63.4,56.3,48.4,56.3c-4.6,0-20,0-24.2,0C11.6,56.3,1.4,46,1.4,33.4 s10.2-22.9,22.8-22.9c1.3,0,2.6,0.1,3.9,0.3C33,5.2,40.3,1.7,48.4,1.7 M48.4,0.5c-4.1,0-8.1,0.9-11.8,2.6c-3.4,1.6-6.4,3.7-8.9,6.5 c-1.1-0.2-2.3-0.2-3.4-0.2c-3.2,0-6.4,0.6-9.3,1.9c-2.9,1.2-5.4,2.9-7.6,5.1C5,18.5,3.3,21.1,2.1,24c-1.3,3-1.9,6.1-1.9,9.3 c0,3.2,0.6,6.4,1.9,9.3c1.2,2.9,2.9,5.4,5.1,7.6c2.2,2.2,4.8,4,7.6,5.3c3,1.3,6.1,2,9.3,2h24.2c3.8,0,7.5-0.9,11-2.3 c3.4-1.4,6.4-3.5,9-6.1c2.6-2.6,4.7-5.7,6.1-9.1c1.5-3.5,2.2-7.2,2.2-11.1s-0.8-7.6-2.2-11.1c-1.4-3.4-3.5-6.4-6.1-9 c-2.6-2.6-5.6-4.7-9-6.1C55.9,1.2,52.2,0.5,48.4,0.5L48.4,0.5z"></path><path class="st0" d="M21,34c-0.8-0.8-0.8-2.1,0-2.9c0.8-0.8,2.1-0.8,2.9,0l11,11.1c3.4,3.4,8.2,5.8,13.4,5.8 c10.4,0,18.8-8.7,18.8-19.1S58.8,10,48.4,10c-4.4,0-8.5,1.5-11.7,4.1c-1.2-0.8-2.6-1.5-4-2.1c4.1-3.8,9.6-6.2,15.7-6.2 c12.7,0,23,10.3,23,23s-10.3,23.3-23,23.3c-6.4,0-12.1-2.8-16.3-7L21,34z"></path><path class="st0" d="M33.7,22.4c-2.5-2.2-5.9-3.5-9.5-3.5c-8,0-14.5,6.5-14.5,14.4c0,8,8.3,14.6,14.5,14.6h4.6 c1.5,1.6,3.2,3.1,5.1,4.3h-9.7c-10.3,0-18.6-8.4-18.6-18.7s8.3-18.7,18.6-18.7c4.8,0,9.2,1.8,12.5,4.8l8.4,8.6 c0.8,0.8,0.8,2.1,0,2.9s-2.1,0.8-2.9,0L33.7,22.4z"></path></g></svg><span>{ctaText}</span><div class="ccfiles-empty__buttons"><div class="spc-button spc-button--primary" onclick="{handleLearnMore}">{learnMore}</div><div class="spc-button spc-button--cta" onclick="{handleViewOnWeb}">{viewOnWeb}</div></div></div></div></div>',"","",function(t){var e=this;this.titleText="",this.subtitleText="",this.ctaText="",this.learnMore="",this.viewOnWeb="",this.handleLearnMore=function(){var t=iaw.store.get(["host","language"]),e=iaw.i18n.getLangSuffixForHelpURL(t),i="en"===e?"":"_"+e,a="https://www.adobe.com/go/ccfiles_learn"+i;iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-click",ucAction:"learn-more",actionURL:a,sectionType:"ccfiles"}),iaw.util.openDefaultBrowser(a)},this.handleViewOnWeb=function(){var t=iaw.store.get(["host","language"]),e=iaw.i18n.getLangSuffixForHelpURL(t),i="en"===e?"":"_"+e,a="https://www.adobe.com/go/ccfiles_web"+i;iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-click",ucAction:"view-on-web",actionURL:a,sectionType:"ccfiles"}),iaw.util.openDefaultBrowser(a)},this.on("mount unmount",function(t){"mount"===t?riotctrl.on("update-i18n-retro",this.updateI18n,this):"unmount"===t&&(riotctrl.off("update-i18n-retro",this.updateI18n,this),this.off("*"))}),this.updateI18n=function(){e.titleText="PHXS"===iaw.store.get(["host","hostID"])?iaw.i18n.getLocalizedString("empty_ccfiles_ps_title"):iaw.i18n.getLocalizedString("empty_ccfiles_title"),e.subtitleText=iaw.i18n.getLocalizedString("empty_ccfiles_subtitle"),e.ctaText=iaw.i18n.getLocalizedString("empty_ccfiles_cta"),e.learnMore=iaw.i18n.getLocalizedString("empty_ccfiles_learn"),e.viewOnWeb=iaw.i18n.getLocalizedString("empty_ccfiles_view"),e.update()}}),riot.tag2("tab-ccfiles",'<div if="{isLoading}" class="activity-indicator__radial"></div><div if="{!fileListEmpty && !isLoading && !loadingError && fileView === \'list\'}"><file-table columns="{this.columns}"></file-table></div><div if="{!fileListEmpty && !isLoading && !loadingError && fileView === \'grid\'}" class="grid grid--gutter"><file-grid></file-grid></div><raw-text if="{loadingError}" content="{loadingErrorText}" style="display:block;width:80%;line-height:150%;"></raw-text><empty-ccfiles if="{fileListEmpty}"></empty-ccfiles>',"","",function(t){function e(t){for(var e=t._embedded.result,i=Array.isArray(e)?e:[e],a=[],s=0;s<i.length;s++){var o={type:i[s].type,consistency_hint:i[s].consistency_hint,id:i[s].id.split("#")[0],owner:i[s].ownerId};a.push(o)}return a}function i(t,e,i,s){for(var o=t._embedded.resources,n=Array.isArray(o)?o:[o],r=new Array,c=["indl","indb","idml"],l={json:"SP_QuickStartJSON.png",less:"SP_QuickStartLESS.png",php:"SP_QuickStartPHP.png",js:"SP_QuickStartJS.png",css:"SP_QuickStartCSS.png",html:"SP_QuickStartHTML.png"},d=0;d<n.length;d++)if(!(n[d].metadata&&n[d].metadata.custom&&n[d].metadata.custom.oldLocation)){var u=n[d].metadata.asset.fileName.split(".").pop(),h={};h.action="ccfiles",h.id=n[d].id,h.name=n[d].metadata.asset.fileName||"Untitled",h.tip=n[d].metadata.asset.fileName||"Untitled",h.lastOpened=n[d].metadata.asset.updated,h.size=iaw.util.createFileSizeString(n[d].metadata.asset.length),"DRWV"===iaw.store.get(["host","hostID"])?h.thumb=Object.keys(l).indexOf(u)>-1?"./images/thumbs/"+l[u]:a(n[d].id,e,i,s)+"&t="+(new Date).getTime():h.thumb=c.indexOf(u)>-1?"./images/thumbs/CCX_Start_DefaultThumb_Ps_Ai_Id.png":a(n[d].id,e,i,s)+"&t="+(new Date).getTime(),r.push(h)}return r}function a(t,e,i,a){var s="https://cc-"+i+"1-"+a+".adobesc.com/api/v1/assets/"+t+"/renditions/jpg/500",o="https://scproxy-"+a+".adobecc.com/api?X-Location="+encodeURIComponent(s)+"&Authorization=Bearer%20"+e;return o}function s(){var t=[];switch(iaw.store.get(["host","hostID"])){case"PHXS":t=["image/vnd.adobe.photoshop","application/photoshop","application/psd","image/psd","application/x-photoshop"];break;case"ILST":t=[];break;case"IDSN":t=[];break;case"AEFT":t=["application/vnd.adobe.aftereffects.project","application/octet-stream"];break;case"PPRO":t=["application/octet-stream","application/x-gzip"];break;case"DRWV":t=[]}return t}function o(){var t=[];switch(iaw.store.get(["host","hostID"])){case"PHXS":t=["psd"];break;case"ILST":t=["ai","eps","pdf"];break;case"IDSN":t=["indd","indt","indb","indl","idml"];break;case"AEFT":t=["aep"];break;case"PPRO":t=["prproj"];break;case"MUSE":t=["muse"];break;case"DRWV":t=["html","css","js","php","scss","sass","less","json","svg","xml","dwt","dwt.php"]}return t}var n=this;this.tabType="ccfiles",this.fileListEmpty=!1,this.fileView=iaw.localstorage.getUserItem("ccfiles.lastTabView")||"list",this.isLoading=!0,this.loadingError=!1,this.loadingErrorText="",this.ccFilesRootFolder="",this.ccFilesDisplayRootFolder="",this.columns=[{label:"listview_name_header",id:"name",width:1,type:"string",resizable:!0},{label:"listview_modified_header",id:"lastOpened",width:1,type:"date"},{label:"listview_size_header",id:"size",width:1}],this.countryCode=iaw.store.get(["host","countryCode"]),this.ENVIRONMENT=iaw.cepUtil.isStage?"stage":"prod",this.REGION=iaw.util.getRegionFromCountryCode(this.countryCode&&""!==this.countryCode?this.countryCode:"US"),this.SABRE_CLOUD_ID="00000000-0000-0000-0000-000000000000",this.SABRE_JOB_ID="files",this.CC_FILES_ROOT_FOLDER_REQUEST="accc.files.getCloudsListRequest",this.CC_FILES_ROOT_FOLDER_RESPONSE="adbproduct.files.getCloudsListResponse",this.CC_FILES_PATH_REQUEST="sync.in.request.job.getpath",this.CC_FILES_PATH_RESPONSE="sync.out.response.job.getpath",this.CC_FILES_OBSERVER_CREATE="sync.in.request.observer.create",this.CC_FILES_SYNC_STATUS="sync.out.notify.job.status",this.XML_START='<?xml version="1.0" encoding="utf-8"?><message>',this.XML_END="</message>",this.XML_REQUEST_START='<?xml version="1.0" encoding="utf-8"?><request>',this.XML_REQUEST_END="</request>",this.SHARED_CLOUD_PROXY_ENDPOINT="https://scproxy-"+this.ENVIRONMENT+".adobecc.com/api",this.SHARED_CLOUD_SEARCH_ENDPOINT="https://cc-"+this.REGION+"1-"+this.ENVIRONMENT+".adobesc.com/api/v1/search",this.SHARED_CLOUD_METADATA_ENDPOINT="https://cc-"+this.REGION+"1-"+this.ENVIRONMENT+".adobesc.com/api/v1/resources/metadata/batch",this.SHARED_CLOUD_COLLECTION_ENDPOINT="https://cc-"+this.REGION+"1-"+this.ENVIRONMENT+".adobesc.com/api/v1/collections/",this.isCurrentListEmpty=function(){var t=iaw.store.get(["host","tabs",n.tabType])||null;return!t||!t.list||0===t.list.length},this.getFiles=function(){n.isLoading=!0,n.update();var t=n;iaw.cepUtil.getIMSAccessToken(function(a){var s=this;this.getCCFilesRootFolder().then(function(e){return iaw.log.console("CC-Files :: --------- got root folder"),iaw.log.console("CC-Files :: "+e),t.ccFilesRootFolder=e,s.searchAsync(a)}).then(function(t){iaw.log.console("CC-Files :: --------- got search results"),iaw.log.logJSON("CC-Files :: ",t);var i=e(t);return s.getMetadata(a,i)}).then(function(t){iaw.log.console("CC-Files :: --------- got metadata results"),iaw.log.logJSON("CC-Files :: ",t);var e=i(t,a,s.REGION,s.ENVIRONMENT);return s.getPaths(a,e)}).then(function(e){iaw.log.console("CC-Files :: --------- got paths for files"),iaw.log.logJSON("CC-Files :: ",e);var i=iaw.localstorage.getUserItem(iaw.store.get(["host","displayMode"])+"_lastTab"),a=e,s=iaw.store.get(["host","tabs","ccfiles"]);iaw.localstorage.setUserItem("ccfiles.data",a);for(var o=a.length,n=0;n<o;++n){var r=a[n],c=r.kind||r.identifier.split(".").pop();iaw.analytics.ingest.logItemOpenedEvent({openType:"cc-file",eventAction:"render",fileType:c,itemPosition:n,sectionView:t.fileView||"",cardID:r.id})}s.list=a,t.isLoading=!1,t.fileListEmpty=0===o,t.fileListEmpty||"PHXS"!==iaw.store.get(["host","hostID"])||iaw.store.set(t.tabType+"_note",iaw.i18n.getLocalizedString("ccfiles_populated_msg")),"ccfiles"===i&&riotctrl.trigger("tab-change","ccfiles"),t.update()})["catch"](function(e){"empty"===e||"{}"===e?(s.fileListEmpty=!0,t.loadingError=!1):(iaw.log.console("CC-Files :: ------- ERROR IN PROMISE ----------"),iaw.log.logJSON("CC-Files :: ",e),t.fileListEmpty=!1,t.loadingError=!0);var i=iaw.store.get(["host","tabs","ccfiles"]);i.list=[],t.isLoading=!1,iaw.store.set(t.tabType+"_note",null),riotctrl.trigger("tab-change","ccfiles"),t.update()})}.bind(n))},this.getCCFilesRootFolder=function(){var t=n;return new Promise(function(e,i){function a(s){var o=VulcanInterface.getPayload(s);VulcanInterface.removeMessageListener(VulcanMessage.TYPE_PREFIX+t.CC_FILES_ROOT_FOLDER_RESPONSE,a);var n=(new DOMParser).parseFromString(o,"text/xml"),r=n.getElementsByTagName("cloud");if(r.length){for(var c="",l=0;l<r.length;l++){var d=r[l].getElementsByTagName("id")[0].childNodes[0].nodeValue,u=r[l].getElementsByTagName("syncPref")[0].childNodes[0].nodeValue;d===t.SABRE_CLOUD_ID&&"on"===u&&(c=unescape(r[l].getElementsByTagName("folderLocation")[0].childNodes[0].nodeValue),t.ccFilesDisplayRootFolder=c)}if(!("win"!==iaw.store.get(["host","platform"])&&"windows"!==iaw.store.get(["host","platform"])||"PHXS"!==iaw.store.get(["host","hostID"])&&"PPRO"!==iaw.store.get(["host","hostID"]))){var h="";"PHXS"===iaw.store.get(["host","hostID"])?(h=c.split("\\").join("/"),c="file://"+h):"PPRO"===iaw.store.get(["host","hostID"])&&(h=c.split("\\").join("\\\\"),c=h)}""!==c?e(c):i("Unable to fetch root folder")}else i("Unable to fetch root folder")}VulcanInterface.addMessageListener(VulcanMessage.TYPE_PREFIX+t.CC_FILES_ROOT_FOLDER_RESPONSE,a);var s=iaw.util.generateGUID(),o={"request-id":s},n="";for(var r in o)n+="<"+r+">"+o[r]+"</"+r+">";var c=new VulcanMessage(VulcanMessage.TYPE_PREFIX+t.CC_FILES_ROOT_FOLDER_REQUEST);c.setPayload(t.XML_REQUEST_START+n+t.XML_REQUEST_END),VulcanInterface.dispatchMessage(c)})},this.searchAsync=function(t){return new Promise(function(e,i){var a=new XMLHttpRequest;a.open("POST",n.SHARED_CLOUD_PROXY_ENDPOINT,!0),a.onload=function(){if(200===a.status){var t=JSON.parse(a.response);t.found>0?e(t):i("empty")}else i(a.statusText)},a.onerror=function(){i(a.statusText||"Network Error")},a.setRequestHeader("Authorization","Bearer "+t),a.setRequestHeader("X-Location",n.SHARED_CLOUD_SEARCH_ENDPOINT);for(var r=s(),c=[],l=0;l<r.length;l++)c.push({term:{"asset.mimeType":r[l]}});for(var d=o(),u=[],h=0;h<d.length;h++)u.push({term:{"name.extension":d[h]}});var p={};p="IDSN"===iaw.store.get(["host","hostID"])||"ILST"===iaw.store.get(["host","hostID"])||"DRWV"===iaw.store.get(["host","hostID"])?{bool:{should:u}}:{bool:{should:c,must:u}};var g={types:["asset"],client_id:["CCStorageExtended","creative_cloud"],access_scope:["private"],max:"50",page_size:50,query:p,sort:[{updated:{order:"desc"}},"_score"]};a.send(JSON.stringify(g))})},this.getMetadata=function(t,e){return new Promise(function(i,a){var s=new XMLHttpRequest;s.open("POST",n.SHARED_CLOUD_PROXY_ENDPOINT,!0),s.onload=function(){200===s.status||207===s.status?i(JSON.parse(s.response)):a(s.statusText)},s.onerror=function(){a(s.statusText||"Network Error")},s.setRequestHeader("Authorization","Bearer "+t),s.setRequestHeader("X-Location",n.SHARED_CLOUD_METADATA_ENDPOINT);var o={include_parent:"true",resources:e};s.send(JSON.stringify(o))})},this.getPaths=function(t,e){var i=n;return new Promise(function(t,a){function s(c){var l=VulcanInterface.getPayload(c),d=(new DOMParser).parseFromString(l,"text/xml");if(d.getElementsByTagName("path").length&&d.getElementsByTagName("path")[0].childNodes[0].nodeValue.indexOf("/archive")===-1){var u=d.getElementsByTagName("path")[0].childNodes[0].nodeValue,h=d.getElementsByTagName("status")[0].childNodes[0].nodeValue;"signedout"===h&&a("Authorization error"),"win"!==iaw.store.get(["host","platform"])&&"windows"!==iaw.store.get(["host","platform"])||"PPRO"!==iaw.store.get(["host","hostID"])?"win"!==iaw.store.get(["host","platform"])&&"windows"!==iaw.store.get(["host","platform"])||"ILST"!==iaw.store.get(["host","hostID"])?e[n].identifier=i.ccFilesRootFolder+u:e[n].identifier=i.ccFilesRootFolder+u.split("/").join("\\"):e[n].identifier=i.ccFilesRootFolder+u.split("/").join("\\\\");var p=u.split("/").pop();p&&(e[n].name=u.split("/").pop(),e[n].tip=i.ccFilesDisplayRootFolder+("win"===iaw.store.get(["host","platform"])||"windows"===iaw.store.get(["host","platform"])?u.split("/").join("\\"):u))}else r.push(n);if(n++,n>e.length-1){VulcanInterface.removeMessageListener(VulcanMessage.TYPE_PREFIX+i.CC_FILES_PATH_RESPONSE,s);for(var g=r.length-1;g>=0;g--)e.splice(r[g],1);t(e)}else o()}function o(){var t={requestid:c,userid:d,cloudid:i.SABRE_CLOUD_ID,job:i.SABRE_JOB_ID,type:i.CC_FILES_PATH_REQUEST,url:i.SHARED_CLOUD_COLLECTION_ENDPOINT+e[n].id},a="";for(var s in t)a+="<"+s+">"+t[s]+"</"+s+">";var o=new VulcanMessage(VulcanMessage.TYPE_PREFIX+i.CC_FILES_PATH_REQUEST);o.setPayload(i.XML_START+a+i.XML_END),VulcanInterface.dispatchMessage(o)}var n=0,r=[];VulcanInterface.addMessageListener(VulcanMessage.TYPE_PREFIX+i.CC_FILES_PATH_RESPONSE,s);var c=iaw.util.generateGUID(),l=(new DOMParser).parseFromString(iaw.cepUtil.imsInfo.getIMSAccounts(),"text/xml"),d=l.getElementsByTagName("UserID")[0].childNodes[0].nodeValue;o()})},this.startCCFilesNotification=function(){if(VulcanInterface){var t=iaw.util.generateGUID(),e={requestid:t,type:n.CC_FILES_OBSERVER_CREATE},i="";for(var a in e)i+="<"+a+">"+e[a]+"</"+a+">";var s=new VulcanMessage(VulcanMessage.TYPE_PREFIX+n.CC_FILES_OBSERVER_CREATE);s.setPayload(n.XML_START+i+n.XML_END),VulcanInterface.dispatchMessage(s),VulcanInterface.addMessageListener(VulcanMessage.TYPE_PREFIX+n.CC_FILES_SYNC_STATUS,n.handleCCFilesSync)}},this.stopCCFilesNotification=function(){VulcanInterface&&VulcanInterface.removeMessageListener(VulcanMessage.TYPE_PREFIX+n.CC_FILES_SYNC_STATUS,n.handleCCFilesSync)},this.handleCCFilesSync=function(t){var e=VulcanInterface.getPayload(t),i=(new DOMParser).parseFromString(e,"text/xml"),a=i.getElementsByTagName("minorstate")[0].childNodes[0].nodeValue;n.isLoading||"complete"!==a||n.getFiles()},this.on("mount unmount",function(t){if("mount"===t){var e=iaw.localstorage.getUserItem("ccfiles.data")||[],i=iaw.store.get(["host","tabs","ccfiles"]);i.list=e,this.update(),this.getFiles();var a=iaw.store.get(["host","tabs",this.tabType]);iaw.localstorage.setUserItem(a.type+".lastTabView",this.fileView),riotctrl.on("update-i18n-retro",this.updateI18n,this),riotctrl.on("file-view-change",this.onViewChange,this),riot.mount("#js-tab-nav","file-view-toggle"),riotctrl.trigger("file-view-change",this.fileView),this.startCCFilesNotification()}else"unmount"===t&&(riotctrl.off("update-i18n-retro",this.updateI18n,this),riotctrl.off("file-view-change",this.onViewChange,this),this.off("*"),this.stopCCFilesNotification())}),this.updateI18n=function(){n.loadingErrorText=iaw.i18n.getLocalizedString("ccfiles_loading_error"),n.update()},this.onViewChange=function(t){n.fileView=t,n.update()}}),riot.tag2("tab-generic",'<div if="{!fileListEmpty && fileView === \'list\'}"><file-table></file-table></div><div if="{!fileListEmpty && fileView === \'grid\'}" class="grid grid--gutter"><file-grid></file-grid></div><div if="{fileListEmpty}" class="grid grid--gutter"><span>{emptyListText}</span></div>',"","",function(t){var e=this;this.tabType=t.type,this.fileListEmpty=!1,this.fileView="list",this.emptyListText="",this.isCurrentListEmpty=function(){var t=iaw.store.get(["host","tabs",e.tabType])||null;return!t||!t.list||0===t.list.length},this.on("mount unmount",function(t){if("mount"===t){var e=iaw.store.get(["host","tabs",this.tabType])||null;this.fileListEmpty=this.isCurrentListEmpty(),this.fileView=iaw.localstorage.getUserItem(this.tabType+".lastTabView")||"list","list"!==this.fileView||e.listViewEnabled?"grid"!==this.fileView||e.thumbnailViewEnabled||(this.fileView="list"):this.fileView="grid",iaw.localstorage.setUserItem(e.type+".lastTabView",this.fileView),riot.mount("#js-tab-nav","file-view-toggle"),riotctrl.trigger("file-view-change",this.fileView),riotctrl.on("update-mru-list",this.onRecents,this),riotctrl.on("file-view-change",this.onFileViewChange,this),riotctrl.on("update-i18n-retro",this.onLoc,this),this.trigger("loading-complete")}else"unmount"===t&&(riotctrl.off("update-mru-list",this.onRecents,this),riotctrl.off("file-view-change",this.onFileViewChange,this),riotctrl.off("update-i18n-retro",this.onLoc,this),this.off("*"))}),this.onRecents=function(){e.fileListEmpty=e.isCurrentListEmpty(),e.update()},this.onFileViewChange=function(t){e.fileView=t,e.update()},this.onLoc=function(){e.emptyListText=iaw.i18n.getLocalizedString("empty_recentfile_subtitle"),e.update()}}),riot.tag2("mobilecreations-grid-item",'<div if="{isPageView && !pageFailure}" class="iaw-Grid-overlay" onclick="{clicked}" onmouseover="{creativeSyncHover}" data-tip="{cloudSyncText}"><div class="iaw-Grid-overlay-creativeSync" riot-style="background-image: url(\'{creativeSyncThumb()}\')"></div></div><div if="{!isPageView && !isDirty}" class="iaw-Grid-thumbnail-img-overlay" onclick="{clicked}"></div><div if="{!isPageView && isDirty}" class="iaw-Grid-thumbnail-img-overlay" onclick="{clicked}" data-tip="{pageFailureText}"></div><div if="{isClicked && !pageFailure}" class="iaw-Grid-overlay-loading"><div class="activity-indicator__dotsplusText"><div class="activity-indicator__dots"></div><div class="activity-indicator__dotsText"><raw-text content="{loaderText}"></raw-text></div></div></div><div if="{!isPageView}" class="iaw-Grid-thumbnail-margin-bottom iaw-Grid-thumbnail-img-container" onclick="{clicked}"><div class="iaw-Grid-thumbnail-img iaw-Grid-thumbnail-img1"></div><div class="iaw-Grid-thumbnail-img iaw-Grid-thumbnail-img2"></div><div class="iaw-Grid-thumbnail-img iaw-Grid-thumbnail-img3"></div><div if="{!isDirty}" class="iaw-Grid-thumbnail-img iaw-Grid-thumbnail-img4" riot-style="background-image: url(\'{thumbnail()}\')"></div><div if="{isDirty}" class="iaw-Grid-thumbnail-img iaw-Grid-thumbnail-img4" style="background-image: url(\'./images/thumbs/Warning_LightUI.svg\'); background-size: 50px 50px;" onmouseover="{showError}"></div></div><div if="{isPageView && !pageFailure}" class="iaw-Grid-thumbnail" riot-style="background-image: url(\'{thumbnail()}\')" onclick="{clicked}" onmouseover="{creativeSyncHover}" onmouseout="{creativeSyncBlank}"></div><div if="{isPageView && pageFailure}" class="iaw-Grid-thumbnail" style="background-image: url(\'./images/thumbs/Warning_LightUI.svg\'); background-size: 50px 50px;" onmouseover="{showError}"></div><div if="{!isPageView}" class="iaw-Grid-name" onclick="{clicked}">{opts.data.name}</div><div if="{!isPageView}" class="iaw-Grid-pageCountTag" onclick="{clicked}">{opts.data.pageCount}</div><div if="{!isPageView}" class="iaw-Grid-productTag" onclick="{clicked}">{iaw.data.mobileAssets.assetProductTag[opts.data.type]}</div>',"",'if="{!opts.data.error}" class="card grid-cell grid-cell--autoSize" data-tip="{opts.data.tip}"',function(t){var e=this;this.isPageView=!t.data.name||""===t.data.name,this.action=t.data.action||iaw.mobileAssetEvents.UNKNOWN_ERROR,this.id=t.data.identifierData,this.name=t.data.name,this.isClicked=!1,this.isDirty=t.data.isDirty,this.pageFailure=t.data.pageFailure,this.ingestEventType=this.isPageView?"pages":"project",this.onMouseOver=!1,this.pageFailureText="",this.loaderText="",this.cloudSyncText="",this.index=t.data.index||-1,iaw.analytics.ingest.logMobileCreationsRenderedEvent(this.ingestEventType,null),this.clicked=function(t){if(e.isPageView){var i=iaw.data.mobileAssets.loadingUIItemRef;i&&(i.isClicked=!1,i.update()),e.isClicked=!0,e.onMouseOver=!1,iaw.data.mobileAssets.loadingUIItemRef=e,e.update()}iaw.analytics.ingest.logMobileCreationsClickedEvent(e.ingestEventType,{itemPosition:e.index}),riotctrl.trigger(e.action,e.id,e.name)},this.creativeSyncThumb=function(){return e.isClicked?"":e.onMouseOver?"./images/thumbs/cloudSync.svg":void 0},this.creativeSyncHover=function(){e.onMouseOver=!0,e.update()},this.creativeSyncBlank=function(){e.onMouseOver=!1,e.update()},this.thumbnail=function(){return t.data.thumb},this.showError=function(){e.pageFailure=iaw.data.mobileAssets.errorStates.pageFailure,(e.pageFailure||e.isDirty)&&(t.data.tip=e.pageFailureText,e.update())},this.onClearStates=function(){if(e.isPageView){var t=iaw.data.mobileAssets.loadingUIItemRef;t&&(t.isClicked=!1,t.onMouseDown=!1,t.onMouseOver=!1,t.update())}},riotctrl.on("update-i18n-retro",function(){this.pageFailureText=iaw.i18n.getLocalizedString("mobile_creation_file_not_found"),this.loaderText=iaw.i18n.getLocalizedString("mobile_creation_page_loader"),this.cloudSyncText=iaw.i18n.getLocalizedString("mobile_creation_creative_sync"),this.update()},this),this.on("mount unmount",function(t){"mount"===t?riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_CLEAR_STATES,this.onClearStates,this):"unmount"===t&&(this.off("*"),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_CLEAR_STATES,this.onClearStates,this))})}),riot.tag2("mobilecreations-grid",'<mobilecreations-grid-item each="{items}" data="{this}"></mobilecreations-grid-item><div class="load-more-spinner--container" if="{iaw.data.mobileAssets.hasMoreProjects && !isPageView && iaw.data.mobileAssets.projectResponseReceived}"><div if="{loadingMoreProjects}" class="activity-indicator__radial"></div><div if="{loadingMoreFailure}" class="mobilecreations--errorStates--container"><div class="mobilecreations--errorStates--icon" style="background-image: url(\'./images/thumbs/Warning_LightUI.svg\');"></div><h4 class="mobilecreations--errorStates--text"><raw-text content="{errorStateText}"></raw-text></h4><div class="mobilecreations--errorStates--tryAgain"><raw-text content="{tryAgainText}" onclick="{loadMoreTryAgain}"></raw-text></div></div></div>',"",'class="grid"',function(t){var e=this;this.mixin("scroll-end"),this.items=[],this.isPageView=!1,this.loadingMoreProjects=!1,this.loadingMoreFailure=!1,this.errorStateText="",this.tryAgainText="",this.updateAndScrollUpdate=function(){e.update(),iaw.motor.kick()},this.updateGridData=function(){var t;t=e.isPageView?iaw.data.mobileAssets.pagesData:iaw.data.mobileAssets.projectsData,t&&0!==t.length&&(e.items=t,e.updateAndScrollUpdate())},this.onSyncReq=function(){e.isPageView||(e.items=[],e.updateAndScrollUpdate())},this.onProjReq=function(){e.items=[],iaw.data.mobileAssets.pageView?e.isPageView=!0:e.isPageView=!1,e.updateAndScrollUpdate()},this.onPagesReq=function(){e.items=[],e.isPageView=!0,e.updateAndScrollUpdate()},this.onPageReq=function(){e.isPageView=!0,e.update()},this.onProjectRes=function(){e.isPageView=!1,e.updateGridData()},this.onPagesRes=function(){e.isPageView=!0,e.updateGridData()},this.loadMoreProjects=function(){if(!e.isPageView&&iaw.data.mobileAssets.projectResponseReceived){if(e.loadingMoreProjects)return;iaw.data.mobileAssets.hasMoreProjects&&(e.loadingMoreProjects=!0,e.loadingMoreFailure=!1,e.update(),riotctrl.trigger(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_LOADMORE_REQUEST))}},this.loadMoreTryAgain=function(){iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.getProjectsByIndex&&(e.loadingMoreFailure=!1,iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTryAgainOnMCClick.subCategory,iaw.analytics.pipQuery.pipTryAgainOnMCClick.eventName),e.updateAndScrollUpdate(),riotctrl.trigger(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_LOADMORE_REQUEST))},this.loadMoreProjectsResponse=function(){e.loadingMoreProjects=!1,e.updateGridData()},this.loadMoreProjectsFailure=function(){e.loadingMoreFailure=!0,iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTimeOutOnMCClick.subCategory,iaw.analytics.pipQuery.pipTimeOutOnMCClick.eventName),e.loadingMoreProjects=!1,e.update()},this.onClearStates=function(){e.loadingMoreProjects=!1,e.loadingMoreFailure=!1,e.update()},this.checkPaneSize=function(){var t=document.querySelector(".scroll-pane"),i=t.offsetHeight;0!==i&&e.loadMoreProjects()},this.on("updated",this.checkPaneSize),this.on("scroll-end",this.loadMoreProjects),this.on("mount unmount",function(t){"mount"===t?(riotctrl.on("update-cards-retro",this.updateGridData,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_SYNC_REQUEST,this.onSyncReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_REQUEST,this.onProjReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PAGE_REQUEST,this.onPageReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_RESPONSE,this.onProjectRes,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_REQUEST,this.onPagesReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_RESPONSE,this.onPagesRes,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_LOADMORE_RESPONSE,this.loadMoreProjectsResponse,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_LOADMORE_PROJECTS_FAILURE,this.loadMoreProjectsFailure,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_CLEAR_STATES,this.onClearStates,this)):"unmount"===t&&(this.off("*"),riotctrl.off("update-cards-retro",this.updateGridData,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_SYNC_REQUEST,this.onSyncReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_REQUEST,this.onProjReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PAGE_REQUEST,this.onPageReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_RESPONSE,this.onProjectRes,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_REQUEST,this.onPagesReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_RESPONSE,this.onPagesRes,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_LOADMORE_RESPONSE,this.loadMoreProjectsResponse,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_LOADMORE_PROJECTS_FAILURE,this.loadMoreProjectsFailure,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_CLEAR_STATES,this.onClearStates,this))}),riotctrl.on("update-i18n-retro",function(){this.errorStateText=iaw.i18n.getLocalizedString("mobile_creation_network"),this.tryAgainText=iaw.i18n.getLocalizedString("mobile_creation_try_again"),this.update()},this)}),riot.tag2("mobilecreations-nav",'<div if="{displayNote}" class="note-text"><raw-text content="{noteText}"></raw-text></div><div if="{displayBack}" class="iaw-back-button" style="background-image: url(\'./images/thumbs/BackButton.svg\')" onclick="{backClicked}"></div><span if="{displayBack}" class="project-heading" onclick="{backClicked}"><raw-text content="{projectName}"></raw-text></span>',"","",function(t){var e=this;this.displayNote=!0,this.displayBack=!1,this.noteText="",this.projectName="",this.showNote=function(){e.displayNote=!iaw.data.mobileAssets.projectsData||0!==iaw.data.mobileAssets.projectsData.length,e.update()},this.backClicked=function(){iaw.data.mobileAssets.pageView=!1,iaw.mobileAssetMgr.clearPagesAndPageStates(),iaw.mobileAssetMgr.statesInSyncing()},this.onSyncReq=function(){iaw.data.mobileAssets.pageView?e.displayBack=!0:e.displayBack=!1,e.displayNote=!1,e.update()},this.onProjectsReq=function(){e.displayBack=!1,e.displayNote=!1,e.update()},this.onPagesRes=function(){e.displayBack=!0,e.displayNote=!1,e.update()},this.onProjectsRes=function(){e.displayBack=!1,e.showNote(),e.update()},this.onPagesReq=function(t,i){e.projectName=i||"",e.displayNote=!1,e.update()},this.onLoc=function(){e.noteText=iaw.i18n.getLocalizedString("mobile_creation_apps"),e.update()},this.onErrors=function(){iaw.data.mobileAssets.pageView&&(e.displayBack=!0,e.displayNote=!1,e.update())},this.on("mount unmount",function(t){"mount"===t?(riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_SYNC_REQUEST,this.onSyncReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_ERROR_STATES,this.onErrors,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_REQUEST,this.onProjectsReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_RESPONSE,this.onPagesRes,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_RESPONSE,this.onProjectsRes,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_REQUEST,this.onPagesReq,this),riotctrl.on("update-i18n-retro",this.onLoc,this)):"unmount"===t&&(riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_SYNC_REQUEST,this.onSyncReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_ERROR_STATES,this.onErrors,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_REQUEST,this.onProjectsReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_RESPONSE,this.onPagesRes,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_RESPONSE,this.onProjectsRes,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_REQUEST,this.onPagesReq,this),riotctrl.off("update-i18n-retro",this.onLoc,this))})}),riot.tag2("no-mobile-asset",'<div class="noMobAsset__container"><h4>{title}</h4><span class="noMobAsset__desc">{desc}</span><div class="noMobAsset__cards"><div class="noMobAsset__app-card"><img src="./images/empty-state/draw.png"><h5>{adobeDraw}</h5><span>{draw}</span></div><div class="noMobAsset__app-card"><img src="./images/empty-state/sketch.png"><h5>{adobeSketch}</h5><span>{sketch}</span></div><div class="noMobAsset__app-card"><img src="./images/empty-state/comp.png"><h5>{adobeComp}</h5><span>{comp}</span></div></div><div class="noMobAsset__buttons"><div class="noMobAsset__app-button"><button class="spc-button spc-button--primary" onclick="{clickDrawIOS}"> {getiOSDraw} </button><button class="spc-button spc-button--primary" onclick="{clickDrawAnd}"> {getAndroidDraw} </button></div><div class="noMobAsset__app-button"><button class="spc-button spc-button--primary" onclick="{clickSketchIOS}"> {getiOSSketch} </button><button class="spc-button spc-button--primary" onclick="{clickSketchAnd}"> {getAndroidDraw} </button></div><div class="noMobAsset__app-button"><button class="spc-button spc-button--primary" onclick="{clickCompIOS}"> {getiOSComp} </button><button class="spc-button spc-button--primary" onclick="{clickCompAnd}"> {getAndroidDraw} </button></div></div></div>',"","",function(t){
var e=this;this.title="",this.desc="",this.draw="",this.sketch="",this.comp="",this.getiOSDraw="",this.getiOSSketch="",this.getiOSComp="",this.getAndroidDraw="",this.adobeDraw="",this.adobeSketch="",this.adobeComp="",this.goiOSDraw="",this.goiOSSketch="",this.goiOSComp="",this.goAndroidDraw="",this.goAndroidSketch="",this.goAndroidComp="",this.openBrowser=function(t){var i=null;switch(t){case"comp-ios":i=e.goiOSComp;break;case"sketch-ios":i=e.goiOSSketch;break;case"draw-ios":i=e.goiOSDraw;break;case"draw-android":i=e.goAndroidDraw;break;case"comp-android":i=e.goAndroidComp;break;case"sketch-android":i=e.goAndroidSketch}i&&iaw.util.openDefaultBrowser(i,!1)},this.clickCompIOS=function(t){iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipGetApp.subCategory,iaw.analytics.pipQuery.pipGetApp.eventName),iaw.analytics.ingest.logMobileCreationsClickedEvent("app",{cardName:"Comp",cardPlatform:"iOS",actionURL:e.goiOSComp}),e.openBrowser("comp-ios")},this.clickCompAnd=function(t){iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipGetApp.subCategory,iaw.analytics.pipQuery.pipGetApp.eventName),iaw.analytics.ingest.logMobileCreationsClickedEvent("app",{cardName:"Comp",cardPlatform:"Android",actionURL:e.goAndroidComp}),e.openBrowser("comp-android")},this.clickDrawIOS=function(t){iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipGetApp.subCategory,iaw.analytics.pipQuery.pipGetApp.eventName),iaw.analytics.ingest.logMobileCreationsClickedEvent("app",{cardName:"Draw",cardPlatform:"iOS",actionURL:e.goiOSDraw}),e.openBrowser("draw-ios")},this.clickDrawAnd=function(t){iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipGetApp.subCategory,iaw.analytics.pipQuery.pipGetApp.eventName),iaw.analytics.ingest.logMobileCreationsClickedEvent("app",{cardName:"Draw",cardPlatform:"Android",actionURL:e.goAndroidDraw}),e.openBrowser("draw-android")},this.clickSketchIOS=function(t){iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipGetApp.subCategory,iaw.analytics.pipQuery.pipGetApp.eventName),iaw.analytics.ingest.logMobileCreationsClickedEvent("app",{cardName:"Sketch",cardPlatform:"iOS",actionURL:e.goiOSSketch}),e.openBrowser("sketch-ios")},this.clickSketchAnd=function(t){iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipGetApp.subCategory,iaw.analytics.pipQuery.pipGetApp.eventName),iaw.analytics.ingest.logMobileCreationsClickedEvent("app",{cardName:"Sketch",cardPlatform:"Android",actionURL:e.goAndroidSketch}),e.openBrowser("sketch-android")},this.onLoc=function(){e.title=iaw.i18n.getLocalizedString("no_mobile_creation_title"),e.desc=iaw.i18n.getLocalizedString("no_mobile_creation_desc"),e.draw=iaw.i18n.getLocalizedString("no_mobile_creation_draw"),e.sketch=iaw.i18n.getLocalizedString("no_mobile_creation_sketch"),e.comp=iaw.i18n.getLocalizedString("no_mobile_creation_comp"),e.getiOSDraw=iaw.i18n.getLocalizedString("no_mobile_creation_get_ios_draw"),e.getiOSSketch=iaw.i18n.getLocalizedString("no_mobile_creation_get_ios_sketch"),e.getiOSComp=iaw.i18n.getLocalizedString("no_mobile_creation_get_ios_comp"),e.getAndroidDraw=iaw.i18n.getLocalizedString("no_mobile_creation_get_and_draw"),e.adobeDraw=iaw.i18n.getLocalizedString("no_mobile_creation_app_name_draw"),e.adobeSketch=iaw.i18n.getLocalizedString("no_mobile_creation_app_name_sketch"),e.adobeComp=iaw.i18n.getLocalizedString("no_mobile_creation_app_name_comp"),iaw.analytics.ingest.logMobileCreationsRenderedEvent("app",{cardName:"Sketch"}),iaw.analytics.ingest.logMobileCreationsRenderedEvent("app",{cardName:"Draw"}),iaw.analytics.ingest.logMobileCreationsRenderedEvent("app",{cardName:"Comp"});var t="http://adobe.com/go/",i=iaw.i18n.getLangSuffixForMobileCreationsGoURL(iaw.store.get(["host","language"]));e.goiOSDraw=t+"ai_mobilecreation_draw_ios"+i,e.goiOSSketch=t+"ai_mobilecreation_sketch_ios"+i,e.goiOSComp=t+"ai_mobilecreation_compCC_ios"+i,e.goAndroidDraw=t+"ai_mobilecreation_draw_android"+i,e.goAndroidSketch=t+"ai_mobilecreation_sketch_android"+i,e.goAndroidComp=t+"ai_mobilecreation_comp_android"+i,e.update()},this.on("mount unmount",function(t){"mount"===t?(riotctrl.on("update-i18n-retro",this.onLoc,this),riotctrl.on("tab-change",this.update,this)):"unmount"===t&&(riotctrl.off("update-i18n-retro",this.onLoc),riotctrl.off("tab-change",this.update))})}),riot.tag2("tab-mobilecreations",'<div if="{isLoading}" class="activity-indicator__radialText"><div class="activity-indicator__radial"></div><div class="activity-indicator__text"><raw-text content="{loaderText}"></raw-text></div></div><div if="{errorState  && !filenotFound}" class="mobilecreations--errorStates--container"><div class="mobilecreations--errorStates--icon" style="background-image: url(\'./images/thumbs/Warning_LightUI.svg\');"></div><div class="mobilecreations--errorStates--text"><raw-text content="{errorStateText}"></raw-text></div><div class="mobilecreations--errorStates--tryAgain"><raw-text content="{tryAgainText}" onclick="{clicked}"></raw-text></div></div><div if="{errorState  && filenotFound}" class="mobilecreations--errorStates--container"><div class="mobilecreations--errorStates--icon" style="background-image: url(\'./images/thumbs/Warning_LightUI.svg\');"></div><div class="mobilecreations--errorStates--text"><raw-text content="{fileNotFoundText}"></raw-text></div></div><no-mobile-asset if="{!errorState && fileListEmpty && !isLoading}"></no-mobile-asset><mobilecreations-grid if="{!errorState && !fileListEmpty}"></mobilecreations-grid>',"","",function(t){var e=this;this.tabType="mobilecreations",this.fileListEmpty=!1,this.fileView="grid",this.isLoading=!1,this.errorState=!1,this.filenotFound=!1,this.errorStateText="",this.tryAgainText="",this.fileNotFoundText="",this.loaderText="",this.updateAndScrollUpdate=function(){e.update(),iaw.motor.kick()},this.takeReq=function(){e.isLoading=!0,e.fileListEmpty=!1,e.errorState=!1,e.updateAndScrollUpdate()},this.syncReq=function(){iaw.data.mobileAssets.pageView?e.isLoading=!1:e.isLoading=!0,e.fileListEmpty=!1,e.errorState=!1,e.updateAndScrollUpdate()},this.projectRes=function(){e.isLoading=!1,e.fileListEmpty=iaw.data.mobileAssets.projectsData&&0===iaw.data.mobileAssets.projectsData.length,e.errorState=!1,e.updateAndScrollUpdate()},this.pagesRes=function(){e.isLoading=!1,e.fileListEmpty=!1,e.errorState=!1,e.updateAndScrollUpdate()},this.errors=function(){iaw.data.mobileAssets.errorStates.projDeleted?e.filenotFound=!0:(e.filenotFound=!1,iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.sync?iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTimeOutOnMCClick.subCategory,iaw.analytics.pipQuery.pipTimeOutOnMCClick.eventName):iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.getProjects?iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTimeOutOnMCClick.subCategory,iaw.analytics.pipQuery.pipTimeOutOnMCClick.eventName):iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.getPages?iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTimeOutOnProjectClick.subCategory,iaw.analytics.pipQuery.pipTimeOutOnProjectClick.eventName):iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.getPage&&iaw.data.mobileAssets.tryAgainData.id&&(iaw.analytics.pipQuery.pipTimeOutOnFileClick.eventName=iaw.data.mobileAssets.syncGroupMap[iaw.data.mobileAssets.tryAgainData.id.syncGroup],iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTimeOutOnFileClick.subCategory,iaw.analytics.pipQuery.pipTimeOutOnFileClick.eventName))),e.errorState=!0,e.isLoading=!1,e.fileListEmpty=!1,e.updateAndScrollUpdate()},this.clicked=function(){iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.sync?(iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTryAgainOnMCClick.subCategory,iaw.analytics.pipQuery.pipTryAgainOnMCClick.eventName),iaw.mobileAssetMgr.requestMgr.states.getProjects.start=!0,e.takeReq(),iaw.mobileAssetMgr.initiateSync()):iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.getProjects?(iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTryAgainOnMCClick.subCategory,iaw.analytics.pipQuery.pipTryAgainOnMCClick.eventName),riotctrl.trigger(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_REQUEST)):iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.getPages?(e.takeReq(),iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTryAgainOnProjectClick.subCategory,iaw.analytics.pipQuery.pipTryAgainOnProjectClick.eventName),iaw.mobileAssetMgr.getPages(iaw.data.mobileAssets.tryAgainData.id)):iaw.data.mobileAssets.tryAgainData.state===iaw.mobileAssetMgr.requestMgr.states.getPage&&iaw.data.mobileAssets.tryAgainData.id&&(e.fileListEmpty=!1,e.errorState=!1,e.updateAndScrollUpdate(),iaw.analytics.pipQuery.pipTryAgainOnFileClick.eventName=iaw.data.mobileAssets.syncGroupMap[iaw.data.mobileAssets.tryAgainData.id.syncGroup],iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTryAgainOnFileClick.subCategory,iaw.analytics.pipQuery.pipTryAgainOnFileClick.eventName),iaw.mobileAssetMgr.getPage(iaw.data.mobileAssets.tryAgainData.id))},riotctrl.on("update-i18n-retro",function(){this.errorStateText=iaw.i18n.getLocalizedString("mobile_creation_network"),this.tryAgainText=iaw.i18n.getLocalizedString("mobile_creation_try_again"),this.fileNotFoundText=iaw.i18n.getLocalizedString("mobile_creation_file_not_found"),this.loaderText=iaw.i18n.getLocalizedString("mobile_creation_syncing"),this.update()},this),this.on("mount unmount",function(t){"mount"===t?(riot.mount("#js-tab-nav","mobilecreations-nav"),iaw.localstorage.setUserItem(this.tabType+".lastTabView","grid"),iaw.analytics.pip.logEvent(iaw.analytics.pipQuery.category,iaw.analytics.pipQuery.pipTry.subCategory,iaw.analytics.pipQuery.pipTry.eventName),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_ERROR_STATES,this.errors,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_SYNC_REQUEST,this.syncReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_REQUEST,this.takeReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_REQUEST,this.takeReq,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_RESPONSE,this.pagesRes,this),riotctrl.on(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_RESPONSE,this.projectRes,this),iaw.log.console("from: statesInSyncing.."),iaw.mobileAssetMgr.statesInSyncing(),riotctrl.trigger("file-view-change",this.fileView)):"unmount"===t&&(this.off("*"),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_ERROR_STATES,this.errors,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_SYNC_REQUEST,this.takeReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_REQUEST,this.takeReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_REQUEST,this.takeReq,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PAGES_RESPONSE,this.pagesRes,this),riotctrl.off(iaw.mobileAssetEvents.MOBILE_ASSET_PROJECTS_RESPONSE,this.projectRes,this),iaw.mobileAssetMgr.clearPagesAndPageStates())})}),riot.tag2("empty-recentfile",'<div class="recentfile-empty__container"><video id="video-elem" if="{hostID === \'MUSE\' && videoURL}" width="800px" height="auto" controls onclick="this.paused ? this.play() : this.pause();" onplay="{onPlay}" onpause="{onPause}"><source riot-src="{videoURL}" type="video/mp4"></video><img if="{hostID === \'MUSE\' && !videoURL}" riot-src="{videoHeroURL}" alt=""><div class="recentfile-empty__info"><h4>{titleText}</h4><span>{subtitleText}</span></div><div class="grid grid--row"><div class="recentfile-empty__card"><svg if="{hostID !== \'MUSE\'}" version="1.1" x="0px" y="0px" viewbox="0 0 1152 1152" xml:space="preserve"><g><path d="M432,0v264c0,0,0,24-24,24s-264,0-264,0L432,0z"></path><path d="M384,864c0-211.733,172.266-384,384-384c69.973,0,135.441,19.118,192,51.96c0-217.838,0-462.379,0-483.96c0-48-48-48-48-48 H528v288c0,0,0,96-96,96c-76.806,0-288,0-288,0s0,576,0,624s48,48,48,48h243.959C403.117,999.442,384,933.974,384,864z"></path><path d="M768,576c-159.024,0-288,128.904-288,288s128.976,288,288,288s288-128.904,288-288S927.024,576,768,576z M948,912H816v132 c0,6.627-5.373,12-12,12h-72c-6.627,0-12-5.373-12-12V912H588c-6.627,0-12-5.373-12-12v-72c0-6.627,5.373-12,12-12h132V684 c0-6.627,5.373-12,12-12h72c6.627,0,12,5.373,12,12v132h132c6.627,0,12,5.373,12,12v72C960,906.627,954.627,912,948,912z"></path></g></svg><span>{newFileText}</span><button name="button" class="spc-button spc-button--primary" onclick="{createFile}">{btnNewLabel}</button></div></div></div>',"","",function(t){var e=this;this.mixin("cooldown"),this.hostID="",this.titleText="",this.subtitleText="",this.newFileText="",this.presetText="",this.btnNewLabel="",this.btnPresetLabel="",this.videoURL=null,this.videoHeroURL=null,this.createFile=function(){e.isCoolingDown(0)||(e.button.blur(),iaw.analytics.ingest.logItemOpenedEvent({openType:"new",fileType:"",sectionView:"createNew",ucAction:"emptyState"}),riotctrl.trigger("createButtonNewdocs"))},this.on("mount unmount",function(t){"mount"===t?(riotctrl.on("update-i18n-retro",this.updateI18n,this),riotctrl.on("resize-breakpoint-retro",this.recalc,this),riotctrl.on("play-all-media",this.playMedia,this),riotctrl.on("pause-all-media",this.pauseMedia,this),riotctrl.on("tab-change",this.pauseMedia,this)):"unmount"===t&&(riotctrl.off("update-i18n-retro",this.updateI18n,this),riotctrl.off("resize-breakpoint-retro",this.recalc,this),riotctrl.off("play-all-media",this.playMedia,this),riotctrl.off("pause-all-media",this.pauseMedia,this),riotctrl.off("tab-change",this.pauseMedia,this),this.off("*"))}),this.updateI18n=function(){e.hostID=iaw.store.get(["host","hostID"]),"MUSE"!==e.hostID?(e.titleText=iaw.i18n.getLocalizedString("empty_recentfile_title"),e.subtitleText=iaw.i18n.getLocalizedString("empty_recentfile_subtitle"),e.newFileText=iaw.i18n.getLocalizedString("empty_recentfile_new_sub"),e.presetText=iaw.i18n.getLocalizedString("empty_recentfile_ccfiles_sub"),e.btnNewLabel=iaw.i18n.getLocalizedString("empty_recentfile_cta_new"),e.btnPresetLabel=iaw.i18n.getLocalizedString("empty_recentfile_cta_ccfiles")):(e.titleText=iaw.i18n.getLocalizedString("empty_recentfile_title_MUSE"),e.subtitleText=iaw.i18n.getLocalizedString("empty_recentfile_subtitle_MUSE"),e.btnNewLabel=iaw.i18n.getLocalizedString("empty_recentfile_button_startnow"),"en_US"===iaw.store.get(["host","language"])&&(e.videoURL=iaw.store.get(["host","tabs","recentfile","videoURL"]),e.videoURL||(e.videoURL=null)),e.videoHeroURL=iaw.store.get(["host","tabs","recentfile","videoHeroURL"]),e.videoHeroURL||(e.videoHeroURL="./images/empty-state/video-hero-MUSE.jpg")),e.update()},this.recalc=function(t,i){e.update()},this.pauseMedia=function(){var t=document.getElementById("video-elem");t&&!t.paused&&t.pause()},this.playMedia=function(){var t=document.getElementById("video-elem");t&&t.paused&&t.play()},this.onPlay=function(){iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-section",eventAction:"click",ucAction:"video-start"})},this.onPause=function(){iaw.analytics.ingest.logMiscellaneousEvent({eventType:"uc-section",eventAction:"click",ucAction:"video-stop"})}}),riot.tag2("tab-recentfile",'<div if="{!fileListEmpty && fileView === \'list\'}"><file-table></file-table></div><div if="{!fileListEmpty && fileView === \'grid\'}" class="grid grid--gutter"><file-grid></file-grid></div><empty-recentfile if="{fileListEmpty}"></empty-recentfile>',"","",function(t){var e=this;this.tabType="recentfile",this.fileListEmpty=!1,this.fileView="grid",this.isCurrentListEmpty=function(){var t=iaw.store.get(["host","tabs",e.tabType])||null;return!t||!t.list||0===t.list.length},this.on("mount unmount",function(t){if("mount"===t){var e=iaw.store.get(["host","tabs",this.tabType])||null;this.fileListEmpty=this.isCurrentListEmpty(),this.fileView=iaw.localstorage.getUserItem(this.tabType+".lastTabView")||"grid","list"!==this.fileView||e.listViewEnabled?"grid"!==this.fileView||e.thumbnailViewEnabled||(this.fileView="list"):this.fileView="grid",iaw.localstorage.setUserItem(e.type+".lastTabView",this.fileView),riot.mount("#js-tab-nav","file-view-toggle"),riotctrl.on("update-mru-list",this.onListUpdate,this),riotctrl.on("file-view-change",this.onViewChange,this),riotctrl.trigger("file-view-change",this.fileView)}else"unmount"===t&&(riotctrl.off("update-mru-list",this.onListUpdate,this),riotctrl.off("file-view-change",this.onViewChange,this),this.off("*"))}),this.onListUpdate=function(){e.fileListEmpty=e.isCurrentListEmpty(),e.update()},this.onViewChange=function(t){e.fileView=t,e.update()}}),riot.tag2("tabs",'<div class="iaw-tabs__tab-bar" role="tablist"><a role="tab" aria-selected="{tab.active ? \'true\' : \'false\'}" tabindex="{tab.active ? \'0\' : \'-1\'}" onclick="{parent.click}" onkeydown="{parent.keydown}" class="iaw-tab {iaw-tab_active: tab.active}" each="{tab in tabs}" content="{tab}" aria-controls="{parent.ariaControlsId}"><span>{tab.name}</span></a><div class="iaw-tabs__line" role="presentation"></div></div>',"",'class="iaw-tabs"',function(t){var e=this;this.tabs=[],this.restoreFocus=!1,this.ariaControlsId,this.updateLine=function(){var t=document.getElementsByClassName("iaw-tabs__line")[0],i=document.getElementsByClassName("iaw-tab_active")[0];i&&(t&&i&&(t.style.top=i.offsetTop+"px"),e.restoreFocus&&(e.restoreFocus=!1,i.focus()))},this.switchTab=function(t){var i,a;for(i=0;a=e.tabs[i];i++)a.id===t?a.active=!0:a.active=!1;iaw.localstorage.setUserItem(iaw.store.get(["host","displayMode"])+"_lastTab",t.toLowerCase()),e.update(),riotctrl.trigger("tab-change",t)},this.updateDocumentTitle=function(t){var e=iaw.store.get(["host","hostID"]),i=iaw.i18n.getLocalizedString("product_title_"+e);document.title=i+": "+t},this.click=function(t){var i=t.item.tab.id.toLowerCase();e.restoreFocus=!0,e.switchTab(i)},this.keydown=function(t){var e,i=t.keyCode,a=event.target,s=a.parentNode.getElementsByClassName("iaw-tab");switch(i){case iaw.a11y.Keys.END:e=s[s.length-1];break;case iaw.a11y.Keys.HOME:e=s[0];break;case iaw.a11y.Keys.LEFT:case iaw.a11y.Keys.UP:e=a.previousSibling;break;case iaw.a11y.Keys.RIGHT:case iaw.a11y.Keys.DOWN:e=a.nextSibling}return e&&"A"===e.tagName&&e.click(),!0},this.on("updated",function(t){var e;this.updateLine(),document.contains(this.root)?(e=this.root.parentNode.nextSibling,e&&e.matches(".grid-cell.scroll-container")&&(this.ariaControlsId||(e.id||(e.id="tabpanel-"+this._riot_id+"-0"),this.ariaControlsId=e.id,e.setAttribute("role","tabpanel")))):(e=document.getElementById(this.ariaControlsId),e&&"tabpanel"===e.getAttribute("role")&&(e.removeAttribute("role"),this.ariaControlsId=null))}),this.on("mount unmount",function(t){"mount"===t?(riotctrl.on("update-cards-retro",this.updateTabs,this),riotctrl.on("update-i18n-retro",this.updateTabs,this),riotctrl.on("change-active-tab",this.switchTab,this)):"unmount"===t&&(riotctrl.off("update-cards-retro",this.updateTabs),riotctrl.off("update-i18n-retro",this.updateTabs),riotctrl.off("change-active-tab",this.switchTab))}),this.updateTabs=function(){var t=iaw.store.get(["host","displayMode"]),i=iaw.localstorage.getUserItem(t+"_lastTab")||iaw.store.get(["host","defaultTab"]);0!==iaw.util.currentBreakPoint&&"openDoc"!==t||(i="recentfile");var a=iaw.store.get(["host","tabs"]);e.tabs.length=0;for(var s in a){var o=iaw.i18n.getLocalizedString(a[s].label),n={id:a[s].type,name:""!==o?o:a[s].label,active:!1};e.tabs.push(n)}e.switchTab(i)}});